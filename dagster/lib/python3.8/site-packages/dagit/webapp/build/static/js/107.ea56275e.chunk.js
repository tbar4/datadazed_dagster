"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[107],{25496:function(e,n,t){t.d(n,{V:function(){return u}});var r=t(19065),i=t(47427),o=t(57994),a=t(98907),s=t(92334),l=function(){function e(n){var t=this;(0,o.Z)(this,e),this.itemNameMap={},n.forEach((function(e){return t.itemNameMap[e.name]=e}))}return(0,a.Z)(e,[{key:"itemNamed",value:function(e){return this.itemNameMap[e]}},{key:"traverse",value:function(e,n,t){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i[e.name]=e,t>0&&n(e,(function(e){e.name in i||r.traverse(e,n,t-1,i)})),Object.values(i)}},{key:"fetchUpstream",value:function(e,n){var t=this;return this.traverse(e,(function(e,n){return e.inputs.forEach((function(e){return e.dependsOn.forEach((function(e){var r=t.itemNamed(e.solid.name);r&&n(r)}))}))}),n)}},{key:"fetchDownstream",value:function(e,n){var t=this;return this.traverse(e,(function(e,n){return e.outputs.forEach((function(e){return e.dependedBy.forEach((function(e){var r=t.itemNamed(e.solid.name);r&&n(r)}))}))}),n)}}]),e}();function c(e){return e.includes("*")?Number.MAX_SAFE_INTEGER:e.length}function u(e,n){if("*"===n)return{all:e,applyingEmptyDefault:!1,focus:[]};if(""===n)return{all:e.length>=100?[]:e,applyingEmptyDefault:e.length>=100,focus:[]};var t,o=new l(e),a=new Set,u=n.split(/(,| AND | and | )/g),d=new Set,p=(0,i.Z)(u);try{var h=function(){var n=t.value,l=/(\*?\+*)([.\w\d>\[\?\]\"_\/-]+)(\+*\*?)/.exec(n.trim());if(!l)return"continue";var u,p=(0,r.Z)(l,4),h=p[1],f=p[2],m=p[3],x=e.filter((function(e){return(0,s.Gm)(f.replace(/\"/g,""))?e.name.startsWith((0,s.pr)(f.replace(/\"/g,""))):/\".*\"/.test(f)?e.name===f.replace(/\"/g,""):e.name.includes(f)})),g=(0,i.Z)(x);try{for(g.s();!(u=g.n()).done;){var y=u.value,v=c(h),j=c(m);d.add(y),a.add(y),o.fetchUpstream(y,v).forEach((function(e){return a.add(e)})),o.fetchDownstream(y,j).forEach((function(e){return a.add(e)}))}}catch(w){g.e(w)}finally{g.f()}};for(p.s();!(t=p.n()).done;)h()}catch(f){p.e(f)}finally{p.f()}return{all:Array.from(a),focus:Array.from(d),applyingEmptyDefault:!1}}},9429:function(e,n,t){t.d(n,{m:function(){return i}});var r=t(325),i=function(){var e=navigator.clipboard,n=r.useRef(null);return r.useEffect((function(){return e||(n.current=document.createElement("input"),n.current.style.position="fixed",n.current.style.top="-10000px",document.body.appendChild(n.current)),function(){n.current&&document.body.removeChild(n.current)}}),[e]),r.useCallback((function(t){e?e.writeText(t):n.current&&(n.current.value=t,n.current.select(),document.execCommand("copy"))}),[e])}},16521:function(e,n,t){t.d(n,{K:function(){return r},R:function(){return i}});var r="result",i=function(e){return e.solid.name!==r?"".concat(e.solid.name,":").concat(e.definition.name):e.solid.name}},96391:function(e,n,t){t.d(n,{B:function(){return l}});var r=t(922),i=t(7838),o=t(325),a=t(39061),s=t(32289),l=function(e){var n=e.edges,t=e.highlighted;return(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(c,{color:i.w.KeylineGray,edges:n}),(0,s.jsx)(c,{color:i.w.Blue500,edges:n.filter((function(e){var n=e.fromId,r=e.toId;return t===n||t===r}))})]})},c=o.memo((function(e){var n=e.edges,t=e.color;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("defs",{children:(0,s.jsx)("marker",{id:"arrow".concat(btoa(t)),viewBox:"0 0 8 10",refX:"1",refY:"5",markerUnits:"strokeWidth",markerWidth:"4",orient:"auto",children:(0,s.jsx)("path",{d:"M 0 0 L 8 5 L 0 10 z",fill:t})})}),n.map((function(e,n){return(0,s.jsx)(u,{d:(0,a.cD)({source:e.from,target:e.to}),stroke:t,markerEnd:"url(#arrow".concat(btoa(t),")")},n)}))]})})),u=(0,r.ZP)("path").withConfig({displayName:"AssetEdges__StyledPath",componentId:"sc-8vtmfp-0"})(["stroke-width:4;fill:none;"])},19339:function(e,n,t){t.d(n,{OK:function(){return Se},CZ:function(){return ke}});var r,i,o,a,s=t(47427),l=t(59019),c=t(85358),u=t(19065),d=t(95764),p=t(922),h=t(95550),f=t.n(h),m=t(89646),x=t(17912),g=t(50346),y=t(32030),v=t(51550),j=t.n(v),w=t(58891),b=t.n(w),k=t(40839),S=t.n(k),C=t(325),N=t(19102),E=t(60445),_=t(85532),I=t(76867),Z=t(66956),T=t(2112),P=t(19910),R=t(55752),O=t(65164),D=t(50741),L=t(96391),A=t(99500),F=t(73701),M=t(3159),z=t(12436),G=t(57872),K=t(80339),U=t(37099),B=t(32289),$=function(e){var n=e.pipelineSelector,t=(0,F.a)(V,{fetchPolicy:"cache-and-network",partialRefetch:!0,variables:{pipelineSelector:n}}),r=n.repositoryName,i=n.repositoryLocationName,o=(0,U.k)(r,i);return(0,B.jsx)(D.g,{queryResult:t,children:function(e){var n=e.pipelineSnapshotOrError;return"PipelineSnapshot"!==n.__typename?(0,B.jsx)(G.Q,{isGraph:!0,result:n}):(0,B.jsx)(K.S,{container:n,repoAddress:o})}})},V=(0,M.Ps)(r||(r=(0,A.Z)(["\n  query AssetGraphSidebarQuery($pipelineSelector: PipelineSelector!) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        ...SidebarRootContainerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),K.q,z.Bq),q=t(9),H=t(7748),W=t(38376),J=t(34595),Y=t(7838),Q=t(71725),X=t(89279),ee=t(74549),ne=t(34449),te=t(61460),re=t(25466),ie=t(7713),oe=t(95609),ae=t(77171),se=t(33208),le=t(4735),ce=t(10922),ue=t(53857),de=t(53218),pe=t(39061),he=function(e){var n,t,r,i=e.assetKey,o=e.liveData,a=(0,oe.d)([i]),s=(0,F.a)(ye,{variables:{assetKey:{path:i.path}},fetchPolicy:"cache-and-network"}).data,l=(o||{}).lastMaterialization,c="AssetNode"===(null===s||void 0===s?void 0:s.assetNodeOrError.__typename)?s.assetNodeOrError:null;if(!c)return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(me,{assetKey:i}),(0,B.jsx)(y.x,{padding:{vertical:64},children:(0,B.jsx)(J.$,{purpose:"section"})})]});var u=(0,U.k)(c.repository.name,c.repository.location.name),d=(0,ie.U6)(c),p=d.assetMetadata,h=d.assetType,f=h||p.length>0,m=null===(n=c.configField)||void 0===n?void 0:n.configType,x=(null===(t=c.op)||void 0===t?void 0:t.metadata)&&(0,de.D)(c.op.metadata);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(me,{assetKey:i,opName:null===(r=c.op)||void 0===r?void 0:r.name}),(0,B.jsx)(te.N,{assetKey:i,loadedFromRepo:u,padded:!1}),(0,B.jsx)(re.s,{assetKey:i,assetLastMaterializedAt:null===l||void 0===l?void 0:l.timestamp,assetHasDefinedPartitions:!!c.partitionDefinition,asSidebarSection:!0,liveData:o,paramsTimeWindowOnly:!1,params:{},setParams:function(){}}),(0,B.jsx)("div",{style:{borderBottom:"2px solid ".concat(Y.w.Gray300)}}),(c.description||(null===x||void 0===x?void 0:x.SidebarComponent)||!f)&&(0,B.jsxs)(ue.pC,{title:"Description",children:[(0,B.jsx)(y.x,{padding:{vertical:16,horizontal:24},children:(0,B.jsx)(ce.d,{description:c.description||"No description provided."})}),c.op&&(null===x||void 0===x?void 0:x.SidebarComponent)&&(0,B.jsx)(x.SidebarComponent,{definition:c.op,repoAddress:u})]}),m&&(0,B.jsx)(ue.pC,{title:"Config",children:(0,B.jsx)(y.x,{padding:{vertical:16,horizontal:24},children:(0,B.jsx)(Q.L,{type:m,typesInScope:m.recursiveConfigTypes})})}),p.length>0&&(0,B.jsx)(ue.pC,{title:"Metadata",children:(0,B.jsx)(ie.mQ,{assetMetadata:p})}),h&&(0,B.jsx)(fe,{assetType:h}),c.partitionDefinition&&(0,B.jsx)(ue.pC,{title:"Partitions",children:(0,B.jsxs)(y.x,{padding:{vertical:16,horizontal:24},flex:{direction:"column",gap:16},children:[(0,B.jsx)("p",{children:c.partitionDefinition}),(0,B.jsx)(oe.m,{assetKey:c.assetKey,data:a})]})})]})},fe=function(e){var n=e.assetType;return(0,B.jsx)(ue.pC,{title:"Type",children:(0,B.jsx)(se.Ot,{type:n})})},me=function(e){var n=e.assetKey,t=e.opName,r=(0,pe.ll)(n);return(0,B.jsxs)(y.x,{flex:{gap:4,direction:"column"},margin:{left:24,right:12,vertical:16},children:[(0,B.jsxs)(ue.R8,{style:{marginBottom:0,display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[(0,B.jsx)(y.x,{children:r}),r!==t?(0,B.jsxs)(y.x,{style:{opacity:.5},flex:{gap:6,alignItems:"center"},children:[(0,B.jsx)(X.JO,{name:"op",size:16}),t]}):void 0]}),(0,B.jsxs)(xe,{to:(0,ae.p)(n),children:["View in Asset Catalog ",(0,B.jsx)(X.JO,{name:"open_in_new",color:Y.w.Link})]})]})},xe=(0,p.ZP)(ee.rU).withConfig({displayName:"SidebarAssetInfo__AssetCatalogLink",componentId:"qra0a8-0"})(["display:flex;gap:5px;padding:6px;margin:-6px;align-items:center;white-space:nowrap;"]),ge=(0,M.Ps)(i||(i=(0,A.Z)(["\n  fragment SidebarAssetFragment on AssetNode {\n    id\n    description\n    ...AssetNodeConfigFragment\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    partitionDefinition\n    assetKey {\n      path\n    }\n    op {\n      name\n      description\n      metadata {\n        key\n        value\n      }\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n\n    ...AssetNodeOpMetadataFragment\n  }\n  ","\n  ","\n  ","\n"])),ne.r,ie.Ws,le.it),ye=(0,M.Ps)(o||(o=(0,A.Z)(["\n  query SidebarAssetQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      __typename\n      ... on AssetNode {\n        id\n        ...SidebarAssetFragment\n      }\n    }\n  }\n  ","\n"])),ge),ve=t(18819),je=t(31522);var we=(0,M.Ps)(a||(a=(0,A.Z)(["\n  query AssetForNavigationQuery($key: AssetKeyInput!) {\n    assetOrError(assetKey: $key) {\n      __typename\n      ... on Asset {\n        id\n        definition {\n          id\n          opNames\n          jobNames\n          groupName\n          repository {\n            id\n            name\n            location {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),be=t(64424),ke=.5,Se=function(e){var n=(0,ve.u)(e.explorerPath.opsQuery,e.fetchOptions),t=n.fetchResult,r=n.assetGraphData,i=n.graphQueryItems,o=n.graphAssetKeys,a=n.allAssetKeys,s=n.applyingEmptyDefault,l=(0,be.l)(o),c=l.liveResult,u=l.liveDataByNode,p=(0,N.C4)(c,N.dT);return(0,R.Qs)(c.refetch),(0,B.jsx)(D.g,{allowStaleData:!0,queryResult:t,children:function(){return r&&a?(0,pe.vm)(r)?(0,B.jsx)(m.t,{icon:"error",title:"Cycle detected",description:"Assets dependencies form a cycle"}):(0,B.jsx)(Ce,(0,d.Z)({assetGraphData:r,allAssetKeys:a,graphQueryItems:i,applyingEmptyDefault:s,liveDataRefreshState:p,liveDataByNode:u},e),e.explorerPath.pipelineName):(0,B.jsx)(m.t,{icon:"error",title:"Query Error"})}})},Ce=function(e){var n=e.options,t=e.setOptions,r=e.explorerPath,i=e.onChangeExplorerPath,o=e.onNavigateToForeignNode,a=e.liveDataRefreshState,s=e.liveDataByNode,p=e.assetGraphData,h=e.graphQueryItems,m=e.applyingEmptyDefault,v=e.fetchOptions,w=function(){var e=(0,je.x)();return C.useCallback(function(){var n=(0,c.Z)(f().mark((function n(t){var r,i,o;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.query({query:we,variables:{key:t}});case 2:if(r=n.sent,"Asset"!==(null===(i=r.data)||void 0===i?void 0:i.assetOrError.__typename)||null===i||void 0===i||!i.assetOrError.definition){n.next=7;break}return o=i.assetOrError.definition,n.abrupt("return",{assetKey:t,opNames:o.opNames,jobName:o.jobNames.find((function(e){return!(0,pe.pv)(e)}))||null,groupName:o.groupName,repoAddress:o.repository?(0,U.k)(o.repository.name,o.repository.location.name):null});case 7:return n.abrupt("return",{assetKey:t,opNames:[],jobName:null,groupName:null,repoAddress:null});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e])}(),k=C.useState(null),R=(0,u.Z)(k,2),D=R[0],A=R[1],F=r.opNames[r.opNames.length-1].split(","),M=Object.values(p.nodes).filter((function(e){return F.includes((0,pe.Je)(e.definition.assetKey))})),z=M[M.length-1],G=(0,I.oJ)(p),K=G.layout,V=G.loading,J=G.async,Y=C.useRef(),Q=C.useCallback(function(){var e=(0,c.Z)(f().mark((function e(n,t,a){var s,c,u,h,m,x,g,y;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),s=(0,pe.Je)(t),c=null===a||void 0===a?void 0:a.definition){e.next=9;break}return e.t0=o,e.next=7,w(t);case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:u=s,(n.shiftKey||n.metaKey)&&(h=[s],n.shiftKey&&z&&a&&(m=_e({graph:p,from:z,to:a})).length&&(h=m),x=r.opNames[0].split(","),u=(x.includes(s)?S()(x,s):b()([].concat((0,l.Z)(x),(0,l.Z)(h)))).join(",")),(g=null===K||void 0===K?void 0:K.nodes[u[u.length-1]])&&(null===(y=Y.current)||void 0===y||y.zoomToSVGCoords(g.bounds.x,g.bounds.y,!0)),i((0,d.Z)((0,d.Z)({},r),{},{opNames:[u],opsQuery:c?r.opsQuery:"".concat(r.opsQuery,',++"').concat(s,'"++'),pipelineName:r.pipelineName}),"replace");case 14:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),[r,i,o,w,z,p,K]),X=C.useState(null),ee=(0,u.Z)(X,2),ne=ee[0],te=ee[1],re=ne!==K;C.useEffect((function(){re&&K&&Y.current&&(z?(Y.current.zoomToSVGBox(K.nodes[z.id].bounds,!1),Y.current.focus()):Y.current.autocenter(!1),te(K))}),[re,z,K,Y]);return(0,B.jsx)(x.OS,{identifier:"explorer",firstInitialPercent:70,firstMinSize:400,first:(0,B.jsxs)(B.Fragment,{children:[0===h.length?(0,B.jsx)(P.LS,{nodeType:"asset",isGraph:!0}):m?(0,B.jsx)(P.K4,{nodeType:"asset"}):0===Object.keys(p.nodes).length?(0,B.jsx)(P.VQ,{nodeType:"asset"}):void 0,V||!K?(0,B.jsx)(P.W_,{async:J,nodeType:"asset"}):(0,B.jsx)(_.l,{ref:function(e){return Y.current=e||void 0},interactor:_.l.Interactors.PanAndZoom,graphWidth:K.width,graphHeight:K.height,onClick:function(){return i((0,d.Z)((0,d.Z)({},r),{},{pipelineName:r.pipelineName,opNames:[]}),"replace")},onArrowKeyDown:function(e,n){if(K){var t=(0,d.Z)((0,d.Z)({},K),{},{nodes:j()(K.nodes,(function(e){var n;return!(null===(n=p.nodes[e.id])||void 0===n||!n.definition)}))}),r=(0,Z.mh)(t,z.id,n),i=r&&p.nodes[r];i&&Y.current&&(Q(e,i.assetKey,i),Y.current.zoomToSVGBox(K.nodes[r].bounds,!0))}},onDoubleClick:function(e){var n;null===(n=Y.current)||void 0===n||n.autocenter(!0),e.stopPropagation()},maxZoom:1.2,maxAutocenterZoom:1,children:function(e){var n=e.scale;return(0,B.jsxs)(Ne,{width:K.width,height:K.height,children:[(0,B.jsx)(L.B,{highlighted:D,edges:K.edges}),Object.values(K.groups).sort((function(e,n){return e.id.length-n.id.length})).map((function(e){return(0,B.jsx)("foreignObject",(0,d.Z)((0,d.Z)({},e.bounds),{},{children:(0,B.jsx)(q.l,{group:e,scale:n})}),e.id)})),Object.values(K.nodes).map((function(e){var t=e.id,r=e.bounds,i=p.nodes[t],o=JSON.parse(t);return(0,C.createElement)("foreignObject",(0,d.Z)((0,d.Z)({},r),{},{key:t,onMouseEnter:function(){return A(t)},onMouseLeave:function(){return A(null)},onClick:function(e){return Q(e,{path:o},i)},onDoubleClick:function(e){var n;null===(n=Y.current)||void 0===n||n.zoomToSVGBox(r,!0,1.2),e.stopPropagation()},style:{overflow:"visible"}}),i&&i.definition.opNames.length?n<ke?(0,B.jsx)(H.t$,{definition:i.definition,selected:M.includes(i)}):(0,B.jsx)(H.p4,{definition:i.definition,liveData:s[i.id],selected:M.includes(i)}):(0,B.jsx)(W.e,{assetKey:{path:o}}))}))]})}}),t&&(0,B.jsx)(T.cY,{children:(0,B.jsx)(g.X,{format:"switch",label:"View as Asset Graph",checked:n.preferAssetRendering,onChange:function(){i((0,d.Z)((0,d.Z)({},r),{},{opNames:M.length&&M[0].definition.opNames.length?M[0].definition.opNames:[]}),"replace"),t((0,d.Z)((0,d.Z)({},n),{},{preferAssetRendering:!n.preferAssetRendering}))}})}),(0,B.jsx)(y.x,{flex:{direction:"column",alignItems:"flex-end",gap:8},style:{position:"absolute",right:12,top:8},children:(0,B.jsxs)(y.x,{flex:{alignItems:"center",gap:12},children:[(0,B.jsx)(N.xi,{refreshState:a,dataDescription:"materializations"}),(0,B.jsx)(E.XE,{context:M.length?"selected":"all",assetKeys:(M.length?M:Object.values(p.nodes).filter((function(e){return!(0,pe.mX)(e.definition)}))).map((function(e){return e.assetKey})),preferredJobName:r.pipelineName})]})}),(0,B.jsxs)(T.U0,{children:[e.fetchOptionFilters,(0,B.jsx)(O.j,{items:h,value:r.opsQuery,placeholder:"Type an asset subset\u2026",onChange:function(e){return i((0,d.Z)((0,d.Z)({},r),{},{opsQuery:e}),"replace")},popoverPosition:"bottom-left"})]})]}),second:1===M.length&&M[0]?(0,B.jsx)(T.Ui,{children:(0,B.jsx)(T.zI,{children:(0,B.jsx)(he,{assetKey:M[0].assetKey,liveData:s[M[0].id]})})}):v.pipelineSelector?(0,B.jsx)(T.Ui,{children:(0,B.jsx)(T.zI,{children:(0,B.jsx)($,{pipelineSelector:v.pipelineSelector})})}):null})},Ne=p.ZP.svg.withConfig({displayName:"AssetGraphExplorer__SVGContainer",componentId:"hnrxmo-0"})(["overflow:visible;border-radius:0;"]),Ee=function(e){for(var n=e.graph,t=e.from,r=e.to,i=[t];i.length;){var o=i.pop(),a=(0,l.Z)(Object.keys(n.downstream[o.id]||{})).map((function(e){return n.nodes[e]})).filter(Boolean);if(a.some((function(e){return e.id===r.id})))return"downstream";i.push.apply(i,(0,l.Z)(a))}return"upstream"},_e=function e(n){var t=n.graph,r=n.from,i=n.to,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!r)return[];if(r.id===i.id)return(0,l.Z)(i.definition.opNames);if(0===o.length&&"upstream"===Ee({graph:t,from:r,to:i})){var a=[i,r];r=a[0],i=a[1]}var c,u=(0,l.Z)(Object.keys(t.downstream[r.id]||{})).map((function(e){return t.nodes[e]})).filter(Boolean),d=[],p=(0,s.Z)(u);try{for(p.s();!(c=p.n()).done;){var h=c.value;if(!o.includes(h.id)){var f=e({graph:t,from:h,to:i},[].concat((0,l.Z)(o),[r.id]));f.length&&d.push.apply(d,(0,l.Z)(r.definition.opNames).concat((0,l.Z)(f)))}}}catch(m){p.e(m)}finally{p.f()}return b()(d)}},9:function(e,n,t){t.d(n,{l:function(){return f}});var r=t(922),i=t(12745),o=t(89279),a=t(32030),s=t(7838),l=(t(325),t(74549)),c=t(76341),u=t(37099),d=t(25582),p=t(19339),h=t(32289),f=function(e){var n=e.group,t=e.scale,r=n.repositoryLocationName,f=n.repositoryDisambiguationRequired,g=n.repositoryName,y=n.groupName;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(i.fv,{style:{opacity:t>p.CZ?(t-p.CZ)/.2:0,fontWeight:600,display:"flex",gap:6},children:[(0,h.jsx)(o.JO,{name:"asset_group",size:20}),(0,h.jsxs)(a.x,{flex:{direction:"column"},children:[(0,h.jsx)(l.rU,{style:{color:s.w.Gray900},onClick:function(e){return e.stopPropagation()},to:(0,d.rO)(g,r,"/asset-groups/".concat(y)),children:y}),f&&(0,h.jsx)(x,{children:(0,c.R9)((0,u.i)(g,r),{maxLength:45})})]})]}),(0,h.jsx)(m,{style:{marginTop:6,height:n.bounds.height-(f?42:24)-3,border:"".concat(Math.max(2,2/t),"px dashed ").concat(s.w.Gray300),background:"rgba(223, 223, 223, ".concat(.4-.3*Math.max(0,t-p.CZ),")")}})]})},m=r.ZP.div.withConfig({displayName:"AssetGroupNode__GroupOutline",componentId:"osbgfp-0"})(["width:100%;border-radius:10px;pointer-events:none;"]),x=r.ZP.div.withConfig({displayName:"AssetGroupNode__GroupRepoName",componentId:"osbgfp-1"})(["font-size:0.8rem;line-height:0.7rem;white-space:nowrap;margin-bottom:4px;"])},7748:function(e,n,t){t.d(n,{p4:function(){return I},t$:function(){return Z},Tj:function(){return T},oR:function(){return P},zU:function(){return R},oB:function(){return H},o9:function(){return W}});var r,i,o=t(99500),a=t(922),s=t(3159),l=t(89279),c=t(32030),u=t(12745),d=t(7838),p=t(8546),h=t(11831),f=t(34595),m=t(90428),x=t.n(m),g=t(325),y=t(74549),v=t(76341),j=t(79447),w=t(47789),b=t(55752),k=t(68156),S=t(5484),C=t(33743),N=t(93523),E=t(32289),_={unstartedRunIds:[],inProgressRunIds:[],runWhichFailedToMaterialize:null,lastMaterialization:null,computeStatus:S.tn.NONE,stepKey:""},I=g.memo((function(e){var n=e.definition,t=e.selected,r=e.liveData,i=e.inAssetCatalog,o=n.opNames.length?n.opNames[0]:null,a=n.graphName||n.opNames[0]||null,s=o||"",d=n.assetKey.path[n.assetKey.path.length-1],p=r||_,h=p.lastMaterialization,f=p.computeStatus;return(0,E.jsx)(A,{children:(0,E.jsx)(F,{$selected:t,children:(0,E.jsxs)(M,{$selected:t,children:[(0,E.jsxs)(z,{children:[(0,E.jsx)("span",{style:{marginTop:1},children:(0,E.jsx)(l.JO,{name:"asset"})}),(0,E.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",marginTop:-1},children:(0,v.R9)(d,{maxLength:N.ASSET_NODE_NAME_MAX_LENGTH})}),(0,E.jsx)("div",{style:{flex:1}}),(0,E.jsx)("div",{style:{maxWidth:N.ASSET_NODE_ANNOTATIONS_MAX_WIDTH},children:(0,E.jsx)(H,{computeStatus:f})})]}),n.description&&!i&&(0,E.jsx)(B,{children:(0,C.A)(n.description).split("\n")[0]}),a&&d!==a&&(0,E.jsx)(B,{children:(0,E.jsxs)(c.x,{flex:{gap:4,alignItems:"flex-end"},style:{marginLeft:-2,overflow:"hidden"},children:[(0,E.jsx)(l.JO,{name:n.graphName?"job":"op",size:16}),(0,E.jsx)("div",{style:{minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},children:a})]})}),(0,E.jsxs)($,{children:[h?(0,E.jsxs)(V,{children:[(0,E.jsx)("span",{children:"Materialized"}),(0,E.jsx)(u.aU,{style:{textAlign:"right"},children:(0,E.jsx)(T,{runId:h.runId,event:{stepKey:s,timestamp:h.timestamp},children:(0,E.jsx)(k.v,{timestamp:Number(h.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})})})]}):(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(V,{children:[(0,E.jsx)("span",{children:"Materialized"}),(0,E.jsx)("span",{children:"\u2013"})]})}),(0,E.jsxs)(V,{children:[(0,E.jsx)("span",{children:"Latest\xa0Run"}),(0,E.jsx)(u.aU,{style:{textAlign:"right"},children:(0,E.jsx)(W,{liveData:r})})]})]}),n.computeKind&&(0,E.jsx)(w.S,{minified:!1,style:{right:-2,paddingTop:5},tags:[{label:n.computeKind,onClick:function(){window.requestAnimationFrame((function(){return document.dispatchEvent(new Event("show-kind-info"))}))}}]})]})})})}),x()),Z=function(e){var n=e.selected,t=e.definition,r=t.assetKey.path[t.assetKey.path.length-1];return(0,E.jsx)(A,{children:(0,E.jsx)(G,{$selected:n,children:(0,E.jsx)(K,{$selected:n,children:(0,E.jsx)(U,{style:{fontSize:28},children:(0,v.R9)(r,{maxLength:17})})})})})},T=function(e){var n=e.runId,t=e.children,r=e.event;return(0,E.jsx)(y.rU,{to:r?(0,b.tA)({runId:n},r):"/instance/runs/".concat(n),target:"_blank",rel:"noreferrer",children:t||(0,b.EI)({runId:n})})},P=(0,s.Ps)(r||(r=(0,o.Z)(["\n  fragment AssetNodeLiveFragment on AssetNode {\n    id\n    opNames\n    repository {\n      id\n    }\n    assetKey {\n      path\n    }\n    assetMaterializations(limit: 1) {\n      timestamp\n      runId\n    }\n  }\n"]))),R=(0,s.Ps)(i||(i=(0,o.Z)(["\n  fragment AssetNodeFragment on AssetNode {\n    id\n    graphName\n    jobNames\n    opNames\n    description\n    computeKind\n    assetKey {\n      path\n    }\n  }\n"]))),O="rgba(219, 219, 244, 1)",D="rgba(245, 245, 250, 1)",L="rgba(236, 236, 248, 1)",A=a.ZP.div.withConfig({displayName:"AssetNode__AssetInsetForHoverEffect",componentId:"ja35mc-0"})(["padding:10px 4px 2px 4px;height:100%;"]),F=a.ZP.div.withConfig({displayName:"AssetNode__AssetNodeContainer",componentId:"ja35mc-1"})(["outline:",";border-radius:6px;outline-offset:-1px;background:",";padding:4px;"],(function(e){return e.$selected?"2px dashed ".concat(j.fN.Border):"none"}),(function(e){return e.$selected?j.fN.Background:"white"})),M=a.ZP.div.withConfig({displayName:"AssetNode__AssetNodeBox",componentId:"ja35mc-2"})(["border:2px solid ",";background:",";border-radius:5px;position:relative;&:hover{box-shadow:"," inset 0px 0px 0px 1px,rgba(0,0,0,0.12) 0px 2px 12px 0px;}"],(function(e){return e.$selected?d.w.Blue500:d.w.Blue200}),L,d.w.Blue200),z=a.ZP.div.withConfig({displayName:"AssetNode__Name",componentId:"ja35mc-3"})(["display:flex;padding:4px 6px;background:",";font-family:",";border-top-left-radius:5px;border-top-right-radius:5px;font-weight:600;gap:4px;"],d.w.White,p.b.monospace),G=(0,a.ZP)(F).withConfig({displayName:"AssetNode__MinimalAssetNodeContainer",componentId:"ja35mc-4"})(["border-radius:12px;outline-offset:2px;outline-width:4px;height:100%;"]),K=(0,a.ZP)(M).withConfig({displayName:"AssetNode__MinimalAssetNodeBox",componentId:"ja35mc-5"})(["background:",";border:4px solid ",";border-radius:10px;position:relative;padding:4px;height:100%;"],d.w.White,d.w.Blue200),U=(0,a.ZP)(z).withConfig({displayName:"AssetNode__MinimalName",componentId:"ja35mc-6"})(["font-weight:600;white-space:nowrap;position:absolute;background:none;top:50%;left:50%;transform:translate(-50%,-50%);"]),B=a.ZP.div.withConfig({displayName:"AssetNode__Description",componentId:"ja35mc-7"})(["background:",";padding:4px 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-top:1px solid ",";font-size:12px;"],D,O),$=a.ZP.div.withConfig({displayName:"AssetNode__Stats",componentId:"ja35mc-8"})(["background:",";padding:4px 8px;border-top:1px solid ",";font-size:12px;line-height:20px;"],L,O),V=a.ZP.div.withConfig({displayName:"AssetNode__StatsRow",componentId:"ja35mc-9"})(["display:flex;justify-content:space-between;min-height:18px;& > span{color:",";}"],d.w.Gray600),q=a.ZP.div.withConfig({displayName:"AssetNode__UpstreamNotice",componentId:"ja35mc-10"})(["background:",";color:",";line-height:10px;font-size:11px;text-align:right;margin-top:-4px;margin-bottom:-4px;padding:2.5px 5px;margin-right:-6px;border-top-right-radius:3px;"],d.w.Yellow200,d.w.Yellow700),H=function(e){return e.computeStatus===S.tn.OUT_OF_DATE?(0,E.jsxs)(q,{children:["upstream",(0,E.jsx)("br",{}),"changed"]}):null},W=function(e){var n=e.liveData||_,t=n.lastMaterialization,r=n.unstartedRunIds,i=n.inProgressRunIds,o=n.runWhichFailedToMaterialize,a=n.stepKey;return(null===i||void 0===i?void 0:i.length)>0?(0,E.jsxs)(c.x,{flex:{gap:4,alignItems:"center"},children:[(0,E.jsx)(h.u,{content:"A run is currently rematerializing this asset.",children:(0,E.jsx)(f.$,{purpose:"body-text"})}),(0,E.jsx)(T,{runId:i[0]})]}):(null===r||void 0===r?void 0:r.length)>0?(0,E.jsxs)(c.x,{flex:{gap:4,alignItems:"center"},children:[(0,E.jsx)(h.u,{content:"A run has started that will rematerialize this asset soon.",children:(0,E.jsx)(f.$,{purpose:"body-text",stopped:!0})}),(0,E.jsx)(T,{runId:r[0]})]}):"Run"===(null===o||void 0===o?void 0:o.__typename)?(0,E.jsxs)(c.x,{flex:{gap:4,alignItems:"center"},children:[(0,E.jsx)(h.u,{content:"Run ".concat((0,b.EI)({runId:o.id})," failed to materialize this asset"),children:(0,E.jsx)(l.JO,{name:"warning",color:d.w.Red500})}),(0,E.jsx)(T,{runId:o.id})]}):t?(0,E.jsx)(T,{runId:t.runId,event:{stepKey:a,timestamp:t.timestamp}}):(0,E.jsx)("span",{children:"\u2013"})}},38376:function(e,n,t){t.d(n,{e:function(){return u}});var r=t(922),i=t(89279),o=t(7838),a=t(8546),s=t(325),l=t(39061),c=t(32289),u=s.memo((function(e){var n=e.assetKey,t=e.backgroundColor;return(0,c.jsxs)(d,{style:{backgroundColor:t},children:[(0,c.jsx)("span",{className:"label",children:(0,l.ll)(n)}),(0,c.jsx)(i.JO,{name:"open_in_new",color:o.w.Gray500})]})})),d=r.ZP.div.withConfig({displayName:"ForeignNode__ForeignNodeLink",componentId:"f3rzsb-0"})(["display:flex;padding:4px 8px 6px;line-height:30px;font-family:",";color:",";align-items:center;font-weight:600;gap:4px;&:hover .label{color:",";text-decoration:underline;}"],a.b.monospace,o.w.Gray500,o.w.Link)},93523:function(e,n,t){t.d(n,{layoutAssetGraph:function(){return d},ASSET_NODE_ANNOTATIONS_MAX_WIDTH:function(){return m},ASSET_NODE_NAME_MAX_LENGTH:function(){return x}});var r=t(47427),i=t(13357),o=t(21663),a=t.n(o),s=t(39061),l=100,c=!1,u="group__",d=function(e){var n=new i.graphlib.Graph({compound:!0});n.setGraph({rankdir:"TB",marginx:l,marginy:l,nodesep:c?20:50,edgesep:10,ranksep:c?20:50}),n.setDefaultEdgeLabel((function(){return{}}));var t,o=function(e){return[u,e.definition.repository.location.name,e.definition.repository.name,e.definition.groupName].join("__")},s=function(e){return e&&e.definition.opNames.length>0},d=Object.values(e.nodes).filter(s),m={},x=(0,r.Z)(d);try{for(x.s();!(t=x.n()).done;){var y=t.value;if(y.definition.groupName){var v=o(y);m[v]={id:v,groupName:y.definition.groupName,repositoryName:y.definition.repository.name,repositoryLocationName:y.definition.repository.location.name,repositoryDisambiguationRequired:!1,bounds:{x:0,y:0,width:0,height:0}}}}}catch(R){x.e(R)}finally{x.f()}var j=Object.keys(m).length>1;j&&Object.keys(m).forEach((function(e){return n.setNode(e,{})})),d.forEach((function(e){var t=g(e.definition),r=t.width,i=t.height;n.setNode(e.id,{width:c?230:r,height:i}),j&&e.definition.groupName&&n.setParent(e.id,o(e))}));var w={};Object.keys(e.downstream).forEach((function(t){Object.keys(e.downstream[t]).forEach((function(r){(s(e.nodes[r])||s(e.nodes[t]))&&(n.setEdge({v:t,w:r},{weight:1}),s(e.nodes[r])?s(e.nodes[t])||(w[t]=!0):w[r]=!0)}))})),Object.keys(w).forEach((function(e){n.setNode(e,p(e))})),i.layout(n);var b=0,k=0,S={};if(n.nodes().forEach((function(e){var t=n.node(e);if(t){var r={x:t.x-t.width/2,y:t.y-t.height/2,width:t.width,height:t.height};e.startsWith(u)||(S[e]={id:e,bounds:r}),b=Math.max(b,t.x+t.width/2),k=Math.max(k,t.y+t.height/2)}})),j){var C,N=(0,r.Z)(d);try{for(N.s();!(C=N.n()).done;){var E=C.value;if(E.definition.groupName){var _=o(E);m[_].bounds=0===m[_].bounds.width?S[E.id].bounds:f(m[_].bounds,S[E.id].bounds)}}}catch(R){N.e(R)}finally{N.f()}for(var I=0,Z=Object.values(m);I<Z.length;I++){var T=Z[I];T.bounds=h(T.bounds,{x:15,top:30,bottom:15})}}Object.values(a()(Object.values(m),(function(e){return e.groupName}))).filter((function(e){return e.length>1})).flat().forEach((function(e){e.bounds.y-=18,e.bounds.height+=18,e.repositoryDisambiguationRequired=!0}));var P=[];return n.edges().forEach((function(e){var t=n.edge(e).points;P.push({from:t[0],fromId:e.v,to:t[t.length-1],toId:e.w})})),{nodes:S,edges:P,width:b+l,height:k+l,groups:j?m:{}}},p=function(e){var n=JSON.parse(e);return{width:8*(0,s.ll)({path:n}).length+30,height:30}},h=function(e,n){return{x:e.x-n.x,y:e.y-n.top,width:e.width+2*n.x,height:e.height+n.top+n.bottom}},f=function(e,n){var t=Math.min(e.x,n.x),r=Math.min(e.y,n.y);return{x:t,y:r,width:Math.max(e.x+e.width,n.x+n.width)-t,height:Math.max(e.y+e.height,n.y+n.height)-r}},m=65,x=32,g=function(e){var n=100;e.description&&(n+=25);var t=e.graphName||e.opNames[0]||null,r=e.assetKey.path[e.assetKey.path.length-1];return t&&r!==t&&(n+=25),{width:Math.max(200,8*Math.min(x,r.length))+20+m,height:n}}},18819:function(e,n,t){t.d(n,{u:function(){return v},B:function(){return b}});var r,i=t(99500),o=t(59019),a=t(47427),s=t(73701),l=t(3159),c=t(21663),u=t.n(c),d=t(18961),p=t.n(d),h=t(24083),f=t.n(h),m=t(325),x=t(25496),g=t(7748),y=t(39061);function v(e,n){var t,r=(0,s.a)(k,{notifyOnNetworkStatusChange:!0,variables:{pipelineSelector:n.pipelineSelector,groupSelector:n.groupSelector}}),i=null===(t=r.data)||void 0===t?void 0:t.assetNodes,o=m.useMemo((function(){if(void 0===i)return{graphAssetKeys:[],graphQueryItems:[],assetGraphData:null,applyingEmptyDefault:!1};var t=i;n.hideNodesMatching&&(t=f()(t,n.hideNodesMatching));var r=j(t),o=(0,x.V)(r,e),a=o.all,s=o.applyingEmptyDefault,l=(0,y.VZ)(a.map((function(e){return e.node})));return n.hideEdgesToNodesOutsideQuery&&w(l,i),{allAssetKeys:t.map((function(e){return e.assetKey})),graphAssetKeys:a.map((function(e){return{path:e.node.assetKey.path}})),assetGraphData:l,graphQueryItems:r,applyingEmptyDefault:s}}),[i,e,n.hideEdgesToNodesOutsideQuery,n.hideNodesMatching]);return{fetchResult:r,assetGraphData:o.assetGraphData,graphQueryItems:o.graphQueryItems,graphAssetKeys:o.graphAssetKeys,allAssetKeys:o.allAssetKeys,applyingEmptyDefault:o.applyingEmptyDefault}}var j=function(e){var n,t={},r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=(0,y.Je)(i.assetKey);t[o]={node:i,name:o,inputs:i.dependencyKeys.map((function(e){return{dependsOn:[{solid:{name:(0,y.Je)(e)}}]}})),outputs:i.dependedByKeys.map((function(e){return{dependedBy:[{solid:{name:(0,y.Je)(e)}}]}}))}}}catch(s){r.e(s)}finally{r.f()}return Object.values(t)},w=function(e,n){for(var t=u()(n,(function(e){return(0,y.Wu)(e.assetKey)})),r=function(e){return!!t[e]},i=0,o=Object.keys(e.upstream);i<o.length;i++)for(var a=o[i],s=0,l=Object.keys(e.upstream[a]);s<l.length;s++){var c=l[s];!e.nodes[c]&&r(a)&&(delete e.upstream[a][c],delete e.downstream[c][a])}for(var d=0,p=Object.keys(e.downstream);d<p.length;d++)for(var h=p[d],f=0,m=Object.keys(e.downstream[h]);f<m.length;f++){var x=m[f];!e.nodes[x]&&r(h)&&(delete e.upstream[x][h],delete e.downstream[h][x])}},b=function(e,n){var t=p()(e,(function(e){return e.name})),r=t[(0,y.Je)(n)];if(!r)return{upstream:0,downstream:0};return{upstream:function e(n,r){var i=n.flatMap((function(e){return e.dependsOn.map((function(e){return e.solid.name}))})).map((function(e){return t[e].inputs}));return Math.max.apply(Math,[r].concat((0,o.Z)(i.map((function(n){return e(n,r+1)})))))}(r.inputs,0),downstream:function e(n,r){var i=n.flatMap((function(e){return e.dependedBy.map((function(e){return e.solid.name}))})).map((function(e){return t[e].outputs}));return Math.max.apply(Math,[r].concat((0,o.Z)(i.map((function(n){return e(n,r+1)})))))}(r.outputs,0)}},k=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query AssetGraphQuery($pipelineSelector: PipelineSelector, $groupSelector: AssetGroupSelector) {\n    assetNodes(pipeline: $pipelineSelector, group: $groupSelector) {\n      id\n      groupName\n      repository {\n        id\n        name\n        location {\n          id\n          name\n        }\n      }\n      dependencyKeys {\n        path\n      }\n      dependedByKeys {\n        path\n      }\n      ...AssetNodeFragment\n    }\n  }\n  ","\n"])),g.zU)},64424:function(e,n,t){t.d(n,{l:function(){return u}});var r,i=t(99500),o=t(73701),a=t(3159),s=t(325),l=t(7748),c=t(39061);function u(e){var n=(0,o.a)(d,{skip:0===e.length,variables:{assetKeys:e},notifyOnNetworkStatusChange:!0}),t=s.useMemo((function(){return n.data?(0,c.Qg)(n.data):{}}),[n.data]);return{liveResult:n,liveDataByNode:t,assetKeys:e}}var d=(0,a.Ps)(r||(r=(0,i.Z)(["\n  query AssetGraphLiveQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys, loadMaterializations: true) {\n      id\n      ...AssetNodeLiveFragment\n    }\n    assetsLatestInfo(assetKeys: $assetKeys) {\n      assetKey {\n        path\n      }\n      computeStatus\n      unstartedRunIds\n      inProgressRunIds\n      latestRun {\n        status\n        id\n      }\n    }\n  }\n  ","\n"])),l.oR)},34449:function(e,n,t){t.d(n,{r:function(){return s}});var r,i=t(99500),o=t(3159),a=t(33774),s=(0,o.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetNodeConfigFragment on AssetNode {\n    id\n    configField {\n      name\n      isRequired\n      configType {\n        ...ConfigTypeSchemaFragment\n        recursiveConfigTypes {\n          ...ConfigTypeSchemaFragment\n        }\n      }\n    }\n  }\n  ","\n"])),a.S)},61460:function(e,n,t){t.d(n,{a:function(){return x},N:function(){return g}});var r,i=t(99500),o=t(73701),a=t(3159),s=t(32030),l=t(7838),c=t(60736),u=t(60652),d=(t(325),t(14156)),p=t(39061),h=t(37099),f=t(33902),m=t(32289),x="Multiple asset definitions found",g=function(e){var n=e.assetKey,t=e.loadedFromRepo,r=e.padded,i=(0,o.a)(y,{variables:{assetKeys:[{path:n.path}]}}).data,a=null===i||void 0===i?void 0:i.assetNodeDefinitionCollisions[0];if(!a)return(0,m.jsx)("span",{});var g=a.repositories.map((function(e){return(0,f.l)({name:e.name,location:e.location.name})}));return(0,m.jsx)(s.x,{padding:r?{vertical:16,left:24,right:12}:{},border:{side:"bottom",width:1,color:l.w.KeylineGray},children:(0,m.jsx)(c.b,{intent:"warning",title:x,description:(0,m.jsxs)(m.Fragment,{children:["This asset was loaded from ",(0,h.i)(t.name,t.location),", but duplicate definitions were found in"," ",(0,m.jsxs)(u.Z,{underline:"always",color:l.w.Yellow700,onClick:function(){return(0,d._)({title:x,body:(0,m.jsxs)(m.Fragment,{children:["Repositories containing an asset definition for"," ",(0,m.jsx)("strong",{children:(0,p.ll)(n)}),":",(0,m.jsx)("ul",{children:g.map((function(e){return(0,m.jsx)("li",{children:e},e)}))})]})})},children:[g.length-1," other repo",2===g.length?"":"s"]}),". You should rename these assets to avoid collisions."]})})})},y=(0,a.Ps)(r||(r=(0,i.Z)(["\n  query AssetDefinitionCollisionQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodeDefinitionCollisions(assetKeys: $assetKeys) {\n      assetKey {\n        path\n      }\n      repositories {\n        id\n        name\n        location {\n          id\n          name\n        }\n      }\n    }\n  }\n"])))},25466:function(e,n,t){t.d(n,{s:function(){return be}});var r,i,o,a=t(99500),s=t(95764),l=t(59019),c=t(73701),u=t(3159),d=t(32030),p=t(34595),h=t(7838),f=t(12745),m=t(87011),x=t(89646),g=t(325),y=t(4735),v=t(53857),j=t(19065),w=t(922),b=t(55113),k=t(89279),S=t(6466),C=t(60652),N=t(8358),E=t(75453),_=t(48625),I=t.n(_),Z=t(74549),T=t(55419),P=t(39061),R=t(62e3),O=t(59549),D=t(55752),L=t(76336),A=t(37099),F=t(11831),M=t(77171),z=t(32289),G=function(e){var n=e.lineage_info,t=e.timestamp,r=1===n.partitions.length?"Partition":"Partitions",i=n.partitions.map((function(e){return'"'.concat(e,'"')})).join(", "),o=(0,M.p)(n.assetKey,{asOf:t});return(0,z.jsxs)(d.x,{margin:{bottom:4},children:[n.partitions.length>0?"".concat(r," ").concat(i," of "):"",(0,z.jsx)(F.u,{content:(0,z.jsxs)(z.Fragment,{children:["View snapshot as of"," ",(0,z.jsx)(T.E,{timestamp:{ms:Number(t)},timeFormat:{showSeconds:!0,showTimezone:!0}})]}),modifiers:{offset:{enabled:!0,options:{offset:[0,16]}}},placement:"right",children:(0,z.jsx)(Z.rU,{to:o,children:(0,z.jsx)(d.x,{flex:{display:"inline-flex",alignItems:"center"},children:n.assetKey.path.map((function(e,n){return(0,z.jsx)("span",{children:e},n)})).reduce((function(e,n,t){return[].concat((0,l.Z)(e),[t>0?(0,z.jsxs)(g.Fragment,{children:["\xa0",">","\xa0"]},"".concat(t,"-space")):null,n])}),[])})})})]})},K=function(e){var n=e.elements,t=e.timestamp,r=g.useState(!0),i=(0,j.Z)(r,2),o=i[0],a=i[1];return(0,z.jsxs)("div",{children:[n.length>5&&(0,z.jsx)(C.Z,{onClick:function(){return a(!o)},children:o?"Show More":"Show Less"}),(o?n.slice(n.length-5):n).map((function(e,n){return(0,z.jsx)(G,{lineage_info:e,timestamp:t},n)}))]})},U=(0,u.Ps)(r||(r=(0,a.Z)(["\n  fragment AssetLineageFragment on AssetLineageInfo {\n    assetKey {\n      path\n    }\n    partitions\n  }\n"]))),B=function(e){var n=e.hasPartitions,t=e.hasLineage,r=e.groups,i=e.focused,o=e.setFocused;return(0,z.jsxs)(b.i,{children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[n&&(0,z.jsx)("th",{style:{minWidth:100},children:"Partition"}),(0,z.jsx)("th",{style:{minWidth:150},children:"Timestamp"}),(0,z.jsx)("th",{style:{minWidth:150},children:"Job"}),(0,z.jsx)("th",{style:{width:100},children:"Run"})]})}),(0,z.jsx)("tbody",{children:r.map((function(e){return(0,z.jsxs)(g.Fragment,{children:[(0,z.jsx)(H,{onClick:function(n){n.target instanceof HTMLElement&&n.target.closest("a")||null===o||void 0===o||o(e)},children:(0,z.jsx)(q,{group:e,hasPartitions:n,hasLineage:t,isFocused:i===e})}),i===e?(0,z.jsx)(V,{hasLineage:t,group:e}):void 0]},e.timestamp||e.partition)}))})]})},$=function(){return(0,z.jsx)("span",{style:{color:h.w.Gray400},children:"None"})},V=g.memo((function(e){var n=e.group,t=e.hasLineage,r=n.latest,i=n.timestamp;if(!r)return(0,z.jsx)("tr",{});var o="MaterializationEvent"===r.__typename?r.assetLineage:[],a="MaterializationEvent"===r.__typename?n.all.filter((function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(r.timestamp)})):[];return(0,z.jsx)("tr",{style:{background:h.w.Gray50},children:(0,z.jsxs)("td",{colSpan:6,style:{fontSize:14,padding:0},children:[r.description&&(0,z.jsx)(d.x,{padding:{horizontal:24,vertical:12},children:r.description}),r.metadataEntries.length||t?(0,z.jsx)(W,{children:(0,z.jsxs)("tbody",{children:[r.metadataEntries.map((function(e){return(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{style:{maxWidth:300},children:e.label}),(0,z.jsx)("td",{children:(0,z.jsx)(y.BL,{entry:e,expandSmallValues:!0})}),(0,z.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))})),a.map((function(e){return(0,z.jsx)(g.Fragment,{children:e.metadataEntries.map((function(n){return(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:n.label}),(0,z.jsx)("td",{children:(0,z.jsx)(y.BL,{entry:n,expandSmallValues:!0})}),(0,z.jsxs)("td",{style:{opacity:.7},children:[(0,z.jsxs)(d.x,{flex:{gap:8,alignItems:"center"},children:[(0,z.jsx)(k.JO,{name:"observation",size:16}),(0,z.jsxs)("span",{children:["".concat(e.stepKey," in "),(0,z.jsx)(Z.rU,{to:"/instance/runs/".concat(e.runId,"?timestamp=").concat(e.timestamp),children:(0,z.jsx)(f.fv,{children:(0,D.EI)({runId:e.runId})})})," (".concat(I()(Number(e.timestamp)).from(Number(i),!0)," later)")]})]}),n.description]})]},"metadata-".concat(e.timestamp,"-").concat(n.label))}))},e.timestamp)})),t&&(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"Parent Materializations"}),(0,z.jsx)("td",{children:(0,z.jsx)(K,{elements:o,timestamp:i})})]})]})}):(0,z.jsx)(d.x,{padding:{horizontal:24,vertical:12},children:"No materialization event metadata"})]})})})),q=g.memo((function(e){var n=e.group,t=e.hasPartitions,r=e.hasLineage,i=e.isFocused,o=n.latest,a=n.partition,l=n.timestamp,c=n.all,u=i?{paddingLeft:4,borderLeft:"4px solid ".concat(h.w.HighlightGreen)}:{paddingLeft:8},p="Run"===(null===o||void 0===o?void 0:o.runOrError.__typename)?o.runOrError:void 0,m=null===p||void 0===p?void 0:p.repositoryOrigin,x=m?(0,A.k)(m.repositoryName,m.repositoryLocationName):null,g=(0,L.Ux)(x);return o?p?(0,z.jsxs)(z.Fragment,{children:[t&&(0,z.jsx)("td",{style:(0,s.Z)({whiteSpace:"nowrap"},u),children:(0,z.jsxs)(S.Z,{direction:"row",spacing:2,children:[(0,z.jsx)(Y,{open:i}),a||(0,z.jsx)($,{})]})}),(0,z.jsx)("td",{style:t?{}:u,children:(0,z.jsxs)(S.Z,{direction:"row",spacing:4,children:[!t&&(0,z.jsx)(Y,{open:i}),(0,z.jsxs)(S.Z,{direction:"column",spacing:4,children:[(0,z.jsx)(T.E,{timestamp:{ms:Number(l)}}),(null===c||void 0===c?void 0:c.length)>1?(0,z.jsx)(J,{hasPartitions:t,hasLineage:r,events:c}):"MaterializationEvent"===o.__typename?(0,z.jsxs)(d.x,{flex:{gap:8,alignItems:"center"},style:{color:h.w.Gray600},children:[(0,z.jsx)(k.JO,{name:"materialization",size:16,color:h.w.Gray600}),"Materialization"]}):(0,z.jsxs)(d.x,{flex:{gap:8,alignItems:"center"},style:{color:h.w.Gray600},children:[(0,z.jsx)(k.JO,{name:"observation",size:16,color:h.w.Gray600})," Observation"]})]})]})}),(0,z.jsx)("td",{children:!(0,P.pv)(p.pipelineName)&&(0,z.jsxs)(d.x,{margin:{bottom:4},children:[(0,z.jsx)(d.x,{padding:{left:8},children:(0,z.jsx)(R.h,{showIcon:!0,pipelineName:p.pipelineName,pipelineHrefContext:x||"repo-unknown",snapshotId:p.pipelineSnapshotId,isJob:(0,L.E8)(g,p.pipelineName)})}),(0,z.jsxs)(S.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,z.jsx)(k.JO,{name:"linear_scale",color:h.w.Gray400}),(0,z.jsx)(Z.rU,{to:(0,D.tA)(p,o),children:o.stepKey})]})]})}),(0,z.jsx)("td",{children:(0,z.jsxs)(d.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,z.jsx)(O.hk,{runId:p.runId,status:p.status}),(0,z.jsx)(Z.rU,{to:"/instance/runs/".concat(p.runId,"?timestamp=").concat(l),children:(0,z.jsx)(f.fv,{children:(0,D.EI)(p)})})]})})]}):(0,z.jsx)("span",{}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("td",{style:{whiteSpace:"nowrap",paddingLeft:24},children:a||(0,z.jsx)($,{})}),(0,z.jsx)("td",{colSpan:3})]})})),H=w.ZP.tr.withConfig({displayName:"AssetEventsTable__HoverableRow",componentId:"brda4u-0"})(["&:hover{background:",";}"],h.w.Gray10),W=w.ZP.table.withConfig({displayName:"AssetEventsTable__DetailsTable",componentId:"brda4u-1"})(["width:100%;margin:-2px -2px -3px;tr td{font-size:14px;}"]),J=function(e){var n=e.hasLineage,t=e.hasPartitions,r=e.events,i=g.useState(!1),o=(0,j.Z)(i,2),a=o[0],s=o[1],l=g.useState(),c=(0,j.Z)(l,2),u=c[0],p=c[1],h=g.useMemo((function(){return r.map((function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}}))}),[r]),f=r.length;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(C.Z,{onClick:function(){return s(!0)},children:"View ".concat(f," events")}),(0,z.jsxs)(N.Vq,{isOpen:a,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return s(!1)},style:{width:"80%",minWidth:"800px"},title:function(){if(t){var e=r[0].partition;if(e)return"Materialization and observation events for ".concat(e)}return"Materialization and observation events"}(),children:[a&&(0,z.jsx)(d.x,{padding:{bottom:8},onClick:function(e){return e.stopPropagation()},children:(0,z.jsx)(B,{hasLineage:n,hasPartitions:t,focused:u,setFocused:p,groups:h})}),(0,z.jsx)(N.cN,{children:(0,z.jsx)(E.zx,{intent:"primary",onClick:function(){return s(!1)},children:"OK"})})]})]})},Y=function(e){var n=e.open,t=e.onClick;return(0,z.jsx)(Q,{onClick:t,$open:n,children:(0,z.jsx)(k.JO,{name:"arrow_drop_down",size:24})})},Q=w.ZP.button.withConfig({displayName:"AssetEventsTable__DisclosureTriangleButton",componentId:"brda4u-2"})(["padding:4px;margin:-4px;cursor:pointer;border:0;background:transparent;outline:none;","{margin:-2px -5px;transform:",";opacity:0.25;}:focus{outline:none;","{background:",";opacity:0.5;}}"],k.a1,(function(e){return e.$open?"rotate(0deg)":"rotate(-90deg)"}),k.a1,h.w.Dark),X=t(47427),ee=t(50346),ne=t(62816),te=t.n(ne),re=t(58891),ie=t.n(re),oe=t(76314),ae=t(55853),se=function(e){var n=g.useState(null),t=(0,j.Z)(n,2),r=t[0],i=t[1],o=g.useMemo((function(){return(0,l.Z)(e.groups).reverse()}),[e.groups]),a=ce(o,e.xAxis),s=Object.keys(a).slice(0,20).sort(),c=(0,oe.U)("hidden-graphs",le),u=(0,j.Z)(c,2),p=u[0],m=u[1],y=g.useCallback((function(e){m((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.includes(e)?n.filter((function(n){return n!==e})):[].concat((0,l.Z)(n),[e])}))}),[m]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"stretch",flexDirection:"column"},children:s.map((function(n){return(0,z.jsxs)(d.x,{style:{width:"100%"},border:{side:"bottom",width:1,color:h.w.KeylineGray},children:[e.asSidebarSection?(0,z.jsxs)(d.x,{padding:{horizontal:24,top:8},flex:{justifyContent:"space-between"},children:[(0,z.jsx)(f.YS,{style:{fontWeight:700},children:n}),(0,z.jsx)(ee.X,{format:"switch",checked:!p.includes(n),onChange:function(){return y(n)},size:"small"})]}):(0,z.jsxs)(d.x,{padding:{horizontal:24,vertical:16},border:{side:"bottom",width:1,color:h.w.KeylineGray},flex:{justifyContent:"space-between"},children:[(0,z.jsx)(f.pm,{children:n}),(0,z.jsx)(ee.X,{format:"switch",checked:!p.includes(n),onChange:function(){return y(n)},size:"small"})]}),p.includes(n)?void 0:(0,z.jsx)(d.x,{padding:{horizontal:24,vertical:16},children:(0,z.jsx)(ae.K,{label:n,width:"100%",data:a[n],xHover:r,onHoverX:function(e){return e!==r&&i(e)}})})]},n)}))}),0===s.length?e.asSidebarSection?(0,z.jsx)(d.x,{margin:{horizontal:24,vertical:12},style:{color:h.w.Gray500,fontSize:"0.8rem"},children:"No numeric metadata entries available to be graphed."}):(0,z.jsx)(d.x,{padding:{horizontal:24,top:64},children:(0,z.jsx)(x.t,{shrinkable:!0,icon:"linear_scale",title:"No numeric metadata",description:"Include numeric metadata entries in your materializations and observations to see data graphed by ".concat(e.xAxis,".")})}):"partition"===e.xAxis&&(0,z.jsx)(d.x,{padding:{vertical:16,horizontal:24},style:{color:h.w.Gray400},children:"When graphing values by partition, the highest data point for each materialized event label is displayed."})]})},le=function(e){return Array.isArray(e)?e:[]},ce=function(e,n){var t,r={},i=ie()(te()(e,(function(e){var n;return((null===(n=e.latest)||void 0===n?void 0:n.metadataEntries)||[]).filter((function(e){return["IntMetadataEntry","FloatMetadataEntry"].includes(e.__typename)})).map((function(e){return e.label}))}))),o=function(e,t){var i=t.x,o=t.y;if(r[e]=r[e]||{minX:0,maxX:0,minY:0,maxY:0,values:[],xAxis:n},"partition"===n){var a=r[e].values.find((function(e){return e.x===i}));if(a)return void(isNaN(o)||(a.y=o))}r[e].values.push({xNumeric:"number"===typeof i?i:r[e].values.length,x:i,y:o})},a=(0,X.Z)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value,c=s.partition,u=s.latest,d=("partition"===n?c:Number(null===u||void 0===u?void 0:u.timestamp))||null;if(null!==d){var p,h=(0,X.Z)(i);try{var f=function(){var e=p.value,n=null===u||void 0===u?void 0:u.metadataEntries.find((function(n){return n.label===e}));if(!n)return o(e,{x:d,y:NaN}),"continue";var t=NaN;"IntMetadataEntry"===n.__typename&&(t=null!==n.intValue?n.intValue:parseInt(n.intRepr)),"FloatMetadataEntry"===n.__typename&&null!==n.floatValue&&(t=n.floatValue),o(e,{x:d,y:t})};for(h.s();!(p=h.n()).done;)f()}catch(j){h.e(j)}finally{h.f()}}}}catch(j){a.e(j)}finally{a.f()}for(var m=0,x=Object.values(r);m<x.length;m++){var g=x[m],y=g.values.map((function(e){return e.xNumeric})),v=g.values.map((function(e){return e.y})).filter((function(e){return!isNaN(e)}));g.minXNumeric=Math.min.apply(Math,(0,l.Z)(y)),g.maxXNumeric=Math.max.apply(Math,(0,l.Z)(y)),g.minY=Math.min.apply(Math,(0,l.Z)(v)),g.maxY=Math.max.apply(Math,(0,l.Z)(v))}return r},ue=t(58591),de=function(e){var n=e.liveData||{},t=n.inProgressRunIds,r=void 0===t?[]:t,i=n.unstartedRunIds,o=void 0===i?[]:i;return 0===r.length&&0===o.length?null:(0,z.jsxs)(d.x,{background:h.w.Blue50,flex:{direction:"column",gap:4},border:{side:"bottom",width:1,color:h.w.Blue100},padding:{vertical:12,left:24,right:12},style:{color:h.w.Blue700,fontSize:12,fontWeight:700},children:[r.length>0&&(0,z.jsxs)(d.x,{flex:{gap:4,alignItems:"center",wrap:"wrap"},children:[r.map((function(e){return(0,z.jsx)(pe,{runId:e},e)})),(0,z.jsxs)("span",{children:[" ",1===r.length?"is":"are"," currently refreshing this asset."]})]}),o.length>0&&(0,z.jsxs)(d.x,{flex:{gap:4,alignItems:"center",wrap:"wrap"},children:[o.map((function(e){return(0,z.jsx)(pe,{runId:e},e)})),(0,z.jsxs)("span",{children:[" ",1===o.length?"has":"have"," started and will refresh this asset."]})]})]})},pe=function(e){var n=e.runId;return(0,z.jsx)(ue.m,{textColor:h.w.Blue700,fillColor:h.w.Blue50,label:(0,z.jsxs)(d.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,z.jsx)(p.$,{purpose:"caption-text"}),(0,z.jsx)(Z.rU,{to:"/instance/runs/".concat(n),children:"Run: ".concat(n.slice(0,8))})]})},n)},he=function(e){var n=e.errorBackground,t=e.children;return(0,z.jsxs)(fe,{errorBackground:n,children:[(0,z.jsx)(k.JO,{name:"warning",size:16,color:h.w.Gray700,style:{marginRight:8}}),t]})},fe=w.ZP.div.withConfig({displayName:"Warning__ErrorContainer",componentId:"ayvsmo-0"})(["border-top:1px solid ",";background:",";padding:8px 24px 8px 24px;display:flex;align-items:center;font-size:12px;"],h.w.KeylineGray,(function(e){return e.errorBackground?h.w.Red100:h.w.Gray50})),me=function(e){var n=(e.liveData||{}).runWhichFailedToMaterialize;return n?(0,z.jsx)(he,{errorBackground:!0,children:(0,z.jsxs)("span",{children:["Run"," ",(0,z.jsx)(Z.rU,{to:"/instance/runs/".concat(n.id),children:(0,D.EI)({runId:n.id})})," ","failed to materialize this asset"]})}):null},xe=function(e){var n=e.latest,t="Run"===(null===n||void 0===n?void 0:n.runOrError.__typename)?null===n||void 0===n?void 0:n.runOrError:null,r=null===t||void 0===t?void 0:t.repositoryOrigin,i=r?(0,A.k)(r.repositoryName,r.repositoryLocationName):null,o=(0,L.Ux)(i);if(!n)return(0,z.jsx)(d.x,{padding:{top:16,bottom:32},children:(0,z.jsx)(x.t,{icon:"materialization",title:"No materializations",description:"No materializations were found for this asset."})});var a=n,s=null===a||void 0===a?void 0:a.assetLineage;return(0,z.jsx)(ge,{children:(0,z.jsxs)("tbody",{children:[(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"Run"}),(0,z.jsx)("td",{children:t?(0,z.jsxs)("div",{children:[(0,z.jsxs)(d.x,{children:["Run ",(0,z.jsx)(Z.rU,{to:"/instance/runs/".concat(a.runId,"?timestamp=").concat(a.timestamp),children:(0,z.jsx)(f.fv,{children:(0,D.EI)({runId:a.runId})})})]}),!(0,P.pv)(t.pipelineName)&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(d.x,{padding:{left:8,top:4},children:(0,z.jsx)(R.h,{showIcon:!0,pipelineName:t.pipelineName,pipelineHrefContext:i||"repo-unknown",snapshotId:t.pipelineSnapshotId,isJob:(0,L.E8)(o,t.pipelineName)})}),(0,z.jsxs)(S.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,z.jsx)(k.JO,{name:"linear_scale",color:h.w.Gray400}),(0,z.jsx)(Z.rU,{to:(0,D.tA)(t,a),children:a.stepKey})]})]})]}):"No materialization events"})]}),null!==n&&void 0!==n&&n.partition?(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"Latest partition"}),(0,z.jsx)("td",{children:n?n.partition:"No materialization events"})]}):null,(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"Timestamp"}),(0,z.jsx)("td",{children:a?(0,z.jsx)(T.E,{timestamp:{ms:Number(a.timestamp)}}):"No materialization events"})]}),null!==s&&void 0!==s&&s.length?(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:"Parent assets"}),(0,z.jsx)("td",{children:(0,z.jsx)(K,{elements:s,timestamp:a.timestamp})})]}):null,null===a||void 0===a?void 0:a.metadataEntries.map((function(e){return(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:e.label}),(0,z.jsx)("td",{children:(0,z.jsx)(y.BL,{entry:e,expandSmallValues:!0})}),(0,z.jsx)("td",{children:e.description})]},"metadata-".concat(e.label))}))]})})},ge=(0,w.ZP)(b.i).withConfig({displayName:"LastMaterializationMetadata__MetadataTable",componentId:"sc-1u4xf4p-0"})(["td:first-child{white-space:nowrap;width:1px;max-width:400px;word-break:break-word;overflow:hidden;text-overflow:ellipsis;}"]),ye=((0,u.Ps)(i||(i=(0,a.Z)(["\n  fragment LatestMaterializationMetadataFragment on MaterializationEvent {\n    partition\n    runOrError {\n      ... on PipelineRun {\n        id\n        runId\n        mode\n        pipelineName\n        pipelineSnapshotId\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    assetLineage {\n      assetKey {\n        path\n      }\n      partitions\n    }\n  }\n  ","\n"])),y.it),t(21663)),ve=t.n(ye),je="__NO_PARTITION__",we=function(e,n){return Number(null===n||void 0===n?void 0:n.timestamp)-Number(null===e||void 0===e?void 0:e.timestamp)};var be=function(e){var n=e.assetKey,t=e.assetLastMaterializedAt,r=e.assetHasDefinedPartitions,i=e.asSidebarSection,o=e.params,a=e.setParams,u=e.liveData,y=o.asOf?"".concat(Number(o.asOf)+1):void 0,j=r?"partition":"time",w=r&&void 0!==o.partition?"partition":void 0!==o.time||y?"time":j,b=function(e,n,t,r){var i=n&&"partition"===t,o=(0,c.a)(ke,{variables:i?{assetKey:{path:e.path},before:r,partitionInLast:120}:{assetKey:{path:e.path},before:r,limit:100}}),a=o.data,s=o.loading,l=o.refetch;return g.useMemo((function(){var e,n="Asset"===(null===a||void 0===a?void 0:a.assetOrError.__typename)?null===a||void 0===a?void 0:a.assetOrError:null,t=(null===n||void 0===n?void 0:n.assetMaterializations)||[],r=(null===n||void 0===n?void 0:n.assetObservations)||[],o=null===n||void 0===n||null===(e=n.definition)||void 0===e?void 0:e.partitionKeys;return{asset:n,loadedPartitionKeys:i&&o?o.slice(o.length-120):void 0,materializations:t,observations:r,loading:s,refetch:l}}),[a,s,l,i])}(n,r,w,y),k=b.materializations,S=b.observations,C=b.loadedPartitionKeys,N=b.loading,E=b.refetch;g.useEffect((function(){o.asOf||E()}),[o.asOf,t,E]);var _=g.useMemo((function(){var e=[].concat((0,l.Z)(k),(0,l.Z)(S)).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)}));return"partition"===w&&C?function(e,n){var t=ve()(e,(function(e){return e.partition||je})),r=(0,l.Z)(n).reverse();return je in t&&r.push(je),r.filter((function(e){return e!==je})).map((function(e){var n=(0,l.Z)(t[e]||[]).sort(we),r=n.find((function(e){return"MaterializationEvent"===e.__typename}))||n[0]||null;return{all:n,latest:r,timestamp:null===r||void 0===r?void 0:r.timestamp,partition:e}}))}(e,C):e.map((function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}}))}),[C,k,S,w]),I=g.useMemo((function(){return new Set([w])}),[w]);if(i){var Z=k[0];return N?(0,z.jsx)(d.x,{padding:{vertical:20},children:(0,z.jsx)(p.$,{purpose:"section"})}):(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(me,{liveData:u}),(0,z.jsx)(de,{liveData:u}),(0,z.jsx)(v.pC,{title:"Materialization in Last Run",children:Z?(0,z.jsx)("div",{style:{margin:-1,maxWidth:"100%",overflowX:"auto"},children:(0,z.jsx)(xe,{latest:Z})}):(0,z.jsx)(d.x,{margin:{horizontal:24,vertical:12},style:{color:h.w.Gray500,fontSize:"0.8rem"},children:"No materializations found"})}),(0,z.jsx)(v.pC,{title:"Metadata Plots",children:(0,z.jsx)(se,{xAxis:w,asSidebarSection:!0,groups:_})})]})}var T=_.find((function(e){return o.time?Number(e.timestamp)<=Number(o.time):!!o.partition&&e.partition===o.partition}))||_[0]||null;return N?(0,z.jsxs)(d.x,{style:{display:"flex"},children:[(0,z.jsxs)(d.x,{style:{flex:1},children:[(0,z.jsx)(d.x,{flex:{justifyContent:"space-between",alignItems:"center"},padding:{vertical:16,horizontal:24},style:{marginBottom:-1},children:(0,z.jsx)(f.pm,{children:"Asset Events"})}),(0,z.jsx)(d.x,{padding:{vertical:20},children:(0,z.jsx)(p.$,{purpose:"section"})})]}),(0,z.jsx)(d.x,{style:{width:"40%"},border:{side:"left",color:h.w.KeylineGray,width:1}})]}):(0,z.jsxs)(d.x,{style:{display:"flex",flex:1},children:[(0,z.jsxs)(d.x,{style:{flex:1},children:[(0,z.jsxs)(d.x,{flex:{justifyContent:"space-between",alignItems:"center"},padding:{vertical:16,horizontal:24},style:{marginBottom:-1},children:[(0,z.jsx)(f.pm,{children:"Asset Events"}),r?(0,z.jsx)("div",{style:{margin:"-6px 0 "},children:(0,z.jsx)(m.h,{activeItems:I,buttons:[{id:"partition",label:"By partition"},{id:"time",label:"By timestamp"}],onClick:function(e){return a("time"===e?(0,s.Z)((0,s.Z)({},o),{},{partition:void 0,time:T.timestamp||""}):(0,s.Z)((0,s.Z)({},o),{},{partition:T.partition||"",time:void 0}))}})}):null]}),(0,z.jsx)(me,{liveData:u}),(0,z.jsx)(de,{liveData:u}),_.length>0?(0,z.jsx)(B,{hasPartitions:r,hasLineage:k.some((function(e){return e.assetLineage.length>0})),groups:_,focused:T,setFocused:function(e){var n="time"===w?{time:e.timestamp!==o.time?e.timestamp:""}:{partition:e.partition!==o.partition?e.partition:""};a((0,s.Z)((0,s.Z)({},o),n))}}):(0,z.jsx)(d.x,{padding:{vertical:20},border:{side:"top",color:h.w.KeylineGray,width:1},children:(0,z.jsx)(x.t,{icon:"materialization",title:"No materializations",description:"No materializations were found for this asset."})}),C&&(0,z.jsxs)(d.x,{padding:{vertical:16,horizontal:24},style:{color:h.w.Gray400},children:["Showing materializations for the last ",C.length," partitions."]}),(0,z.jsx)("div",{style:{flex:1}})]}),(0,z.jsx)(d.x,{style:{width:"40%"},border:{side:"left",color:h.w.KeylineGray,width:1},children:(0,z.jsx)(se,{xAxis:w,asSidebarSection:i,groups:_})})]})},ke=(0,u.Ps)(o||(o=(0,a.Z)(["\n  query AssetEventsQuery(\n    $assetKey: AssetKeyInput!\n    $limit: Int\n    $before: String\n    $partitionInLast: Int\n  ) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n        assetObservations(\n          limit: $limit\n          beforeTimestampMillis: $before\n          partitionInLast: $partitionInLast\n        ) {\n          ...AssetObservationFragment\n        }\n        assetMaterializations(\n          limit: $limit\n          beforeTimestampMillis: $before\n          partitionInLast: $partitionInLast\n        ) {\n          ...AssetMaterializationFragment\n        }\n\n        definition {\n          id\n          partitionKeys\n        }\n      }\n    }\n  }\n  fragment AssetMaterializationFragment on MaterializationEvent {\n    partition\n    runOrError {\n      ... on PipelineRun {\n        id\n        runId\n        mode\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n        status\n        pipelineName\n        pipelineSnapshotId\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    label\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    assetLineage {\n      ...AssetLineageFragment\n    }\n  }\n  fragment AssetObservationFragment on ObservationEvent {\n    partition\n    runOrError {\n      ... on PipelineRun {\n        id\n        runId\n        mode\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n        status\n        pipelineName\n        pipelineSnapshotId\n      }\n    }\n    runId\n    timestamp\n    stepKey\n    label\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n  }\n  ","\n  ","\n"])),y.it,U)},86655:function(e,n,t){t.d(n,{R:function(){return d}});var r=t(59019),i=t(32030),o=t(89279),a=t(7838),s=t(325),l=t(74549),c=t(77171),u=t(32289),d=function(e){var n=e.path,t=e.icon,d=e.url,p=e.isGroup,h=d||(0,c.p)({path:n});return(0,u.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex"},children:[t?(0,u.jsx)(i.x,{margin:{right:8},children:(0,u.jsx)(o.JO,{name:t,color:a.w.Gray400})}):null,(0,u.jsx)(l.rU,{to:h,children:(0,u.jsxs)("span",{style:{wordBreak:"break-word"},children:[n.map((function(e,n){return(0,u.jsx)("span",{children:e},n)})).reduce((function(e,n,t){return[].concat((0,r.Z)(e),[t>0?(0,u.jsx)(s.Fragment,{children:"\xa0/\xa0"},"".concat(t,"-space")):null,n])}),[]),p?"/":null]})})]})}},7713:function(e,n,t){t.d(n,{U6:function(){return d},mQ:function(){return p},Ws:function(){return h}});var r,i=t(99500),o=t(3159),a=t(32030),s=t(57753),l=(t(325),t(33208)),c=t(4735),u=t(32289),d=function(e){return{assetType:e.type?e.type:void 0,assetMetadata:e.metadataEntries||[]}},p=function(e){var n=e.assetMetadata.map((function(e){return{key:e.label,value:(0,u.jsx)(c.BL,{entry:e})}}));return(0,u.jsx)(a.x,{padding:{vertical:16,horizontal:24},children:(0,u.jsx)(s.nZ,{rows:n})})},h=(0,o.Ps)(r||(r=(0,i.Z)(["\n  fragment AssetNodeOpMetadataFragment on AssetNode {\n    id\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    type {\n      ...DagsterTypeFragment\n    }\n  }\n  ","\n  ","\n"])),c.it,l.rB)},1223:function(e,n,t){t.d(n,{K:function(){return x},w:function(){return g}});var r=t(95764),i=t(81034),o=t(922),a=t(33918),s=t(31112),l=t(32030),c=t(12745),u=t(89279),d=t(7838),p=t(325),h=t(74549),f=t(32289),m=["assetKey"],x=function(e){var n=e.assetKey,t=(0,i.Z)(e,m),o=p.useMemo((function(){var e=[{text:"Assets",href:"/instance/assets"}];return n.path.reduce((function(n,t){var r="".concat(n,"/").concat(encodeURIComponent(t));return e.push({text:t,href:r}),r}),"/instance/assets"),e}),[n.path]);return(0,f.jsx)(s.m,(0,r.Z)({title:(0,f.jsx)(l.x,{flex:{alignItems:"center",gap:4},style:{maxWidth:"600px",overflow:"hidden",marginBottom:4},children:(0,f.jsx)(y,{items:o,currentBreadcrumbRenderer:function(e){var n=e.text;return(0,f.jsx)(c.X6,{children:n})},breadcrumbRenderer:function(e){var n=e.text,t=e.href;return(0,f.jsx)(c.X6,{children:(0,f.jsx)(v,{to:t||"#",children:n})})}})})},t))},g=function(){return(0,f.jsx)(h.rU,{to:"/instance/asset-groups",children:(0,f.jsxs)(l.x,{flex:{gap:4},children:[(0,f.jsx)(u.JO,{color:d.w.Link,name:"schema"}),"View global asset lineage"]})})},y=(0,o.ZP)(a.Oo).withConfig({displayName:"AssetPageHeader__BreadcrumbsWithSlashes",componentId:"sc-1hk7vw2-0"})(["& li:not(:first-child)::after{background:none;font-size:20px;font-weight:bold;color:#5c7080;content:'/';width:8px;line-height:16px;}"]),v=(0,o.ZP)(h.rU).withConfig({displayName:"AssetPageHeader__BreadcrumbLink",componentId:"sc-1hk7vw2-1"})(["color:",";:hover,:active{color:",";}"],d.w.Gray800,d.w.Gray800)},55853:function(e,n,t){t.d(n,{K:function(){return s}});var r=t(95764),i=t(7838),o=(t(45436),t(325),t(18694)),a=t(32289),s=function(e){if(!e.data)return(0,a.jsx)("span",{});var n=void 0,t=e.xHover;"partition"===e.data.xAxis&&(n=e.data.values.map((function(e){return e.x})),t=t?n.indexOf(t):null);var s={labels:n,datasets:[{label:e.label,lineTension:0,data:e.data.values.map((function(e){return{x:e.xNumeric,y:e.y}})),borderColor:i.w.Blue500,backgroundColor:"rgba(0,0,0,0)",pointBorderWidth:2,pointHoverBorderWidth:2,pointHoverRadius:13,pointHoverBorderColor:i.w.Blue500}]},l={animation:{duration:0},elements:{point:{radius:function(e){var n;return(null===(n=e.dataset.data[e.dataIndex])||void 0===n?void 0:n.x)===t?13:2}}},scales:{x:(0,r.Z)({id:"x",display:!0},"time"===e.data.xAxis?{type:"time",title:{display:!0,text:"Timestamp"}}:{type:"category",title:{display:!0,text:"Partition"}}),y:{id:"y",display:!0,title:{display:!0,text:e.yAxisLabel||"Value"}}},plugins:{legend:{display:!1}},onHover:function(n,t){if(0!==t.length){var r=t[0].index;0!==r?e.onHoverX(e.data.values[r].x):e.onHoverX(null)}else e.onHoverX(null)}};return(0,a.jsx)(o.x1,{type:"line",data:s,height:100,options:l},e.width)}},25907:function(e,n,t){t.d(n,{f:function(){return ke}});var r,i,o,a,s,l=t(59019),c=t(99500),u=t(95764),d=t(19065),p=t(922),h=t(73701),f=t(3159),m=t(32030),x=t(87011),g=t(88863),y=t(47387),v=t(61104),j=t(89279),w=t(8412),b=t(90428),k=t.n(b),S=t(54972),C=t.n(S),N=t(325),E=t(12436),_=t(19102),I=t(39061),Z=t(64424),T=t(44198),P=t(74386),R=t(50741),O=t(62278),D=t(37099),L=t(11831),A=t(75453),F=t(55113),M=t(50346),z=t(7838),G=t(12745),K=t(762),U=t(74549),B=t(63579),$=t(7748),V=t(82576),q=t(30057),H=t(68156),W=t(28797),J=t(90933),Y=t(33743),Q=t(25582),X=t(86655),ee=t(85358),ne=t(95550),te=t.n(ne),re=t(49148),ie=t(8358),oe=t(6466),ae=t(32289),se=function(e){var n=e.assetKeys,t=e.isOpen,r=e.onClose,i=e.onComplete,o=e.requery,a=(0,re.D)(le,{variables:{assetKeys:n.map((function(e){return{path:e.path||[]}}))},refetchQueries:o}),s=(0,d.Z)(a,1)[0],l=function(){var e=(0,ee.Z)(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s();case 4:i(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ae.jsxs)(ie.Vq,{isOpen:t,title:"Wipe materializations",onClose:r,style:{width:600},children:[(0,ae.jsx)(ie.a7,{children:(0,ae.jsxs)(oe.Z,{direction:"column",spacing:16,children:[(0,ae.jsx)("div",{children:"Are you sure you want to wipe materializations for these assets?"}),(0,ae.jsx)("ul",{style:{paddingLeft:32,margin:0},children:n.map((function(e){var n=(0,I.ll)(e);return(0,ae.jsx)("li",{style:{marginBottom:4},children:n},n)}))}),(0,ae.jsx)("div",{children:"Assets defined only by their historical materializations will disappear from the Asset Catalog. Software-defined assets will remain unless their definition is also deleted from the repository."}),(0,ae.jsx)("strong",{children:"This action cannot be undone."})]})}),(0,ae.jsxs)(ie.cN,{topBorder:!0,children:[(0,ae.jsx)(A.zx,{intent:"none",onClick:r,children:"Cancel"}),(0,ae.jsx)(A.zx,{intent:"danger",onClick:l,children:"Wipe"})]})]})},le=(0,f.Ps)(r||(r=(0,c.Z)(["\n  mutation AssetWipeMutation($assetKeys: [AssetKeyInput!]!) {\n    wipeAssets(assetKeys: $assetKeys) {\n      ... on AssetWipeSuccess {\n        assetKeys {\n          path\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),E.Bq),ce=t(60445),ue=t(77171),de=function(e){var n=e.view,t=e.assets,r=e.actionBarComponents,i=e.refreshState,o=e.liveDataByNode,a=e.prefixPath,s=e.displayPathForAsset,c=e.maxDisplayCount,u=e.requery,p=N.useState(),h=(0,d.Z)(p,2),f=h[0],x=h[1],g=(0,B.TE)().canWipeAssets,y={};t.forEach((function(e){var n=JSON.stringify(s(e));y[n]=[].concat((0,l.Z)(y[n]||[]),[e])}));var v=(0,V.a)(Object.keys(y)),w=(0,d.Z)(v,2),b=w[0].checkedIds,k=w[1],S=k.onToggleFactory,C=k.onToggleAll,E=[],I=[],Z=Object.keys(y).sort().slice(0,c);return Z.forEach((function(e){b.has(e)&&(I.push(e),E.push.apply(E,(0,l.Z)(y[e]||[])))})),(0,ae.jsxs)(m.x,{flex:{direction:"column"},children:[(0,ae.jsxs)(m.x,{flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},children:[r,(0,ae.jsx)("div",{style:{flex:1}}),(0,ae.jsx)(_.xi,{refreshState:i}),(0,ae.jsxs)(m.x,{flex:{alignItems:"center",gap:8},children:[E.some((function(e){return!e.definition}))?(0,ae.jsx)(L.u,{content:"One or more selected assets are not software-defined and cannot be launched directly.",children:(0,ae.jsx)(A.zx,{intent:"primary",icon:(0,ae.jsx)(j.JO,{name:"materialization"}),disabled:!0,children:E.length>1?"Materialize (".concat(E.length,")"):"Materialize"})}):(0,ae.jsx)(ce.XE,{assetKeys:E.map((function(e){return e.key}))}),(0,ae.jsx)(fe,{selected:E,clearSelection:function(){return C(!1)}})]})]}),(0,ae.jsxs)(F.i,{children:[(0,ae.jsx)("thead",{children:(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:(0,ae.jsx)(M.X,{indeterminate:I.length>0&&I.length!==Z.length,checked:I.length>0&&I.length===Z.length,onChange:function(e){e.target instanceof HTMLInputElement&&C(I.length!==Z.length)}})}),(0,ae.jsx)("th",{children:"directory"===n?"Asset Key Prefix":"Asset Key"}),(0,ae.jsx)("th",{style:{width:340},children:"Defined in"}),(0,ae.jsx)("th",{style:{width:265},children:"Materialized"}),(0,ae.jsx)("th",{style:{width:115},children:"Latest run"}),(0,ae.jsx)("th",{style:{width:80},children:"Actions"})]})}),(0,ae.jsx)("tbody",{children:Z.length?Z.map((function(e,n){return(0,ae.jsx)(he,{prefixPath:a,path:JSON.parse(e),assets:y[e]||[],liveDataByNode:o,isSelected:b.has(e),onToggleChecked:S(e),onWipe:function(e){return x(e.map((function(e){return e.key})))},canWipe:g.enabled},n)})):(0,ae.jsx)(pe,{})})]}),(0,ae.jsx)(se,{assetKeys:f||[],isOpen:!!f,onClose:function(){return x(void 0)},onComplete:function(){return x(void 0)},requery:u})]})},pe=function(){return(0,ae.jsx)("tr",{children:(0,ae.jsx)("td",{colSpan:6,children:(0,ae.jsx)(m.x,{flex:{justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)(m.x,{margin:{left:8},children:"No assets to display"})})})})},he=N.memo((function(e){var n,t=e.prefixPath,r=e.path,i=e.assets,o=e.isSelected,a=e.onToggleChecked,s=e.onWipe,c=e.canWipe,u=e.liveDataByNode,d=[].concat((0,l.Z)(t),(0,l.Z)(r)),p=(0,ue.p)({path:d}),h=i.length>1||d.join("/")!==i[0].key.path.join("/"),f=h?null:i[0],x=f&&u[(0,I.Wu)(f.key)],g=null!==f&&void 0!==f&&f.definition?(0,D.k)(f.definition.repository.name,f.definition.repository.location.name):null;return(0,ae.jsxs)("tr",{children:[(0,ae.jsx)("td",{style:{paddingRight:8},children:(0,ae.jsx)(M.X,{checked:o,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");a({checked:n,shiftKey:t})}}})}),(0,ae.jsxs)("td",{children:[(0,ae.jsx)(X.R,{path:r,url:p,isGroup:h,icon:h?"folder":null!==f&&void 0!==f&&f.definition?"asset":"asset_non_sda"}),(0,ae.jsx)(ge,{children:(null===f||void 0===f?void 0:f.definition)&&f.definition.description&&(0,Y.A)(f.definition.description).split("\n")[0]})]}),(0,ae.jsx)("td",{children:g&&(0,ae.jsxs)(m.x,{flex:{direction:"column",gap:4},children:[(0,ae.jsx)(q.b,{showIcon:!0,showRefresh:!1,repoAddress:g}),null!==f&&void 0!==f&&f.definition&&null!==f&&void 0!==f&&f.definition.groupName?(0,ae.jsx)(U.rU,{to:(0,Q.$U)(g,"/asset-groups/".concat(f.definition.groupName)),children:(0,ae.jsxs)(m.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,ae.jsx)(j.JO,{color:z.w.Gray400,name:"asset_group"})," ",f.definition.groupName]})}):void 0]})}),(0,ae.jsx)("td",{children:x?(0,ae.jsxs)(m.x,{flex:{gap:8,alignItems:"center"},children:[x.lastMaterialization?(0,ae.jsx)(G.fv,{style:{flex:1},children:(0,ae.jsx)($.Tj,{runId:x.lastMaterialization.runId,event:{stepKey:x.stepKey,timestamp:x.lastMaterialization.timestamp},children:(0,ae.jsx)(H.v,{timestamp:Number(x.lastMaterialization.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})})}):(0,ae.jsx)("span",{children:"\u2013"}),(0,ae.jsx)($.oB,{computeStatus:null===x||void 0===x?void 0:x.computeStatus})]}):void 0}),(0,ae.jsx)("td",{children:x&&(0,ae.jsx)(G.fv,{children:(0,ae.jsx)($.o9,{liveData:x})})}),(0,ae.jsx)("td",{children:f?(0,ae.jsxs)(m.x,{flex:{gap:8,alignItems:"center"},children:[(0,ae.jsx)(W.A,{to:(0,ue.p)({path:r}),children:"View details"}),(0,ae.jsx)(K.J,{position:"bottom-right",content:(0,ae.jsxs)(w.v2,{children:[(0,ae.jsx)(J.U,{text:"Show in group",to:g&&null!==(n=f.definition)&&void 0!==n&&n.groupName?(0,Q.$U)(g,"/asset-groups/".concat(f.definition.groupName)):"",disabled:!(null!==f&&void 0!==f&&f.definition),icon:"asset_group"}),(0,ae.jsx)(J.U,{text:"View neighbors",to:(0,ue.p)({path:r},{view:"lineage",lineageScope:"neighbors"}),disabled:!(null!==f&&void 0!==f&&f.definition),icon:"graph_neighbors"}),(0,ae.jsx)(J.U,{text:"View upstream assets",to:(0,ue.p)({path:r},{view:"lineage",lineageScope:"upstream"}),disabled:!(null!==f&&void 0!==f&&f.definition),icon:"graph_upstream"}),(0,ae.jsx)(J.U,{text:"View downstream assets",to:(0,ue.p)({path:r},{view:"lineage",lineageScope:"downstream"}),disabled:!(null!==f&&void 0!==f&&f.definition),icon:"graph_downstream"}),(0,ae.jsx)(w.sN,{text:"Wipe materializations",icon:"delete",disabled:!c,intent:"danger",onClick:function(){return c&&s(i)}})]}),children:(0,ae.jsx)(A.zx,{icon:(0,ae.jsx)(j.JO,{name:"expand_more"})})})]}):(0,ae.jsx)("span",{})})]})})),fe=N.memo((function(e){var n=e.selected,t=e.clearSelection,r=e.requery,i=N.useState(!1),o=(0,d.Z)(i,2),a=o[0],s=o[1];if(!(0,B.TE)().canWipeAssets.enabled)return null;var l=0===n.length;return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(K.J,{position:"bottom-right",content:(0,ae.jsx)(w.v2,{children:(0,ae.jsx)(w.sN,{text:"Wipe materializations",onClick:function(){return s(!0)},icon:(0,ae.jsx)(j.JO,{name:"delete",color:l?z.w.Gray600:z.w.Red500}),disabled:l,intent:"danger"})}),children:(0,ae.jsx)(A.zx,{icon:(0,ae.jsx)(j.JO,{name:"expand_more"})})}),(0,ae.jsx)(se,{assetKeys:n.map((function(e){return e.key})),isOpen:a,onClose:function(){return s(!1)},onComplete:function(){s(!1),t()},requery:r})]})})),me=(0,f.Ps)(i||(i=(0,c.Z)(["\n  fragment AssetTableDefinitionFragment on AssetNode {\n    id\n    groupName\n    partitionDefinition\n    description\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n  }\n"]))),xe=(0,f.Ps)(o||(o=(0,c.Z)(["\n  fragment AssetTableFragment on Asset {\n    __typename\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      ...AssetTableDefinitionFragment\n    }\n  }\n  ","\n"])),me),ge=p.ZP.div.withConfig({displayName:"AssetTable__Description",componentId:"sc-1b7afeg-0"})(["color:",";font-size:14px;"],z.w.Gray800),ye=t(89646),ve=function(e){var n=e.prefixPath;return(0,ae.jsx)(ye.t,{icon:"asset",title:"Assets",description:(0,ae.jsxs)("p",{children:[n&&n.length?"There are no matching materialized assets with the specified asset key. ":"There are no known materialized assets. ","Any asset keys that have been specified with an ",(0,ae.jsx)("code",{children:"AssetMaterialization"})," during a pipeline run will appear here. See the"," ",(0,ae.jsx)("a",{href:"https://docs.dagster.io/_apidocs/ops#dagster.AssetMaterialization",children:"AssetMaterialization documentation"})," ","for more information."]})})},je=t(76314),we=function(e){return"flat"===e||"directory"===e?e:"flat"},be=50;var ke=function(e){var n=e.prefixPath,t=e.setPrefixPath,r=e.groupSelector,i=(0,je.U)("AssetViewPreference",we),o=(0,d.Z)(i,2),a=o[0],s=o[1],c=(0,T.q)({queryKey:"cursor"}),p=(0,d.Z)(c,2),f=p[0],v=p[1],j=(0,T.q)({queryKey:"q"}),w=(0,d.Z)(j,2),b=w[0],S=w[1],C=(0,T.q)({queryKey:"g",decode:function(e){return e.group?JSON.parse(e.group):null},encode:function(e){return{group:e?JSON.stringify(e):void 0}}}),P=(0,d.Z)(C,2),D=P[0],L=P[1],A=(b||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim(),F=function(e){var n=(0,h.a)(Ne,{skip:!!e,notifyOnNetworkStatusChange:!0}),t=(0,h.a)(Ee,{skip:!e,variables:{group:e},notifyOnNetworkStatusChange:!0});return N.useMemo((function(){if(e){var r,i=null===(r=t.data)||void 0===r?void 0:r.assetNodes;return{query:t,error:void 0,assets:null===i||void 0===i?void 0:i.map(_e)}}var o,a=null===(o=n.data)||void 0===o?void 0:o.assetsOrError;return{query:n,error:"PythonError"===(null===a||void 0===a?void 0:a.__typename)?a:void 0,assets:"AssetConnection"===(null===a||void 0===a?void 0:a.__typename)?a.nodes:void 0}}),[n,t,e])}(r),M=F.assets,z=F.query,G=F.error,K=N.useMemo((function(){return(M||[]).filter((function(e){var n=!D||k()(Ie(e),D),t=!A||(0,I.Je)(e.key).toLowerCase().includes(A);return n&&t}))}),[M,A,D]),U="flat"===a?function(e,n,t){var r=function(e){return JSON.stringify([].concat((0,l.Z)(n),(0,l.Z)(e.key.path)))},i=t?e.findIndex((function(e){return t<=r(e)})):0,o=Math.max(0,i-be),a=i+be;return{displayed:e.slice(i,i+be),displayPathForAsset:function(e){return e.key.path},prevCursor:i>0?r(e[o]):void 0,nextCursor:a<e.length?r(e[a]):void 0}}(K,n,f):function(e,n,t){var r=function(e){return e.key.path.slice(n.length,n.length+1)},i=Array.from(new Set(e.map((function(e){return JSON.stringify(r(e))})))).map((function(e){return JSON.parse(e)})).sort(),o=function(e){return JSON.stringify([].concat((0,l.Z)(n),(0,l.Z)(e)))},a=t?i.findIndex((function(e){return t<=o(e)})):0;if(-1===a)return{displayPathForAsset:r,displayed:[],prevCursor:void 0,nextCursor:void 0};var s=Math.max(0,a-be),c=0!==a?o(i[s]):void 0,u=a+be,d=i.length>u?o(i[u]):void 0,p=Ze(e,i.map((function(e){return[].concat((0,l.Z)(n),(0,l.Z)(e))}))).slice(a,a+be);return{nextCursor:d,prevCursor:c,displayPathForAsset:r,displayed:p}}(K,n,f),B=U.displayPathForAsset,$=U.displayed,V=U.nextCursor,q=U.prevCursor,H=N.useMemo((function(){return $.map((function(e){return{path:e.key.path}}))}),[$]),W=(0,Z.l)(H),J=W.liveDataByNode,Y=W.liveResult,Q=(0,_.V5)((0,_.C4)(z,_.dT),(0,_.C4)(Y,_.dT));if(N.useEffect((function(){"directory"!==a&&n.length&&s("directory")}),[a,s,n]),G)return(0,ae.jsx)(E.T9,{error:G});if(!M)return(0,ae.jsx)(R.T,{purpose:"page"});if(!M.length)return(0,ae.jsx)(m.x,{padding:{vertical:64},children:(0,ae.jsx)(ve,{prefixPath:n})});var X={hasPrevCursor:!!q,hasNextCursor:!!V,popCursor:function(){return v(q)},advanceCursor:function(){return v(V)},reset:function(){v(void 0)}};return(0,ae.jsxs)(Ce,{children:[(0,ae.jsx)(O.Y,{$top:0,children:(0,ae.jsx)(de,{view:a,assets:$,liveDataByNode:J,actionBarComponents:(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(x.h,{activeItems:new Set([a]),buttons:[{id:"flat",icon:"view_list",tooltip:"List view"},{id:"directory",icon:"folder",tooltip:"Folder view"}],onClick:function(e){s(e),"flat"===e&&n.length&&t([])}}),(0,ae.jsx)(g.oi,{value:b||"",style:{width:"30vw",minWidth:150,maxWidth:400},placeholder:n.length?"Filter asset keys in ".concat(n.join("/"),"\u2026"):"Filter asset keys\u2026",onChange:function(e){return S(e.target.value)}}),r?void 0:(0,ae.jsx)(Se,{assets:M,value:D,onChange:L})]}),refreshState:Q,prefixPath:n||[],displayPathForAsset:B,maxDisplayCount:be,requery:function(e){return[{query:Ne}]}})}),(0,ae.jsx)(m.x,{padding:{bottom:64},children:(0,ae.jsx)(y.b$,(0,u.Z)({},X))})]})},Se=function(e){var n=e.assets,t=e.value,r=e.onChange,i=N.useMemo((function(){return C()((n||[]).map(Ie).filter((function(e){return!!e})),(function(e){return JSON.stringify(e)})).sort((function(e,n){return e.groupName.localeCompare(n.groupName)}))}),[n]),o=N.useMemo((function(){var e={};return i.forEach((function(n){return e[n.groupName]=e.hasOwnProperty(n.groupName)})),e}),[i]);return(0,ae.jsx)(v.U5,{selectedItem:t,items:i,inputProps:{style:{width:220},placeholder:"Filter asset groups\u2026",rightElement:t?(0,ae.jsx)(P.C,{onClick:function(){return r(null)},style:{marginTop:5,marginRight:4},children:(0,ae.jsx)(j.JO,{name:"cancel"})}):void 0},inputValueRenderer:function(e){return e.groupName},itemPredicate:function(e,n){return 0===e.length||n.groupName.includes(e)},itemsEqual:k(),itemRenderer:function(e,n){return(0,ae.jsx)(w.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,ae.jsxs)(ae.Fragment,{children:[e.groupName,o[e.groupName]?(0,ae.jsx)("span",{style:{opacity:.5,paddingLeft:4},children:(0,D.i)(e.repositoryName,e.repositoryLocationName)}):void 0]})},JSON.stringify(e))},noResults:(0,ae.jsx)(w.sN,{disabled:!0,text:"No asset groups"}),onItemSelect:r})},Ce=p.ZP.div.withConfig({displayName:"AssetsCatalogTable__Wrapper",componentId:"ae1fbm-0"})(["flex:1 1;display:flex;flex-direction:column;width:100%;height:100%;min-width:0;position:relative;z-index:0;"]),Ne=(0,f.Ps)(a||(a=(0,c.Z)(["\n  query AssetCatalogTableQuery {\n    assetsOrError {\n      __typename\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),E.Bq,xe),Ee=(0,f.Ps)(s||(s=(0,c.Z)(["\n  query AssetCatalogGroupTableQuery($group: AssetGroupSelector) {\n    assetNodes(group: $group) {\n      id\n      assetKey {\n        path\n      }\n      ...AssetTableDefinitionFragment\n    }\n  }\n  ","\n"])),me);function _e(e){return{__typename:"Asset",id:e.id,key:e.assetKey,definition:e}}function Ie(e){return e.definition&&e.definition.groupName?{groupName:e.definition.groupName,repositoryName:e.definition.repository.name,repositoryLocationName:e.definition.repository.location.name}:null}var Ze=function(e,n){return e.filter((function(e){return n.some((function(n){return n.every((function(n,t){return n===e.key.path[t]}))}))}))}},60445:function(e,n,t){t.d(n,{XE:function(){return fe},Ot:function(){return we}});var r,i,o=t(99500),a=t(59019),s=t(85358),l=t(19065),c=t(95550),u=t.n(c),d=t(31522),p=t(3159),h=t(11831),f=t(75453),m=t(89279),x=t(34595),g=t(26966),y=t.n(g),v=t(58891),j=t.n(v),w=t(325),b=t(14156),k=t(79540),S=t(63579),C=t(39061),N=t(35001),E=t(65173),_=t(28064),I=t(33774),Z=t(37099),T=t(33902),P=t(34449),R=t(61460),O=t(95764),D=t(73701),L=t(8358),A=t(32030),F=t(12745),M=t(60652),z=t(60736),G=t(24083),K=t.n(G),U=t(27601),B=t(12436),$=t(95609),V=t(22013),q=t(89493),H=t(77221),W=t(6466),J=t(7838),Y=t(13065),Q=(t(47072),t(39151),t(88291),t(36523),t(33547),t(5484),t(65164),t(76336),t(26306),t(87188),t(32289));(0,p.Ps)(r||(r=(0,o.Z)(['\n  query PartitionsBackfillSelectorQuery(\n    $partitionSetName: String!\n    $repositorySelector: RepositorySelector!\n    $pipelineSelector: PipelineSelector!\n  ) {\n    partitionSetOrError(\n      partitionSetName: $partitionSetName\n      repositorySelector: $repositorySelector\n    ) {\n      ... on PartitionSet {\n        id\n        name\n        partitionsOrError {\n          ... on Partitions {\n            results {\n              name\n            }\n          }\n          ...PythonErrorFragment\n        }\n      }\n      ... on PartitionSetNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          handleID\n          solid {\n            name\n            definition {\n              name\n            }\n            inputs {\n              dependsOn {\n                solid {\n                  name\n                }\n              }\n            }\n            outputs {\n              dependedBy {\n                solid {\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      runLauncher {\n        name\n      }\n      daemonHealth {\n        id\n        daemonStatus(daemonType: "BACKFILL") {\n          id\n          healthy\n        }\n      }\n      runQueuingSupported\n    }\n  }\n  ',"\n"])),B.Bq),(0,p.Ps)(i||(i=(0,o.Z)(["\n  query PartitionStatusQuery($partitionSetName: String!, $repositorySelector: RepositorySelector!) {\n    partitionSetOrError(\n      partitionSetName: $partitionSetName\n      repositorySelector: $repositorySelector\n    ) {\n      ... on PartitionSet {\n        id\n        name\n        partitionStatusesOrError {\n          ... on PartitionStatuses {\n            results {\n              id\n              partitionName\n              runStatus\n            }\n          }\n          ...PythonErrorFragment\n        }\n      }\n      ... on PartitionSetNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n"])),B.Bq);function X(e){var n=null===e||void 0===e?void 0:e.launchPartitionBackfill,t=(0,Q.jsx)(Q.Fragment,{});return"PythonError"===(null===n||void 0===n?void 0:n.__typename)||"PartitionSetNotFoundError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,Q.jsx)(B.T9,{error:n}):"InvalidStepError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,Q.jsx)("div",{children:"Invalid step: ".concat(n.invalidStepKey)}):"InvalidOutputError"===(null===n||void 0===n?void 0:n.__typename)?t=(0,Q.jsx)("div",{children:"Invalid output: ".concat(n.invalidOutputName," for ").concat(n.stepKey)}):n&&"errors"in n&&(t=(0,Q.jsx)(Q.Fragment,{children:n.errors.map((function(e,n){return(0,Q.jsx)(B.T9,{error:e},n)}))})),(0,Q.jsxs)(W.Z,{direction:"column",spacing:4,children:[(0,Q.jsx)("div",{children:"An unexpected error occurred. This backfill was not launched."}),t?(0,Q.jsx)(M.Z,{color:J.w.White,underline:"always",onClick:function(){(0,b._)({body:t})},children:"View error"}):null]})}function ee(e){Y.L.show({message:X(e),icon:"error",intent:"danger"})}function ne(e,n){Y.L.show({intent:"success",message:(0,Q.jsxs)("div",{children:["Created backfill ",(0,Q.jsx)(F.fv,{children:n})]}),action:{text:"View",onClick:function(){return e.push("/instance/backfills")}}})}var te,re,ie,oe,ae,se,le=t(74549),ce=function(e){var n=e.partitionSetName,t=(0,D.a)(ue,{fetchPolicy:"cache-and-network"}).data,r=("PartitionBackfills"===(null===t||void 0===t?void 0:t.partitionBackfillsOrError.__typename)?t.partitionBackfillsOrError.results:[]).filter((function(e){return e.partitionSetName===n})).length;return 0===r?(0,Q.jsx)("span",{}):(0,Q.jsxs)("div",{style:{color:J.w.Gray400,maxWidth:350},children:[1===r?"Note: A backfill has been requested for this job and may be refreshing displayed assets. ":"Note: ".concat(r," backfills have been requested for this job and may be refreshing displayed assets. "),(0,Q.jsx)(le.rU,{to:"/instance/backfills",target:"_blank",children:(0,Q.jsxs)(A.x,{flex:{gap:4,display:"inline-flex",alignItems:"center"},children:["View ",(0,Q.jsx)(m.JO,{name:"open_in_new",color:J.w.Link})]})})]})},ue=(0,p.Ps)(te||(te=(0,o.Z)(["\n  query RunningBackfillsNoticeQuery {\n    partitionBackfillsOrError(status: REQUESTED) {\n      __typename\n      ... on PartitionBackfills {\n        results {\n          partitionSetName\n          backfillId\n        }\n      }\n    }\n  }\n"]))),de=function(e){var n="Launch runs to materialize ".concat(e.assets.length>1?"".concat(e.assets.length," assets"):(0,C.ll)(e.assets[0].assetKey));return(0,Q.jsxs)(L.Vq,{style:{width:700},isOpen:e.open,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return e.setOpen(!1)},children:[(0,Q.jsx)(L.fK,{icon:"layers",label:n}),(0,Q.jsx)(pe,(0,O.Z)({},e))]})},pe=function(e){var n=e.setOpen,t=e.assets,r=e.repoAddress,i=e.assetJobName,o=e.upstreamAssetKeys,c=(0,$.d)(t.map((function(e){return e.assetKey}))),p=(0,$.d)(o),h=c[0]?c[0].keys:[],m=h[h.length-1],x=w.useState([]),g=(0,l.Z)(x,2),y=g[0],v=g[1],j=w.useState(4),k=(0,l.Z)(j,2),S=k[0],E=k[1],_=w.useState(!1),I=(0,l.Z)(_,2),Z=I[0],T=I[1];w.useEffect((function(){v([m])}),[m]);var P=(0,d.x)(),R=(0,U.k6)(),G=(0,N.w)(),W=(0,D.a)(he,{variables:{repositoryLocationName:r.location,repositoryName:r.name,pipelineName:i}}).data,J="PartitionSets"===(null===W||void 0===W?void 0:W.partitionSetsOrError.__typename)?W.partitionSetsOrError.results[0]:void 0,Y=function(){var e=(0,s.Z)(u().mark((function e(){var o,s,l,c,d,p,h,f,m;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(!0),J){e.next=6;break}return o="PythonError"===(null===W||void 0===W?void 0:W.partitionSetsOrError.__typename)?W.partitionSetsOrError:{message:"No details provided."},T(!1),(0,b._)({title:"Unable to find partition set on ".concat(i),body:(0,Q.jsx)(B.T9,{error:o})}),e.abrupt("return");case 6:if(1!==y.length){e.next=31;break}return e.next=9,P.query({query:q.Fp,fetchPolicy:"network-only",variables:{repositorySelector:{repositoryLocationName:r.location,repositoryName:r.name},partitionSetName:J.name,partitionName:y[0]}});case 9:if(s=e.sent,(l=s.data)&&l.partitionSetOrError&&"PartitionSet"===l.partitionSetOrError.__typename&&l.partitionSetOrError.partition){e.next=13;break}return e.abrupt("return");case 13:if("PythonError"!==(c=l.partitionSetOrError.partition).tagsOrError.__typename){e.next=18;break}return T(!1),(0,b._)({title:"Unable to load tags",body:(0,Q.jsx)(B.T9,{error:c.tagsOrError})}),e.abrupt("return");case 18:if("PythonError"!==c.runConfigOrError.__typename){e.next=22;break}return T(!1),(0,b._)({title:"Unable to load tags",body:(0,Q.jsx)(B.T9,{error:c.runConfigOrError})}),e.abrupt("return");case 22:return d=(0,a.Z)(c.tagsOrError.results),p=c.runConfigOrError.yaml||"",e.next=26,G({executionParams:(0,O.Z)((0,O.Z)({},we(r,i,t,d)),{},{runConfigData:p,mode:c.mode})},"toast");case 26:h=e.sent,T(!1),"LaunchRunSuccess"===(null===h||void 0===h?void 0:h.launchPipelineExecution.__typename)&&n(!1),e.next=37;break;case 31:return e.next=33,P.mutate({mutation:V.f,variables:{backfillParams:{selector:{partitionSetName:J.name,repositorySelector:{repositoryLocationName:r.location,repositoryName:r.name}},assetSelection:t.map((function(e){return{path:e.assetKey.path}})),partitionNames:y,fromFailure:!1,tags:[]}}});case 33:f=e.sent,m=f.data,T(!1),"LaunchBackfillSuccess"===(null===m||void 0===m?void 0:m.launchPartitionBackfill.__typename)?(ne(R,null===m||void 0===m?void 0:m.launchPartitionBackfill.backfillId),n(!1)):ee(m);case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){return p.length>0&&p.some((function(n){return n.keys.includes(e)&&!n.statusByPartition[e]}))},te=(0,H.lU)(y,X).filter((function(e){return!0===e.status}));return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(L.a7,{children:[(0,Q.jsxs)(A.x,{flex:{direction:"column",gap:8},children:[(0,Q.jsx)(F.pm,{style:{flex:1},children:"Partition Keys"}),(0,Q.jsxs)(A.x,{flex:{direction:"row",gap:8,alignItems:"baseline"},children:[(0,Q.jsx)(A.x,{flex:{direction:"column"},style:{flex:1},children:(0,Q.jsx)(H.XI,{value:y,onChange:v,partitionNames:h})}),(0,Q.jsx)(f.zx,{small:!0,onClick:function(){return v([m])},children:"Most Recent"}),(0,Q.jsx)(f.zx,{small:!0,onClick:function(){return v(h.filter((function(e){return c.every((function(n){return!n.statusByPartition[e]}))})))},children:"Missing"}),(0,Q.jsx)(f.zx,{small:!0,onClick:function(){return v((0,a.Z)(h))},children:"All"})]})]}),(0,Q.jsxs)(A.x,{flex:{direction:"column",gap:8},style:{marginTop:16,overflowY:"auto",overflowX:"visible",maxHeight:"50vh"},children:[t.slice(0,S).map((function(e){return(0,Q.jsx)($.m,{assetKey:e.assetKey,showAssetKey:!0,data:c,selected:y},(0,C.ll)(e.assetKey))})),S<t.length?(0,Q.jsx)(A.x,{margin:{vertical:8},children:(0,Q.jsxs)(M.Z,{onClick:function(){return E(t.length)},children:["Show ",t.length-S," more previews"]})}):void 0]}),te.length>0&&(0,Q.jsx)(A.x,{margin:{top:16},children:(0,Q.jsx)(z.b,{intent:"warning",title:"Upstream Data Missing",description:(0,Q.jsxs)(Q.Fragment,{children:[te.map((function(e){return(0,H.ZX)(e,y)})).join(", ")," cannot be materialized because upstream materializations are missing. Consider materializing upstream assets or ",(0,Q.jsx)("a",{onClick:function(){v(K()(y,X))},children:"remove these partitions"})," to avoid failures."]})})})]}),(0,Q.jsxs)(L.cN,{left:J&&(0,Q.jsx)(ce,{partitionSetName:J.name}),children:[(0,Q.jsx)(f.zx,{intent:"none",onClick:function(){return n(!1)},children:"Cancel"}),(0,Q.jsx)(f.zx,{intent:"primary",onClick:Y,children:Z?"Launching...":1!==y.length?"Launch ".concat(y.length,"-Run Backfill"):"Launch 1 Run"})]})]})},he=(0,p.Ps)(re||(re=(0,o.Z)(["\n  query AssetJobPartitionSetsQuery(\n    $pipelineName: String!\n    $repositoryName: String!\n    $repositoryLocationName: String!\n  ) {\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      __typename\n      ...PythonErrorFragment\n      ... on PartitionSets {\n        __typename\n        results {\n          id\n          name\n          mode\n          solidSelection\n        }\n      }\n    }\n  }\n\n  ","\n"])),B.Bq),fe=function(e){var n=e.assetKeys,t=e.preferredJobName,r=e.context,i=e.intent,o=void 0===i?"primary":i,a=(0,S.TE)().canLaunchPipelineExecution,c=(0,N.w)(),p=w.useState({type:"none"}),g=(0,l.Z)(p,2),y=g[0],v=g[1],j=(0,d.x)(),_=(0,k.p)(),I=n.length>1?" (".concat(n.length,")"):"",Z="Materialize".concat("all"===r?" all".concat(I):"selected"===r?" selected".concat(I):I);if(!n.length||!a.enabled)return(0,Q.jsx)(h.u,{content:a.enabled?"Select one or more assets to materialize.":"You do not have permission to materialize assets",children:(0,Q.jsx)(f.zx,{intent:o,icon:(0,Q.jsx)(m.JO,{name:"materialization"}),disabled:!0,children:Z})});var P=function(){var e=(0,s.Z)(u().mark((function e(r){var i,o,a,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loading"!==y.type){e.next=2;break}return e.abrupt("return");case 2:return v({type:"loading"}),e.next=5,j.query({query:ke,variables:{assetKeys:n.map((function(e){return{path:e.path}}))}});case 5:if(!(i=e.sent).data.assetNodeDefinitionCollisions.length){e.next=10;break}return(0,b._)((u=i.data,{title:R.a,body:(0,Q.jsxs)("div",{style:{overflow:"auto"},children:["One or more of the selected assets are defined in multiple repositories in your workspace. Rename these assets to avoid collisions and then try again.",(0,Q.jsx)("ul",{children:u.assetNodeDefinitionCollisions.map((function(e,n){return(0,Q.jsxs)("li",{children:[(0,Q.jsx)("strong",{children:(0,C.ll)(e.assetKey)}),(0,Q.jsx)("ul",{children:e.repositories.map((function(e,n){return(0,Q.jsx)("li",{children:(0,T.l)({name:e.name,location:e.location.name})},n)}))})]},n)}))})]})})),v({type:"none"}),e.abrupt("return");case 10:return o=i.data.assetNodes,a=r.shiftKey,e.next=14,me(j,o,a,t);case 14:if("error"!==(s=e.sent).type){e.next=19;break}return(0,b._)({title:"Unable to Materialize",body:s.error}),v({type:"none"}),e.abrupt("return");case 19:return e.next=21,ve(j,o);case 21:if(!(l=e.sent).length){e.next=33;break}return v({type:"none"}),e.prev=24,e.next=27,_({title:"Are you sure?",description:(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("div",{children:"Materializing these assets may fail because the upstream assets listed below have not been materialized yet."}),(0,Q.jsx)("ul",{children:l.map((function(e,n){return(0,Q.jsx)("li",{children:(0,C.ll)(e)},n)}))})]})});case 27:v({type:"loading"}),e.next=33;break;case 30:return e.prev=30,e.t0=e.catch(24),e.abrupt("return");case 33:if("single-run"!==s.type){e.next=39;break}return e.next=36,c({executionParams:s.executionParams},"toast");case 36:v({type:"none"}),e.next=40;break;case 39:v(s);case 40:case"end":return e.stop()}var u}),e,null,[[24,30]])})));return function(n){return e.apply(this,arguments)}}();return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(h.u,{content:"Shift+click to add configuration",children:(0,Q.jsx)(f.zx,{intent:o,onClick:P,icon:"loading"===y.type?(0,Q.jsx)(x.$,{purpose:"body-text"}):(0,Q.jsx)(m.JO,{name:"materialization"}),children:Z})}),"launchpad"===y.type&&(0,Q.jsx)(E.e,{assetJobName:y.jobName,repoAddress:y.repoAddress,sessionPresets:y.sessionPresets,open:!0,setOpen:function(){return v({type:"none"})}}),"partitions"===y.type&&(0,Q.jsx)(de,{assets:y.assets,upstreamAssetKeys:y.upstreamAssetKeys,repoAddress:y.repoAddress,assetJobName:y.jobName,open:!0,setOpen:function(){return v({type:"none"})}})]})};function me(e,n,t,r){return xe.apply(this,arguments)}function xe(){return(xe=(0,s.Z)(u().mark((function e(n,t,r,i){var o,a,s,l,c,d,p,h,f,m,x,g,y,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some(C.mX)){e.next=2;break}return e.abrupt("return",{type:"error",error:"One or more source assets are selected and cannot be materialized."});case 2:if(l=(0,Z.k)((null===(o=t[0])||void 0===o?void 0:o.repository.name)||"",(null===(a=t[0])||void 0===a?void 0:a.repository.location.name)||""),t.every((function(e){return e.repository.name===l.name&&e.repository.location.name===l.location}))){e.next=5;break}return e.abrupt("return",{type:"error",error:"Assets must be in the same repository to be materialized together."});case 5:if(c=null===(s=t.find((function(e){return!!e.partitionDefinition})))||void 0===s?void 0:s.partitionDefinition,!t.some((function(e){return e.partitionDefinition&&e.partitionDefinition!==c}))){e.next=8;break}return e.abrupt("return",{type:"error",error:"Assets must share a partition definition to be materialized together."});case 8:if(d=ge(t,i)){e.next=11;break}return e.abrupt("return",{type:"error",error:"Assets must be in the same job to be materialized together."});case 11:return e.next=13,n.query({query:Se,variables:{pipelineSelector:{pipelineName:d,repositoryName:t[0].repository.name,repositoryLocationName:t[0].repository.location.name}}});case 13:if(p=e.sent,"Pipeline"===(h=p.data.pipelineOrError).__typename){e.next=17;break}return e.abrupt("return",{type:"error",error:"Pipeline ".concat(d," does not exist.")});case 17:if(f=t.flatMap((function(e){return e.requiredResources.map((function(e){return e.resourceKey}))})),m=h.modes[0].resources.filter((function(e){return f.includes(e.name)})),x=m.some((function(e){var n;return null===(n=e.configField)||void 0===n?void 0:n.isRequired})),g=t.some((function(e){var n;return null===(n=e.configField)||void 0===n?void 0:n.isRequired})),!c){e.next=24;break}return y=ye(t),e.abrupt("return",{type:"partitions",assets:t,jobName:d,repoAddress:l,upstreamAssetKeys:y});case 24:if(!(g||x||r)){e.next=27;break}return v=t.flatMap((function(e){return e.opNames||[]})),e.abrupt("return",{type:"launchpad",jobName:d,repoAddress:l,sessionPresets:{flattenGraphs:!0,assetSelection:t.map((function(e){return{assetKey:e.assetKey,opNames:e.opNames}})),solidSelectionQuery:v.map((function(e){return'"'.concat(e,'"')})).join(", ")}});case 27:return e.abrupt("return",{type:"single-run",executionParams:we(l,d,t,[])});case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,n){var t=e[0]?e[0].jobNames.filter((function(n){return e.every((function(e){return e.jobNames.includes(n)}))})):[];return t.find((function(e){return e===n}))||t[0]||null}function ye(e){var n=new Set(e.map((function(e){return JSON.stringify({path:e.assetKey.path})})));return j()(e.flatMap((function(e){return e.dependencyKeys.map((function(e){var n=e.path;return JSON.stringify({path:n})}))}))).filter((function(e){return!n.has(e)})).map((function(e){return JSON.parse(e)}))}function ve(e,n){return je.apply(this,arguments)}function je(){return(je=(0,s.Z)(u().mark((function e(n,t){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=ye(t)).length){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,n.query({query:Ce,variables:{assetKeys:r}});case 5:return i=e.sent,e.abrupt("return",i.data.assetNodes.filter((function(e){return!(0,C.mX)(e)&&0===e.assetMaterializations.length})).map((function(e){return e.assetKey})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,n,t,r){return{mode:"default",executionMetadata:{tags:[].concat((0,a.Z)(r.map((function(e){return y()(e,["key","value"])}))),[{key:_.H.StepSelection,value:t.flatMap((function(e){return e.opNames})).join(",")}])},runConfigData:"{}",selector:{repositoryLocationName:e.location,repositoryName:e.name,pipelineName:n,assetSelection:t.map((function(e){return{path:e.assetKey.path}}))}}}var be=(0,p.Ps)(ie||(ie=(0,o.Z)(["\n  fragment LaunchAssetExecutionAssetNodeFragment on AssetNode {\n    id\n    opNames\n    jobNames\n    graphName\n    partitionDefinition\n    assetKey {\n      path\n    }\n    dependencyKeys {\n      path\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    requiredResources {\n      resourceKey\n    }\n    ...AssetNodeConfigFragment\n  }\n  ","\n"])),P.r),ke=(0,p.Ps)(oe||(oe=(0,o.Z)(["\n  query LaunchAssetLoaderQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys) {\n      id\n      ...LaunchAssetExecutionAssetNodeFragment\n    }\n    assetNodeDefinitionCollisions(assetKeys: $assetKeys) {\n      assetKey {\n        path\n      }\n      repositories {\n        id\n        name\n        location {\n          id\n          name\n        }\n      }\n    }\n  }\n  ","\n"])),be),Se=(0,p.Ps)(ae||(ae=(0,o.Z)(["\n  query LaunchAssetLoaderResourceQuery($pipelineSelector: PipelineSelector!) {\n    pipelineOrError(params: $pipelineSelector) {\n      ... on Pipeline {\n        id\n        modes {\n          id\n          resources {\n            name\n            description\n            configField {\n              name\n              isRequired\n              configType {\n                ...ConfigTypeSchemaFragment\n                recursiveConfigTypes {\n                  ...ConfigTypeSchemaFragment\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),I.S),Ce=(0,p.Ps)(se||(se=(0,o.Z)(["\n  query LaunchAssetCheckUpstreamQuery($assetKeys: [AssetKeyInput!]!) {\n    assetNodes(assetKeys: $assetKeys, loadMaterializations: true) {\n      id\n      assetKey {\n        path\n      }\n      opNames\n      graphName\n      assetMaterializations(limit: 1) {\n        runId\n      }\n    }\n  }\n"])))},95609:function(e,n,t){t.d(n,{d:function(){return b},m:function(){return k}});var r,i=t(99500),o=t(59019),a=t(85358),s=t(19065),l=t(95550),c=t.n(l),u=t(31522),d=t(3159),p=t(34595),h=t(32030),f=t(7838),m=t(11831),x=t(64306),g=t.n(x),y=t(325),v=t(39061),j=t(77221),w=t(32289);function b(e){var n=y.useState([]),t=(0,s.Z)(n,2),r=t[0],i=t[1],l=(0,u.x)(),d=e.map((function(e){return JSON.stringify(e)})),p=d.find((function(e){return!r.some((function(n){return JSON.stringify(n.assetKey)===e}))}));return y.useMemo((function(){if(p){var e=JSON.parse(p),n=function(){var n=(0,a.Z)(c().mark((function n(){var t,r,a,s,u,d;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.query({query:S,fetchPolicy:"network-only",variables:{assetKey:{path:e.path}}});case 2:t=n.sent,r=t.data,a=r&&"AssetNode"===r.assetNodeOrError.__typename&&r.assetNodeOrError.materializationCountByPartition||[],s=r&&"AssetNode"===r.assetNodeOrError.__typename?r.assetNodeOrError.materializationCountByPartition.map((function(e){return e.partition})):[],u=g()(a.map((function(e){return[e.partition,!!e.materializationCount]}))),d=(0,j.lU)(s,(function(e){return u[e]})),i((function(n){return[].concat((0,o.Z)(n),[{keys:s,spans:d,assetKey:e,statusByPartition:u,indexToPct:function(e){return"".concat((100*e/s.length).toFixed(3),"%")}}])}));case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}}),[l,p]),r.filter((function(e){return d.includes(JSON.stringify(e.assetKey))}))}var k=function(e){var n=e.showAssetKey,t=e.assetKey,r=e.selected,i=e.data.find((function(e){return JSON.stringify(e.assetKey)===JSON.stringify(t)}));if(!i)return(0,w.jsx)("div",{style:{minHeight:55,position:"relative"},children:(0,w.jsx)(p.$,{purpose:"section"})});var o=i.spans,a=i.keys,s=i.indexToPct,l=o.map((function(e){return e.endIdx})).reduce((function(e,n){return Math.max(e,n)}),0),c=r?(0,j.lU)(a,(function(e){return r.includes(e)})).filter((function(e){return e.status})):[],u=o.filter((function(e){return!0===e.status})).map((function(e){return e.endIdx-e.startIdx+1})).reduce((function(e,n){return e+n}),0);return(0,w.jsxs)("div",{children:[(0,w.jsxs)(h.x,{flex:{justifyContent:"space-between"},margin:{bottom:4},style:{fontSize:"0.8rem",color:f.w.Gray500},children:[(0,w.jsx)("span",{children:n?(0,v.ll)(t):"".concat(u,"/").concat(a.length," Partitions")}),n?(0,w.jsx)("span",{children:"".concat(u,"/").concat(a.length)}):void 0]}),r&&(0,w.jsx)("div",{style:{position:"relative",width:"100%",overflowX:"hidden",height:10},children:c.map((function(e){return(0,w.jsx)("div",{style:{left:"min(calc(100% - 2px), ".concat(s(e.startIdx),")"),width:s(e.endIdx-e.startIdx+1),position:"absolute",top:0,height:8,border:"2px solid ".concat(f.w.Blue500),borderBottom:0}},e.startIdx)}))}),(0,w.jsx)("div",{style:{position:"relative",width:"100%",height:14,borderRadius:6,overflow:"hidden"},children:o.map((function(e){return(0,w.jsx)("div",{style:{left:"min(calc(100% - 2px), ".concat(s(e.startIdx),")"),width:s(e.endIdx-e.startIdx+1),minWidth:e.status?2:void 0,position:"absolute",zIndex:0===e.startIdx||e.endIdx===l?3:e.status?2:1,top:0},children:(0,w.jsx)(m.u,{display:"block",content:e.startIdx===e.endIdx?"Partition ".concat(a[e.startIdx]," is ").concat(e.status?"up-to-date":"missing"):"Partitions ".concat(a[e.startIdx]," through ").concat(a[e.endIdx]," are ").concat(e.status?"up-to-date":"missing"),children:(0,w.jsx)("div",{style:{width:"100%",height:14,outline:"none",background:e.status?f.w.Green500:f.w.Gray200}})})},e.startIdx)}))}),(0,w.jsxs)(h.x,{flex:{justifyContent:"space-between"},margin:{top:4},style:{fontSize:"0.8rem",color:f.w.Gray500},children:[(0,w.jsx)("span",{children:a[0]}),(0,w.jsx)("span",{children:a[a.length-1]})]})]})},S=(0,d.Ps)(r||(r=(0,i.Z)(["\n  query PartitionHealthQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        materializationCountByPartition {\n          partition\n          materializationCount\n        }\n      }\n    }\n  }\n"])))},33208:function(e,n,t){t.d(n,{dj:function(){return x},Ot:function(){return y},rB:function(){return v}});var r,i=t(99500),o=t(922),a=t(3159),s=t(32030),l=t(8546),c=t(7838),u=(t(325),t(76341)),d=t(4735),p=t(37117),h=t(10922),f=t(33774),m=t(32289),x=function(e){return e.metadataEntries.find((0,u.Dk)("TableSchemaMetadataEntry"))?"table":"standard"},g=(0,o.ZP)((function(e){var n=e.type,t=e.className,r=x(n),i="standard"===r?n.name:"".concat(n.name," (").concat(r,")");return(0,m.jsx)(s.x,{className:t,children:i})})).withConfig({displayName:"DagsterType__DagsterTypeName",componentId:"sc-49uu7f-0"})(["font-family:",";font-size:16px;overflow:hidden;text-overflow:ellipsis;"],l.b.monospace),y=function(e){var n=e.type,t=e.horizontalPadding;t=t||0;var r=n.metadataEntries.find((0,u.Dk)("TableSchemaMetadataEntry"));return(0,m.jsxs)(s.x,{flex:{direction:"column",gap:8},padding:{horizontal:24,vertical:16},style:{overflowY:"auto"},children:[n.name&&(0,m.jsx)(s.x,{children:(0,m.jsx)(g,{type:n})}),n.description&&(0,m.jsx)(s.x,{padding:{horizontal:t},children:(0,m.jsx)(h.d,{description:n.description})}),r&&(0,m.jsx)(s.x,{border:{side:"top",width:1,color:c.w.KeylineGray},style:{overflowY:"auto",marginBottom:-12},margin:{top:4},children:(0,m.jsx)(p.p,{schema:r.schema,itemHorizontalPadding:t})})]})},v=(0,a.Ps)(r||(r=(0,i.Z)(["\n  fragment DagsterTypeFragment on DagsterType {\n    ..._DagsterTypeFragment\n    innerTypes {\n      ..._DagsterTypeFragment\n    }\n  }\n  fragment _DagsterTypeFragment on DagsterType {\n    key\n    name\n    displayName\n    description\n    isNullable\n    isList\n    isBuiltin\n    isNothing\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    inputSchemaType {\n      ...ConfigTypeSchemaFragment\n      recursiveConfigTypes {\n        ...ConfigTypeSchemaFragment\n      }\n    }\n    outputSchemaType {\n      ...ConfigTypeSchemaFragment\n      recursiveConfigTypes {\n        ...ConfigTypeSchemaFragment\n      }\n    }\n  }\n  ","\n  ","\n"])),f.S,d.it)},57676:function(e,n,t){var r;t.d(n,{hS:function(){return r},vL:function(){return i},Fv:function(){return o},Nw:function(){return a},$T:function(){return s},j:function(){return l},aO:function(){return c},e:function(){return u},XL:function(){return d},gJ:function(){return p},nY:function(){return h},jZ:function(){return f},Bw:function(){return m},D6:function(){return x},t3:function(){return g},v2:function(){return y},V8:function(){return v},WN:function(){return j}}),function(e){e.FLAT="flat",e.WATERFALL="waterfall",e.WATERFALL_TIMED="waterfall-timed"}(r||(r={}));var i=2e-4,o=.5,a=16,s=16,l=16,c=16,u=34,d=5,p=20,h=100,f=8,m=30,x=6,g=(u-x)/2,y=2,v=100,j={mode:r.WATERFALL,hideWaiting:!1,hideTimedMode:!1,zoom:1,hideUnselectedSteps:!1}},92334:function(e,n,t){function r(e){return e.endsWith("]")}function i(e){return e.endsWith("[?]")}function o(e,n){return n.filter((function(n){return n.startsWith(e.replace("?]",""))}))}function a(e){return e.split("[")[0]}function s(e,n){return e.replace("[?]",n.match(/(\[.*\])/)[1])}t.d(n,{IL:function(){return r},Gm:function(){return i},mO:function(){return o},pr:function(){return a},os:function(){return s}})},47072:function(e,n,t){t.d(n,{hj:function(){return X},ZW:function(){return ue},hS:function(){return I.hS},Fu:function(){return de},kZ:function(){return Q}});var r,i=t(59019),o=t(95764),a=t(19065),s=t(922),l=t(50346),c=t(32030),u=t(6466),d=t(7838),p=t(89279),h=t(17912),f=t(34595),m=t(8546),x=t(89646),g=t(90428),y=t.n(g),v=t(325),j=t(74549),w=t(52848),b=t(25496),k=t(76341),S=t(99738),C=t(3148),N=t(40355),E=t(45302),_=t(65164),I=t(57676),Z=t(92334),T=t(39151),P=t(87011),R=t(32289),O=v.memo((function(e){var n=e.value,t=e.onChange,r=e.hideTimedMode,i=[{id:I.hS.FLAT,icon:"gantt_flat",tooltip:"Flat view"},{id:I.hS.WATERFALL,icon:"gantt_waterfall",tooltip:"Waterfall view"}];r||i.push({id:I.hS.WATERFALL_TIMED,icon:"timer",tooltip:"Timed view"});var o=v.useMemo((function(){return new Set([n])}),[n]),a=v.useCallback((function(e){return t(e)}),[t]);return(0,R.jsx)(P.h,{activeItems:o,buttons:i,onClick:a})})),D=function(e){return"".concat(Math.round(e/1e3/60),"m")},L=function(e){return"".concat((e/1e3).toFixed(0),"s")},A=function(e){return"".concat((e/1e3).toFixed(1),"s")},F=[{tickIntervalMs:500,tickLabels:A},{tickIntervalMs:1e3,tickLabels:L},{tickIntervalMs:5e3,tickLabels:L},{tickIntervalMs:1e4,tickLabels:L},{tickIntervalMs:3e4,tickLabels:L},{tickIntervalMs:6e4,tickLabels:L},{tickIntervalMs:12e4,tickLabels:D},{tickIntervalMs:3e5,tickLabels:D},{tickIntervalMs:6e5,tickLabels:D},{tickIntervalMs:12e5,tickLabels:D},{tickIntervalMs:36e5,tickLabels:D},{tickIntervalMs:216e5,tickLabels:D}],M=function(e){var n=e.scale,t=e.viewport,r=e.nowMs,i=e.startMs,o=e.highlightedMs,a=e.layoutSize,s="translate(".concat(I.Nw-t.left,"px)"),l=[],c=[],u=n,d=F.find((function(e){return e.tickIntervalMs*u>80}));if(d)for(var p=d.tickIntervalMs,h=d.tickLabels,f=p*u,m=Math.floor(t.left/f)*f,x=m;x<m+t.width;x+=f)if(!(x-t.left<10)){var g=x/u,y="".concat(g.toFixed(2)),v=h(g);c.push((0,R.jsx)("div",{className:"line",style:{left:x,transform:s}},y)),l.push((0,R.jsx)("div",{className:"tick",style:{left:x-28,transform:s},children:v},y))}return(0,R.jsxs)(z,{children:[(0,R.jsxs)(G,{children:[l,2===o.length&&(0,R.jsx)("div",{className:"tick duration",style:{left:(o[0]-i)*u+2,width:(o[1]-o[0])*u-2,transform:s},children:(0,k.fv)(o[1]-o[0])},"highlight-duration"),o.map((function(e,n){var r=(e-i)*u,o=0===n&&r>56+t.left?-55:0;return(0,R.jsx)("div",{className:"tick highlight",style:{left:r+o,transform:s},children:A(e-i)},"highlight-".concat(n))}))]}),(0,R.jsxs)(K,{style:{width:t.width,height:t.height},children:[c,o.map((function(e,n){return(0,R.jsx)("div",{className:"line highlight",style:{left:(e-i)*u+(0===n?-1:0),transform:s}},"highlight-".concat(n))})),r>i&&(0,R.jsx)("div",{className:"fog-of-war",style:{left:(r-i)*u,width:Math.max(a.width,t.width)-(r-i)*u+100,transform:s}})]})]})},z=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleContainer",componentId:"qye3mp-0"})(["width:100%;& .tick{position:absolute;padding-top:7px;width:","px;height:","px;box-sizing:border-box;transition:left ","ms linear,width ","ms linear;text-align:center;}& .tick.duration{color:",";background:",";box-shadow:0 1px 1px rgba(0,0,0,0.2);}& .tick.highlight{color:white;height:","px;background:",";}& .line{position:absolute;border-left:1px solid #f0f0f0;transition:left ","ms linear;top:0px;bottom:0px;}& .line.highlight{border-left:2px solid ",";z-index:1111;top:-1px;}& .fog-of-war{position:absolute;background:",";transition:left ","ms linear;top:0px;bottom:0px;width:100%;}"],56,32,I.V8,I.V8,d.w.Gray500,d.w.Gray100,34,d.w.Gray900,I.V8,d.w.Gray900,d.w.Gray50,I.V8),G=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleTicksContainer",componentId:"qye3mp-1"})(["height:","px;z-index:4;position:relative;background:",";display:flex;color:",";font-size:13px;font-family:",";box-shadow:inset 0 -1px ",";overflow:hidden;"],32,d.w.White,d.w.Gray500,m.b.monospace,d.w.KeylineGray),K=s.ZP.div.withConfig({displayName:"GanttChartTimescale__TimescaleLinesContainer",componentId:"qye3mp-2"})(["z-index:0;top:","px;left:0;position:absolute;pointer-events:none;overflow:hidden;"],32),U=t(41080),B=t(36172),$=t(42413),V=v.memo((function(e){return(0,R.jsxs)(q,{$fillColor:d.w.Gray600,className:"bp3-slider bp3-slider-unlabeled",onMouseDown:function(n){var t,r=n.currentTarget.closest(".bp3-slider").getBoundingClientRect();t=n.target instanceof HTMLElement&&n.target.classList.contains("bp3-slider-handle")?n.pageX:r.left+e.value/100*r.width;var i=function(n){var i=e.value+(n.pageX-t)*(100/r.width);e.onChange(Math.max(0,Math.min(100,i)))};document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(n){i(n),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))},children:[(0,R.jsxs)("div",{className:"bp3-slider-track",children:[(0,R.jsx)("div",{className:"bp3-slider-progress",style:{left:0,right:0,top:0}}),(0,R.jsx)("div",{className:"bp3-slider-progress bp3-intent-primary",style:{left:0,right:"".concat(100-e.value,"%"),top:0}})]}),(0,R.jsx)("div",{className:"bp3-slider-axis"}),(0,R.jsx)("span",{className:"bp3-slider-handle",style:{left:"calc(".concat(e.value,"% - 8px)")},tabIndex:0})]})})),q=s.ZP.div.withConfig({displayName:"ZoomSlider__ZoomSliderContainer",componentId:"yxtf4j-0"})(["",""],$.kp),H=t(76314),W=function(e){return e===I.hS.FLAT||e===I.hS.WATERFALL||e===I.hS.WATERFALL_TIMED?e:I.hS.WATERFALL_TIMED},J=t(88291),Y="gantt-highlight-time";function Q(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];clearTimeout(r),n?r=setTimeout((function(){return Q(e,!1)}),100):document.dispatchEvent(new CustomEvent(Y,{detail:e}))}var X=function(e){var n=e.graph,t=e.onSetSelection,r=e.options,i=e.selection,s=e.toolbarActions,c=(0,H.U)("GanttChartModePreference",W),u=(0,a.Z)(c,2),d=u[0],p=u[1],h=v.useState((function(){return(0,o.Z)((0,o.Z)((0,o.Z)({},I.WN),r),{},{mode:d})})),f=(0,a.Z)(h,2),m=f[0],x=f[1],g=v.useRef(null),y=v.useRef(null),j=(0,b.V)(n,i.query),w=v.useMemo((function(){return{nodes:m.hideUnselectedSteps?j.all:n,mode:m.mode}}),[n,j.all,m.hideUnselectedSteps,m.mode]),k=v.useMemo((function(){var e=function(e){return e.map((function(e){return e.name})).join(",")};return y.current&&e(y.current.nodes)===e(w.nodes)&&y.current.mode===w.mode||(g.current=(0,T.tc)(w),y.current=w),g.current}),[w]),S=v.useCallback((function(e){x((function(n){return(0,o.Z)((0,o.Z)({},n),e)}))}),[]),C=v.useCallback((function(e){S({mode:e}),p(e)}),[p,S]),N=v.useCallback((function(e){t(e||"*")}),[t]),E=v.useCallback((function(e){var n="*".concat(e,"*");N(i.query!==n?n:"*")}),[N,i.query]);return(0,R.jsxs)(ae,{children:[(0,R.jsxs)(B.qn,{children:[(0,R.jsx)(O,{value:m.mode,onChange:C,hideTimedMode:m.hideTimedMode}),m.mode===I.hS.WATERFALL_TIMED&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(B.lX,{}),(0,R.jsx)("div",{style:{width:200},children:(0,R.jsx)(V,{value:m.zoom,onChange:function(e){return S({zoom:e})}})}),(0,R.jsx)(B.lX,{}),(0,R.jsx)(l.X,{style:{marginBottom:0},label:"Hide not started steps",checked:m.hideWaiting,onChange:function(e){return S({hideWaiting:e.target.checked})}})]}),(0,R.jsx)("div",{style:{flex:1}}),s]}),(0,R.jsx)(ee,(0,o.Z)((0,o.Z)({},e),{},{options:(0,o.Z)({},m),layout:k,graph:n,onUpdateQuery:N,onDoubleClickStep:E,onChange:function(){return S({hideUnselectedSteps:!m.hideUnselectedSteps})}}))]})},ee=function(e){var n=(0,J.S)(),t=n.viewport,r=n.containerProps,s=n.onMoveToViewport,f=v.useState(null),m=(0,a.Z)(f,2),x=m[0],g=m[1],y=v.useState(null),j=(0,a.Z)(y,2),b=j[0],k=j[1],C=v.useState((function(){return e.overrideNowTime||Date.now()})),E=(0,a.Z)(C,2),Z=E[0],P=E[1],O=e.options,D=e.metadata,L=e.selection,A=v.useContext(w.I).rootServerURI,F=v.useContext(S.DN),z=F.availability,G=F.disabled,K=F.status,B=!G&&"available"===z&&K===WebSocket.CLOSED,$=I.vL;t.width&&D&&D.startedPipelineAt&&($=Math.max(1,t.width-150)/Math.max(1,Z-D.startedPipelineAt));var V=Math.exp(Math.log($)+(Math.log(I.Fv)-Math.log($))/100*O.zoom);v.useEffect((function(){if(0!==V&&!B){if(null===D||void 0===D||!D.exitedAt){var e=Math.max(I.V8,2/V),n=Date.now(),t=setTimeout((function(){return P(n)}),e-(n-Z));return function(){return clearTimeout(t)}}Z!==D.exitedAt&&P(D.exitedAt)}}),[V,Z,B,D]),v.useEffect((function(){var e=function(e){return k(e.detail)};return document.addEventListener(Y,e),function(){return document.removeEventListener(Y,e)}}));var q=(0,T.zI)(e.layout,O,D||N.PG,V,Z),H={width:Math.max.apply(Math,[0].concat((0,i.Z)(q.boxes.map((function(e){return e.x+e.width+I.gJ}))))),height:Math.max.apply(Math,[0].concat((0,i.Z)(q.boxes.map((function(e){return I.$T+e.y*I.e+I.j})))))};v.useEffect((function(){var e=q.boxes.find((function(e){return L.keys.includes(e.node.name)}));if(e){var n=te(e),r=(n.maxX+n.minX)/2-t.width/2,i=(n.maxY+n.minY)/2-t.height/2;s({left:r,top:i},!0)}}),[L]);var W=[];if(e.focusedTime&&W.push(e.focusedTime),b)W.push(b);else if(L.keys.length>0){var Q=L.keys.map((function(e){return null===D||void 0===D?void 0:D.steps[e]})).filter((function(e){return void 0!==e})).sort((function(e,n){return e.start&&n.start?e.start-n.start:0})),X=Q[0],ee=Q[Q.length-1];null!==X&&void 0!==X&&X.start&&W.push(X.start),null!==ee&&void 0!==ee&&ee.end&&W.push(ee.end)}var re=t.width>0,ie=(0,R.jsxs)(R.Fragment,{children:[O.mode===I.hS.WATERFALL_TIMED&&re&&(0,R.jsx)(M,{scale:V,viewport:t,layoutSize:H,startMs:(null===D||void 0===D?void 0:D.startedPipelineAt)||0,highlightedMs:W,nowMs:Z}),(0,R.jsx)("div",(0,o.Z)((0,o.Z)({style:{overflow:"scroll",flex:1}},r),{},{children:(0,R.jsx)("div",{style:(0,o.Z)({position:"relative",marginBottom:70},H),children:re&&(0,R.jsx)(ne,{options:O,metadata:D||N.PG,layout:q,hoveredStep:x,focusedSteps:L.keys,viewport:t,setHoveredNodeName:g,onClickStep:e.onClickStep,onDoubleClickStep:e.onDoubleClickStep})})})),(0,R.jsxs)(le,{children:[B?(0,R.jsx)(se,{children:(0,R.jsx)(c.x,{flex:{justifyContent:"space-around"},margin:{bottom:12},children:(0,R.jsxs)(u.Z,{direction:"row",spacing:8,background:"".concat(d.w.Yellow500,"26"),padding:{vertical:8,horizontal:12},alignItems:"flex-start",children:[(0,R.jsx)(p.JO,{name:"warning",color:d.w.Yellow700}),(0,R.jsxs)("div",{style:{maxWidth:"400px",whiteSpace:"normal",overflow:"hidden"},children:[(0,R.jsx)("strong",{children:"Lost connection to Dagit server."}),(0,R.jsx)("span",{children:" Verify that your instance is responding to requests at ".concat(A," and reload the page.")})]})]})})}):null,(0,R.jsxs)(ce,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,R.jsx)(_.j,{items:e.graph,value:e.selection.query,placeholder:"Type a step subset",onChange:e.onUpdateQuery,presets:D?(0,T.un)(D,q):void 0,className:L.keys.length>0?"has-step":""}),(0,R.jsx)(l.X,{checked:O.hideUnselectedSteps,label:"Hide unselected steps",onChange:e.onChange})]})]})]});return D?(0,R.jsx)(h.OS,{identifier:"gantt-split",axis:"horizontal",first:ie,firstInitialPercent:70,second:(0,R.jsx)(U.V,(0,o.Z)((0,o.Z)({},e),{},{nowMs:Z,metadata:D,onHighlightStep:function(e){return g(e)}}))}):ie},ne=function(e){var n=e.viewport,t=e.layout,r=e.hoveredStep,i=e.focusedSteps,a=e.metadata,s=e.options,l=[],c=function(e){return e.minX<n.left+n.width&&e.maxX>n.left&&e.minY<n.top+n.height&&e.maxY>n.top},u={};return s.mode!==I.hS.FLAT&&t.boxes.forEach((function(e){e.children.forEach((function(n,s){var d,p=re(e,n);if(c(p)){var h=!t.boxes.includes(n),f=!!a&&!(null!==(d=a.steps[n.node.name])&&void 0!==d&&d.state),m=u[p.maxX]||0;u[p.maxX]=m+1,l.push((0,R.jsx)(ie,(0,o.Z)({darkened:((null===i||void 0===i?void 0:i.includes(e.node.name))||r)===e.node.name||((null===i||void 0===i?void 0:i.includes(n.node.name))||r)===n.node.name,dotted:h||f,depNotDrawn:h,depIdx:m},p),"".concat(e.key,"-").concat(n.key,"-").concat(s)))}}))})),t.boxes.forEach((function(n){var t=te(n),u=n.width===I.jZ;c(t)&&l.push((0,R.jsxs)("div",{"data-tooltip":n.node.name,onClick:function(t){return e.onClickStep(n.node.name,t)},onDoubleClick:function(){return e.onDoubleClickStep(n.node.name)},onMouseEnter:function(){return e.setHoveredNodeName(n.node.name)},onMouseLeave:function(){return e.setHoveredNodeName(null)},className:"\n            chart-element\n            ".concat(u?"dot":"box","\n            ").concat(i.includes(n.node.name)&&"focused","\n            ").concat(r===n.node.name&&"hovered","\n            ").concat((0,Z.IL)(n.node.name)&&"dynamic"),style:(0,o.Z)({left:t.minX,top:t.minY+(u?I.t3:I.XL),width:u?I.D6:n.width},(0,T.HB)(n.state,{metadata:a,options:s})),children:[n.state===N.TN.RUNNING?(0,R.jsx)(f.$,{purpose:"body-text"}):void 0,oe(n)]},n.key))})),s.mode===I.hS.WATERFALL_TIMED&&t.markers.map((function(e,n){return{marker:e,idx:n,bounds:te(e)}})).filter((function(e){var n=e.bounds;return c(n)})).sort((function(e,n){return e.bounds.minX-n.bounds.minX})).forEach((function(e){var n=e.marker,t=e.bounds,r=e.idx,i=n.width===I.jZ;l.push((0,R.jsx)("div",{"data-tooltip":n.key,className:"\n            chart-element\n            ".concat(i?"marker-dot":"marker-whiskers"),style:{left:t.minX,top:t.minY+(i?I.t3:I.XL),width:i?I.D6:n.width},children:(0,R.jsx)("div",{})},r))})),(0,R.jsx)(R.Fragment,{children:l})},te=function(e){return{minX:e.x,minY:I.$T+e.y*I.e,maxX:e.x+e.width,maxY:I.$T+e.y*I.e+I.e}},re=function(e,n){if(n.y<e.y){var t=[n,e];e=t[0],n=t[1]}var r=e.width===I.jZ?I.t3+I.D6/2:I.e/2,i=n.width===I.jZ,o=i?I.t3+I.D6/2:I.e/2,a=n.y===e.y;return{minX:Math.min(e.x+e.width,n.x+n.width),minY:I.$T+(e.y*I.e+r),maxX:a?Math.max(e.x,n.x):Math.max(e.x+e.width/2,n.x+(i?I.D6:n.width)/2),maxY:a?I.$T+n.y*I.e+o:I.$T+n.y*I.e+(i?I.t3:I.XL)}},ie=v.memo((function(e){var n=e.minX,t=e.minY,r=e.maxX,i=e.maxY,o=e.dotted,a=e.darkened,s=e.depIdx,l=e.depNotDrawn,c="".concat(I.v2,"px ").concat(o?"dotted":"solid"," ").concat(a?d.w.Gray700:d.w.Gray300),u=r+s%10*I.v2;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"line",style:{height:1,left:n,width:l?50:u-n,top:t-1,borderTop:c,zIndex:a?100:1}}),t!==i&&!l&&(0,R.jsx)("div",{className:"line",style:{width:1,left:u,top:t-I.v2/2,height:i-t,borderRight:c,zIndex:a?100:1}})]})}),y());function oe(e){if(!(e.width<=I.Bw)){var n=7+(e.state===N.TN.RUNNING?16:0),t=(e.width-n)/6.2;return(0,k.R9)(e.node.name,{maxLength:t})}}var ae=s.ZP.div.withConfig({displayName:"GanttChart__GanttChartContainer",componentId:"sc-5c9vwn-0"})(["height:100%;position:relative;display:flex;flex-direction:column;z-index:2;user-select:none;background:",";.line{position:absolute;user-select:none;pointer-events:none;transition:top ","ms linear,left ","ms linear,width ","ms linear,height ","ms linear;}.chart-element{font-size:12px;transition:top ","ms linear,left ","ms linear;display:inline-block;position:absolute;color:white;overflow:hidden;user-select:text;z-index:2;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;}.dot{width:","px;height:","px;border:1px solid transparent;border-radius:","px;}.box{height:","px;padding:3px;padding-right:1px;border:1px solid transparent;border-radius:2px;white-space:nowrap;font-family:",";font-size:12.5px;font-weight:700;line-height:15px;transition:top ","ms linear,left ","ms linear,width ","ms linear,height ","ms linear;&.focused{border:1px solid ",";box-shadow:0 0 0 2px ",";}&.hovered{border:1px solid ",";}&.dynamic{filter:brightness(125%);}","{display:inline-block;vertical-align:text-bottom;padding-right:4px;}}.marker-dot{width:","px;height:","px;border:1px solid rgb(27,164,206);border-radius:","px;}.marker-whiskers{display:inline-block;position:absolute;height:","px;background:rgba(27,164,206,0.09);border-left:1px solid rgba(27,164,206,0.6);border-right:1px solid rgba(27,164,206,0.6);transition:top ","ms linear,left ","ms linear,width ","ms linear;& > div{border-bottom:1px dashed rgba(27,164,206,0.6);height:","px;}}"],d.w.White,I.V8,I.V8,I.V8,I.V8,I.V8,I.V8,I.D6,I.D6,I.D6/2,I.e-2*I.XL,m.b.monospace,I.V8,I.V8,I.V8,I.V8,d.w.Gray900,d.w.Yellow500,d.w.Gray800,f.Z,I.D6,I.D6,I.D6/2,I.e-2*I.XL,I.V8,I.V8,I.V8,(I.e-2*I.XL)/2),se=s.ZP.div.withConfig({displayName:"GanttChart__WebsocketWarning",componentId:"sc-5c9vwn-1"})(["position:absolute;bottom:100%;color:",";width:100%;"],d.w.Yellow700),le=s.ZP.div.withConfig({displayName:"GanttChart__GraphQueryInputContainer",componentId:"sc-5c9vwn-2"})(["z-index:2;position:absolute;bottom:20px;left:50%;transform:translateX(-50%);white-space:nowrap;"]),ce=(0,s.ZP)(c.x).withConfig({displayName:"GanttChart__FilterInputsBackgroundBox",componentId:"sc-5c9vwn-3"})(["background:radial-gradient("," 0%,rgba(255,255,255,0) 100%);padding:15px 15px 0px 15px;"],d.w.Gray50),ue=function(e){var n=e.runId;return(0,R.jsxs)(ae,{children:[(0,R.jsx)(B.qn,{}),(0,R.jsx)(h.OS,{identifier:"gantt-split",axis:"horizontal",first:(0,R.jsx)("div",{style:{margin:"auto",marginTop:100},children:(0,R.jsx)(f.$,{purpose:"section"})}),firstInitialPercent:70,second:(0,R.jsx)(U.V,{metadata:N.PG,selection:{keys:[],query:"*"},runId:n,nowMs:0})})]})},de=function(e){var n=e.run;return(0,R.jsxs)(ae,{children:[(0,R.jsx)(B.qn,{style:{justifyContent:"flex-end"},children:(0,R.jsx)(C.jT,{run:n})}),(0,R.jsx)(h.OS,{identifier:"gantt-split",axis:"horizontal",first:(0,R.jsx)(x.t,{icon:"arrow_forward",title:"Run queued",description:"This run is queued for execution and will start soon.",action:(0,R.jsx)(j.rU,{to:(0,E.it)([{token:"status",value:"QUEUED"}]),children:"View queued runs"})}),firstInitialPercent:70,second:(0,R.jsx)(U.V,{metadata:N.PG,selection:{keys:[],query:"*"},runId:n.id,nowMs:0})})]})}},39151:function(e,n,t){t.d(n,{tc:function(){return h},HB:function(){return y},zI:function(){return j},un:function(){return w}});var r,i=t(19065),o=t(95764),a=t(16798),s=t(47427),l=t(59019),c=t(7838),u=t(40355),d=t(57676),p=t(92334),h=function(e){var n=e.nodes,t=e.mode,r=n.filter((function(e){return!e.inputs.some((function(e){return e.dependsOn.some((function(e){return n.find((function(n){return n.name===e.solid.name}))}))}))})).map((function(e){return{node:e,key:e.name,state:void 0,children:[],x:-1,y:-1,root:!0,width:d.nY}})),i=(0,l.Z)(r);i.forEach((function(n){return m(r,n,e)}));var o=function e(n,t){n.x>=t||(n.x=t,n.children.forEach((function(t){return e(t,n.x+n.width+d.gJ)})))};i.forEach((function(e){return o(e,d.Nw)}));var a={},c={};r.forEach((function(e,n){e.y=n,e.children.forEach((function(n){a[n.node.name]=a[n.node.name]||[],a[n.node.name].push(e)}))})),r.forEach((function(e){c["".concat(e.y)]=c["".concat(e.y)]||[],c["".concat(e.y)].push(e)}));for(var u=!0;u;){u=!1;for(var h=function(e){var n=r[e],t=(a[n.node.name]||[]).sort((function(e,n){return n.y-e.y}))[0];if(!t)return"continue";if((0,p.IL)(n.node.name)&&!(0,p.IL)(t.node.name))return"continue";var i=c["".concat(t.y)];if(i.find((function(e){return e.x===n.x})))return"continue";var o=t.x,s=i.some((function(e){return e.x>o&&e.x<n.x})),l=i.some((function(e){return e.x<n.x&&e.children.some((function(e){return e.y>=t.y&&e.x>n.x}))}));return s||l?"continue":(c["".concat(n.y)]=c["".concat(n.y)].filter((function(e){return e!==n})),n.y=t.y,c["".concat(n.y)].push(n),u=!0,"break")},f=r.length-1;f>0;f--){var x=h(f);if("continue"!==x&&"break"===x)break}}if(t===d.hS.FLAT){for(var g=0,y=0,v=Object.keys(c);y<v.length;y++){var j=v[y],w=c[j];if(w.length){var b,k=w[0].root?d.Nw:a[w[0].node.name][0].x+d.aO,S=(0,s.Z)(w);try{for(S.s();!(b=S.n()).done;){var C=b.value;C.x=k,C.y=g,g+=1,k+=d.aO}}catch(I){S.e(I)}finally{S.f()}}}r.sort((function(e,n){return e.y-n.y||e.x-n.x}))}else for(u=!0;u;){u=!1;for(var N=r.reduce((function(e,n){return Math.max(e,n.y)}),0),E=function(e){if(!r.some((function(n){return n.y===e})))return r.filter((function(n){return n.y>e})).forEach((function(e){return e.y-=1})),u=!0,"break"},_=0;_<N;_++){if("break"===E(_))break}}return{boxes:r,markers:[]}},f=function e(n,t,r){var i=n.indexOf(t),o=n.indexOf(r);if(!(i<=o)){n.splice(o,1),n.splice(i,0,r);var a,l=(0,s.Z)(r.children);try{for(l.s();!(a=l.n()).done;){e(n,r,a.value)}}catch(c){l.e(c)}finally{l.f()}}},m=function e(n,t,r){var i,o=[],a=[],l=(0,s.Z)(t.node.outputs);try{for(l.s();!(i=l.n()).done;){var c,u=i.value,h=(0,s.Z)(u.dependedBy);try{var m=function(){var e=c.value,i=r.nodes.find((function(n){return e.solid.name===n.name}));if(!i)return"continue";if(o.includes(i.name))return"continue";if((0,p.Gm)(i.name)&&o.filter((function(e){return(0,p.IL)(e)})).some((function(e){return(0,p.pr)(e)===(0,p.pr)(i.name)})))return"continue";o.push(i.name);var s=n.findIndex((function(e){return e.node===i})),l=void 0;-1===s?(l={children:[],key:i.name,node:i,state:void 0,width:d.nY,root:!1,x:0,y:-1},n.push(l),a.push(l)):(l=n[s],f(n,t,l)),t.children.push(l)};for(h.s();!(c=h.n()).done;)m()}catch(v){h.e(v)}finally{h.f()}}}catch(v){l.e(v)}finally{l.f()}for(var x=0,g=a;x<g.length;x++){var y=g[x];e(n,y,r)}},x=(0,a.Z)({},u.TN.RUNNING,c.w.Blue700),g=(r={},(0,a.Z)(r,u.TN.RUNNING,c.w.Blue100),(0,a.Z)(r,u.TN.RETRY_REQUESTED,c.w.Yellow500),(0,a.Z)(r,u.TN.SUCCEEDED,c.w.Green500),(0,a.Z)(r,u.TN.FAILED,c.w.Red500),(0,a.Z)(r,u.TN.SKIPPED,c.w.Gray500),r),y=function(e,n){return n.metadata.startedPipelineAt||n.options.mode===d.hS.WATERFALL_TIMED?e&&e!==u.TN.PREPARING?{color:x[e]||"#fff",background:g[e]||c.w.Gray400}:{color:c.w.Gray600,background:c.w.White,border:"1.5px dotted ".concat(c.w.Gray500)}:{background:"#2491eb"}},v=function(e,n,t){for(var r=function(r){var i=e[r],a=n.steps[i.node.name];if(!a)return Object.assign(i,t(i)),"continue";if(0===a.attempts.length)return Object.assign(i,t(i)),i.state=a.state,"continue";var s=[];a.attempts.forEach((function(e,n){s.push((0,o.Z)((0,o.Z)((0,o.Z)({},i),t(i,e,n)),{},{key:"".concat(i.key,"-").concat(s.length),state:e.exitState||u.TN.RUNNING}))}));for(var c=0;c<s.length-1;c++)s[c].children=[s[c+1]];s[s.length-1].children=i.children,Object.assign(i,s[0]),s.length>1&&e.splice.apply(e,[r,0].concat((0,l.Z)(s.slice(1))))},i=e.length-1;i>=0;i--)r(i)},j=function(e,n,t,r,a){var l=function(e){var n,t=e.boxes,r=e.markers,i=new WeakMap,a=r.map((function(e){return(0,o.Z)({},e)})),l=[],c=(0,s.Z)(t);try{for(c.s();!(n=c.n()).done;){var u=n.value,d=(0,o.Z)({},u);l.push(d),i.set(u,d)}}catch(h){c.e(h)}finally{c.f()}for(var p=0;p<t.length;p++)l[p].children=t[p].children.map((function(e){return i.get(e)}));return{boxes:l,markers:a}}(e),c=l.boxes,u=[];if(n.mode===d.hS.WATERFALL_TIMED){var p=t.startedPipelineAt||a,h=function(e){return d.Nw+(e-p)*r},f=function(e){var n=e.start,t=e.end;return Math.max(d.jZ,((t||a)-n)*r)};v(c,t,(function(e,n){return{x:n?h(n.start):0,width:n?f(n):d.nY}})),function(e,n){for(var t,r=e.filter((function(e){return 0===e.x})),i=function e(t,i){if(0===t.x){var o=r.indexOf(t);-1!==o&&r.splice(o,1)}t.x=Math.max(t.x,n,i);var a,l=t.x+t.width+d.gJ,c=(0,s.Z)(t.children);try{for(c.s();!(a=c.n()).done;){var u=a.value;u.x<l&&e(u,l)}}catch(p){c.e(p)}finally{c.f()}};t=r.shift();)i(t,n)}(c,h(a)+d.gJ),t.globalMarkers.forEach((function(e){void 0!==e.start&&u.push({key:"global:".concat(e.key),y:0,x:h(e.start),width:f({start:e.start,end:e.end})})})),Object.entries(t.steps).forEach((function(n){var t,r=(0,i.Z)(n,2),o=r[0],a=r[1],l=(0,s.Z)(a.markers);try{for(l.s();!(t=l.n()).done;){var c=t.value;if(void 0!==c.start){var d=e.boxes.find((function(e){return e.node.name===o}));d&&u.push({key:"".concat(o,":").concat(c.key),y:d.y,x:h(c.start),width:f({start:c.start,end:c.end})})}}}catch(p){l.e(p)}finally{l.f()}})),n.hideWaiting&&(c=c.filter((function(e){var n;return!(null===(n=t.steps[e.node.name])||void 0===n||!n.state)})))}else if(n.mode===d.hS.WATERFALL)v(c,t,(function(e,n,t){return{x:e.x+(t?(d.gJ+d.nY)*t:0),width:d.nY}}));else{if(n.mode!==d.hS.FLAT)throw new Error("Invalid mdoe ");v(c,t,(function(e,n,t){return{x:e.x+(t?(2+d.nY)*t:0),width:d.nY}}))}return{boxes:c,markers:u}},w=function(e,n){if(0!==n.boxes.length){var t=[],r=Object.keys(e.steps).filter((function(n){return e.steps[n].state===u.TN.FAILED})).map((function(e){return"+".concat(e)})).join(", ");r&&t.push({name:"Errors",value:r});var i=Object.keys(e.steps).filter((function(n){var t,r;return(null===(t=e.steps[n])||void 0===t?void 0:t.end)&&(null===(r=e.steps[n])||void 0===r?void 0:r.start)})).sort((function(n,t){return e.steps[t].end-e.steps[t].start-(e.steps[n].end-e.steps[n].start)})).slice(0,5).map((function(e){return'"'.concat(e,'"')})).join(", ");i&&t.push({name:"Slowest Individual Steps",value:i});var o=(0,l.Z)(n.boxes).filter((function(n){var t;return null===(t=e.steps[n.node.name])||void 0===t?void 0:t.end})).sort((function(e,n){return n.x+n.width-(e.x+e.width)}))[0];return o&&t.push({name:"Slowest Path",value:"*".concat(o.node.name)}),t}}},41080:function(e,n,t){t.d(n,{V:function(){return F},o:function(){return K}});var r,i=t(95764),o=t(922),a=t(34595),s=t(11831),l=t(7838),c=t(325),u=t(76341),d=t(53857),p=t(40355),h=t(57676),f=t(39151),m=t(99500),x=t(73701),g=t(3159),y=t(6466),v=t(89279),j=t(60652),w=t(32030),b=t(8546),k=t(74549),S=t(14156),C=t(12436),N=t(19102),E=t(59549),_=t(28064),I=t(55752),Z=t(32289);function T(e){var n=e.tags.find((function(e){return e.key===_.H.StepSelection}));return n?n.value:"*"}var P=function(e){var n,t=e.runId,r=e.runStatusLastChangedAt,i=(0,x.a)(R,{variables:{runId:t},fetchPolicy:"cache-and-network",notifyOnNetworkStatusChange:!0}),o=i.data,a=i.refetch;(0,N.C4)(i,N.dT),c.useEffect((function(){r&&a()}),[a,r]);var s=null===o||void 0===o?void 0:o.runGroupOrError;if(!s||"RunGroupNotFoundError"===s.__typename)return null;if("PythonError"===s.__typename)return(0,Z.jsxs)(y.Z,{direction:"row",spacing:8,padding:8,children:[(0,Z.jsx)(v.JO,{name:"warning",color:l.w.Yellow500}),(0,Z.jsxs)("div",{style:{fontSize:"13px"},children:["The run group for this run could not be loaded."," ",(0,Z.jsx)(j.Z,{color:l.w.Blue500,underline:"always",onClick:function(){(0,S._)({title:"Python error",body:s.message})},children:"View error"})]})]});if(1===(null===(n=s.runs)||void 0===n?void 0:n.length))return null;var u=[];(s.runs||[]).forEach((function(e){e&&"number"===typeof e.startTime&&u.push(e)}));var p=u.sort((function(e,n){return(e.startTime||0)-(n.startTime||0)}));return(0,Z.jsx)(d.pC,{title:p[0]?"".concat(p[0].pipelineName," (").concat(p.length,")"):"",children:(0,Z.jsx)(Z.Fragment,{children:p.map((function(e,n){return e?(0,Z.jsxs)(O,{to:"/instance/runs/".concat(e.runId),selected:e.runId===t,children:[n<p.length-1&&(0,Z.jsx)(D,{style:{height:36}}),(0,Z.jsx)(w.x,{padding:{top:4},children:(0,Z.jsx)(E.K9,{status:e.status})}),(0,Z.jsxs)("div",{style:{flex:1,marginLeft:5,minWidth:0,color:l.w.Gray700},children:[(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Z.jsxs)(L,{children:[e.runId.split("-")[0],0===n&&A]}),(0,Z.jsx)(I.Zr,{run:e})]}),(0,Z.jsxs)("div",{style:{display:"flex",color:l.w.Gray700,justifyContent:"space-between"},children:[T(e),(0,Z.jsx)(I.Tw,{run:e})]})]})]},e.runId):null}))})})},R=(0,g.Ps)(r||(r=(0,m.Z)(["\n  query RunGroupPanelQuery($runId: ID!) {\n    runGroupOrError(runId: $runId) {\n      __typename\n      ...PythonErrorFragment\n      ... on RunGroup {\n        rootRunId\n        runs {\n          id\n          runId\n          parentRunId\n          status\n          stepKeysToExecute\n          pipelineName\n          tags {\n            key\n            value\n          }\n          ...RunTimeFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n"])),I.$X,C.Bq),O=(0,o.ZP)(k.rU).withConfig({displayName:"RunGroupPanel__RunGroupRun",componentId:"tb4j34-0"})(["align-items:flex-start;background:",";padding:4px 6px 4px 24px;font-family:",";font-size:14px;line-height:20px;display:flex;position:relative;&:hover{text-decoration:none;background:",";}"],(function(e){return e.selected?l.w.Gray100:l.w.White}),b.b.monospace,(function(e){return e.selected?l.w.Gray100:l.w.Gray50})),D=o.ZP.div.withConfig({displayName:"RunGroupPanel__ThinLine",componentId:"tb4j34-1"})(["position:absolute;top:20px;width:1px;background:",";left:29px;z-index:2;"],l.w.Gray200),L=o.ZP.span.withConfig({displayName:"RunGroupPanel__RunTitle",componentId:"tb4j34-2"})(["color:",";font-weight:500;overflow:hidden;text-overflow:ellipsis;user-select:text;flex:1;"],l.w.Dark),A=(0,Z.jsx)("span",{style:{borderRadius:2,fontSize:12,lineHeight:"14px",background:l.w.Gray300,color:l.w.White,padding:"0 4px",fontWeight:400,userSelect:"none",marginLeft:12},children:"ROOT"}),F=function(e){var n=e.runId,t=e.nowMs,r=e.metadata,i=e.selection,o=e.onClickStep,a=e.onDoubleClickStep,s=e.onHighlightStep,l=c.useMemo((function(){for(var e=[],n=[],t=[],i=[],o=0,a=Object.keys(r.steps);o<a.length;o++){var s=a[o];switch(r.steps[s].state){case p.TN.PREPARING:e.push(s);break;case p.TN.RUNNING:case p.TN.UNKNOWN:n.push(s);break;case p.TN.FAILED:t.push(s);break;case p.TN.SUCCEEDED:i.push(s)}}return{preparing:e,executing:n,errored:t,succeeded:i}}),[r]),u=l.preparing,h=l.executing,f=l.errored,m=l.succeeded,x=function(e){return(0,Z.jsx)(M,{nowMs:t,name:e,metadata:r,selected:i.keys.includes(e),onClick:o,onDoubleClick:a,onHover:s},e)},g=(null===r||void 0===r?void 0:r.exitedAt)&&r.exitedAt>0;return(0,Z.jsxs)("div",{style:{overflowY:"auto"},children:[(0,Z.jsx)(P,{runId:n,runStatusLastChangedAt:r.exitedAt||r.startedProcessAt||r.startedPipelineAt||0}),(0,Z.jsx)(d.pC,{title:"".concat(g?"Not executed":"Preparing"," (").concat(u.length,")"),children:(0,Z.jsx)("div",{children:0===u.length?(0,Z.jsx)(B,{children:"No steps are waiting to execute"}):u.map(x)})}),(0,Z.jsx)(d.pC,{title:"Executing (".concat(h.length,")"),children:(0,Z.jsx)("div",{children:0===h.length?(0,Z.jsx)(B,{children:"No steps are executing"}):h.map(x)})}),(0,Z.jsx)(d.pC,{title:"Errored (".concat(f.length,")"),children:(0,Z.jsx)("div",{children:0===f.length?(0,Z.jsx)(B,{children:"No steps have errored"}):f.map(x)})}),(0,Z.jsx)(d.pC,{collapsedByDefault:!0,title:"Succeeded (".concat(m.length,")"),children:(0,Z.jsx)("div",{children:0===m.length?(0,Z.jsx)(B,{children:"No steps have succeeded"}):m.map(x)})})]})},M=function(e){var n,t,r=e.nowMs,o=e.name,l=e.selected,c=e.metadata,d=e.onClick,m=e.onHover,x=e.onDoubleClick,g=c.steps[o],y=null!==(n=g.end)&&void 0!==n?n:r;return(0,Z.jsxs)(G,{selected:l,onClick:function(e){return null===d||void 0===d?void 0:d(o,e)},onDoubleClick:function(){return null===x||void 0===x?void 0:x(o)},onMouseEnter:function(){return null===m||void 0===m?void 0:m(o)},onMouseLeave:function(){return null===m||void 0===m?void 0:m(null)},children:[g.state===p.TN.RUNNING?(0,Z.jsx)(a.$,{purpose:"body-text"}):g.state===p.TN.UNKNOWN?(0,Z.jsx)(s.u,{modifiers:{preventOverflow:{enabled:!1},flip:{enabled:!1}},position:"bottom",content:"Unknown step state. Run completed without step execution completion.",children:(0,Z.jsx)(K,{children:"?"})}):(0,Z.jsx)(K,{style:(0,i.Z)({},(0,f.HB)(null===(t=c.steps[o])||void 0===t?void 0:t.state,{metadata:c,options:{mode:h.hS.WATERFALL_TIMED}}))}),(0,Z.jsx)(z,{children:o}),g.start&&(0,Z.jsx)(U,{children:(0,u.fv)(y-g.start)})]},o)},z=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepLabel",componentId:"rrdi31-0"})(["overflow:hidden;text-overflow:ellipsis;flex:1;"]),G=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepItemContainer",componentId:"rrdi31-1"})(["display:flex;line-height:32px;height:32px;padding:0 14px 0 6px;gap:6px;align-items:center;border-bottom:1px solid ",";font-size:12px;"," &:hover{background:",";}"],l.w.KeylineGray,(function(e){return e.selected&&"background: ".concat(l.w.Gray100,";")}),l.w.Gray100),K=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepStatusDot",componentId:"rrdi31-2"})(["width:12px;height:12px;flex-shrink:0;border-radius:50%;text-align:center;line-height:12px;"]),U=o.ZP.div.withConfig({displayName:"GanttStatusPanel__Elapsed",componentId:"rrdi31-3"})(["color:",";font-variant-numeric:tabular-nums;"],l.w.Gray400),B=o.ZP.div.withConfig({displayName:"GanttStatusPanel__EmptyNotice",componentId:"rrdi31-4"})(["height:32px;font-size:12px;padding:8px 24px;color:",";"],l.w.Gray400)},36172:function(e,n,t){t.d(n,{qn:function(){return a},KC:function(){return s},lX:function(){return l}});var r=t(922),i=t(7838),o=t(47387),a=r.ZP.div.withConfig({displayName:"VizComponents__OptionsContainer",componentId:"sc-1s9sbos-0"})(["min-height:56px;display:flex;align-items:center;padding:5px 12px 5px 24px;border-bottom:1px solid ",";background:",";flex-shrink:0;flex-wrap:wrap;z-index:3;","{margin-top:0;gap:8px;@media (max-width:1100px){& .hideable-button-text{display:none;}& div[role='img']{margin:0;}}}"],i.w.KeylineGray,i.w.White,o.Rp),s=r.ZP.div.withConfig({displayName:"VizComponents__OptionsDivider",componentId:"sc-1s9sbos-1"})(["width:30px;height:25px;"]),l=r.ZP.div.withConfig({displayName:"VizComponents__OptionsSpacer",componentId:"sc-1s9sbos-2"})(["width:30px;"])},41302:function(e,n,t){t.d(n,{J:function(){return d},$:function(){return p}});var r,i=t(99500),o=t(59019),a=t(47427),s=t(3159),l=t(40355),c=t(5484),u=t(92334),d=function(e,n){var t,r={},i=Object.keys(n),s=(0,a.Z)(e.steps);try{for(s.s();!(t=s.n()).done;){var d=t.value;if(d.kind===c.dW.UNRESOLVED_MAPPED){var p=(0,u.mO)(d.key,i);if(!d.inputs.every((function(e){return e.dependsOn.every((function(e){var t;return l.TN.SUCCEEDED===(null===(t=n[e.key])||void 0===t?void 0:t.state)}))}))&&0===p.length){r[d.key]=[d.key];continue}r[d.key]=[].concat((0,o.Z)(p),[d.key])}}}catch(z){s.e(z)}finally{s.f()}var h,f={},m=(0,a.Z)(e.steps);try{for(m.s();!(h=m.n()).done;){var x,g=h.value,y=r[g.key]?r[g.key]:[g.key],v=(0,a.Z)(y);try{for(v.s();!(x=v.n()).done;){var j=x.value;f[j]={name:j,inputs:[],outputs:[]}}}catch(z){v.e(z)}finally{v.f()}}}catch(z){m.e(z)}finally{m.f()}var w,b=(0,a.Z)(e.steps);try{for(b.s();!(w=b.n()).done;){var k,S=w.value,C=r[S.key]?r[S.key]:[S.key],N=(0,a.Z)(C);try{for(N.s();!(k=N.n()).done;){var E,_=k.value,I=(0,a.Z)(S.inputs);try{for(I.s();!(E=I.n()).done;){var Z=E.value,T={dependsOn:[]};f[_].inputs.push(T);var P,R=(0,a.Z)(Z.dependsOn);try{for(R.s();!(P=R.n()).done;){var O=P.value,D=[];D=S.kind===c.dW.UNRESOLVED_COLLECT?r[O.key]||[O.key]:[O.kind===c.dW.UNRESOLVED_MAPPED?(0,u.os)(O.key,_):O.key];var L,A=(0,a.Z)(D);try{for(A.s();!(L=A.n()).done;){var F=L.value;if(f[F]){T.dependsOn.push({solid:{name:F}});var M=f[F].outputs[0];M||(M={dependedBy:[]},f[F].outputs.push(M)),M.dependedBy.push({solid:{name:_}})}}}catch(z){A.e(z)}finally{A.f()}}}catch(z){R.e(z)}finally{R.f()}}}catch(z){I.e(z)}finally{I.f()}}}catch(z){N.e(z)}finally{N.f()}}}catch(z){b.e(z)}finally{b.f()}return Object.values(f)},p=(0,s.Ps)(r||(r=(0,i.Z)(["\n  fragment ExecutionPlanToGraphFragment on ExecutionPlan {\n    steps {\n      key\n      kind\n      inputs {\n        dependsOn {\n          key\n          kind\n        }\n      }\n    }\n  }\n"])))},88291:function(e,n,t){t.d(n,{S:function(){return l}});var r=t(95764),i=t(19065),o=t(81137),a=t.n(o),s=t(325),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s.useRef(),t=s.useState({left:0,top:0}),o=(0,i.Z)(t,2),l=o[0],c=o[1],u=s.useState({width:0,height:0}),d=(0,i.Z)(u,2),p=d[0],h=d[1],f=e.initialOffset,m=s.useCallback((function(){if(n.current){var e,t=function(e){h({width:e.width,height:e.height});var t=n.current;if(t){var r=t.element;if(!t.__sized&&0!==e.width&&f){var i=f(r);r.scrollTop=i.top,r.scrollLeft=i.left,c(i),t.__sized=!0}}},r=n.current.element;return r instanceof HTMLElement&&("ResizeObserver"in window?(e=new window.ResizeObserver((function(e){e[0].target===r&&t({width:r.clientWidth,height:r.clientHeight})}))).observe(r):(console.warn("No ResizeObserver support, or useViewport is attached to a non-DOM node?"),t({width:r.clientWidth,height:r.clientHeight}))),function(){var n;null===(n=e)||void 0===n||n.disconnect()}}}),[f]);s.useEffect(m,[m]);var x=s.useRef(null),g=function(e){Math.floor(l.left)===e.currentTarget.scrollLeft&&Math.floor(l.top)===e.currentTarget.scrollTop||(x.current&&x.current.cancel(),c({left:e.currentTarget.scrollLeft,top:e.currentTarget.scrollTop}))},y=function(e,t){var r,i=null===(r=n.current)||void 0===r?void 0:r.element;if(i){var o=i.clientWidth,s=i.clientHeight;x.current&&(x.current.cancel(),x.current=null),e.left=Math.min(i.scrollWidth-o,Math.max(0,e.left)),e.top=Math.min(i.scrollHeight-s,Math.max(0,e.top));var u=function(){i.scrollTop=e.top,i.scrollLeft=e.left,c(e),x.current=null};t?x.current=a()(l,e,{step:function(e){i.scrollTop=e.top,i.scrollLeft=e.left,c({left:e.left,top:e.top})},done:u}):u()}},v=s.useCallback((function(e){var t;e!==(null===(t=n.current)||void 0===t?void 0:t.element)&&(n.current={element:e,__sized:!1},m())}),[m]);return{viewport:(0,r.Z)((0,r.Z)({},l),p),containerProps:{ref:v,onScroll:g},onMoveToViewport:y}}},46518:function(e,n,t){t.d(n,{nn:function(){return d},vN:function(){return p},r7:function(){return h},zy:function(){return m},LU:function(){return x}});var r=t(59019),i=t(95764),o=t(922),a=t(7838),s=t(8546),l=(t(325),t(16521)),c=t(66956),u=t(32289),d="PARENT_IN",p="PARENT_OUT",h=function(e){var n=e.minified,t=e.title,r=e.jumpTargetOp,o=e.edges,a=e.highlightedEdges,s=e.colorKey,d=e.item,p=e.layoutInfo,h=e.onDoubleClick,m=e.onHighlightEdges;if(!p)return null;var x=d.name,g=d.type,y=o.some((function(e){return(0,c.Id)(a,e)}));return(0,u.jsxs)(f,{title:t,style:(0,i.Z)((0,i.Z)({},(0,c.FK)(p.layout)),{},{width:"initial"}),onMouseEnter:function(){return m(o)},onMouseLeave:function(){return m([])},onClick:function(e){r&&h(r),e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},$colorKey:s,$highlighted:y,children:[n||!p.label?(0,u.jsx)("div",{className:"circle"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"circle"}),x!==l.K&&(0,u.jsx)("div",{className:"label",children:x}),g.displayName&&(0,u.jsx)("div",{className:"type",children:g.displayName})]}),p.collapsed.length>0&&(0,u.jsxs)("div",{className:"collapsedCount",children:["+ ",p.collapsed.length]})]})},f=o.ZP.div.withConfig({displayName:"OpIOBox__OpIOContainer",componentId:"sc-10vobse-0"})(["display:inline-flex;align-items:center;border-top-right-radius:6px;border-bottom-right-radius:6px;background:",";font-size:12px;.circle{width:14px;height:14px;border-radius:50%;background:",";display:inline-block;margin:6px;}.label{line-height:26px;font-family:",";font-weight:500;height:26px;padding-left:2px;padding-right:6px;}.type{padding:1px 6px;background:#e7e6f0;margin-right:4px;color:",";font-family:",";font-weight:700;border-radius:4px;}.collapsedCount{color:",";font-weight:600;margin-left:-3px;padding-right:4px;}"],(function(e){return e.$highlighted?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.75)"}),(function(e){return e.$highlighted?a.w.Blue500:a.w.Gray500}),s.b.monospace,a.w.Blue500,s.b.monospace,(function(e){return e.$highlighted?a.w.Blue500:a.w.Gray500}));function m(e,n){var t=[],i="".concat(n.name,": ").concat(n.type.displayName);if("CompositeSolidDefinition"!==e.__typename)throw new Error("Parent solid is not a composite - how did this happen?");if("InputDefinition"===n.__typename){var o=e.inputMappings.filter((function(e){return e.definition.name===n.name})).map((function(e){return e.mappedInput}));i+="\n\nConnected to: ".concat(o.map(l.R).join("\n")),t.push.apply(t,(0,r.Z)(o.map((function(e){return{a:"".concat(e.solid.name,":").concat(e.definition.name),b:d}}))))}if("OutputDefinition"===n.__typename){var a=e.outputMappings.filter((function(e){return e.definition.name===n.name})).map((function(e){return e.mappedOutput}));i+="\n\nConnected to: ".concat(a.map(l.R).join("\n")),t.push.apply(t,(0,r.Z)(a.map((function(e){return{a:"".concat(e.solid.name,":").concat(e.definition.name),b:p}}))))}return{edges:t,title:i,jumpTargetOp:1===t.length?t[0].a:null}}function x(e,n){var t=[],i="".concat(e.name,": ").concat(e.type.displayName),o=null;if(n&&"InputDefinition"===e.__typename){var a=n.inputs.find((function(n){return n.definition.name===e.name})).dependsOn;a.length&&(i+="\n\nFrom:\n"+a.map(l.R).join("\n"),o=1===a.length?a[0].solid.name:null,t.push.apply(t,(0,r.Z)(a.map((function(e){return{a:e.solid.name,b:n.name}}))))),t.push({a:"".concat(n.name,":").concat(e.name),b:d})}if(n&&"OutputDefinition"===e.__typename){var s=n.outputs.find((function(n){return n.definition.name===e.name}));if(!s)throw new Error("Invocation ".concat(n.name,' has no output with a definition named "').concat(e.name,'"'));var c=s.dependedBy;c.length&&(i+="\n\nUsed By:\n"+c.map((function(e){return(0,l.R)(e)})).join("\n"),o=1===c.length?c[0].solid.name:null,t.push.apply(t,(0,r.Z)(c.map((function(e){return{a:e.solid.name,b:n.name}}))))),t.push({a:"".concat(n.name,":").concat(e.name),b:p})}return{edges:t,title:i,jumpTargetOp:o}}},79447:function(e,n,t){t.d(n,{Un:function(){return S},wi:function(){return N},WH:function(){return E},fN:function(){return _}});var r,i,o=t(99500),a=t(95764),s=t(57994),l=t(98907),c=t(64428),u=t(28463),d=t(922),p=t(3159),h=t(89279),f=t(7838),m=t(8546),x=t(325),g=t(76341),y=t(39061),v=t(46518),j=t(47789),w=t(66956),b=t(32289),k=JSON.stringify({top:-20,left:5}),S=function(e){(0,c.Z)(t,e);var n=(0,u.Z)(t);function t(){var e;(0,s.Z)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).handleClick=function(n){n.preventDefault(),n.stopPropagation(),e.props.onClick()},e.handleDoubleClick=function(n){n.preventDefault(),n.stopPropagation(),e.props.onDoubleClick()},e.handleEnterComposite=function(n){n.preventDefault(),n.stopPropagation(),e.props.onEnterComposite()},e.handleKindClicked=function(n){e.handleClick(n),window.requestAnimationFrame((function(){return document.dispatchEvent(new Event("show-kind-info"))}))},e}return(0,l.Z)(t,[{key:"shouldComponentUpdate",value:function(e){return e.dim!==this.props.dim||(e.selected!==this.props.selected||(e.focused!==this.props.focused||(e.minified!==this.props.minified||(e.highlightedEdges!==this.props.highlightedEdges||(e.layout!==this.props.layout||(e.invocation&&e.invocation.name)!==(this.props.invocation&&this.props.invocation.name))))))}},{key:"render",value:function(){var e=this,n=this.props,t=n.definition,r=n.invocation,i=n.layout,o=n.dim,s=n.focused,l=n.selected,c=n.minified,u=t.metadata;if(!i)throw new Error("Layout is missing for ".concat(t.name));var d=null;"SolidDefinition"===t.__typename&&(d=t.configField);var p=[],f=u.find((function(e){return"kind"===e.key})),m="CompositeSolidDefinition"===t.__typename;f&&p.push({label:f.value,onClick:this.handleKindClicked}),m&&p.push({label:"Expand",onClick:this.handleEnterComposite});var y=r?r.name:t.name;return(0,b.jsxs)(I,{$minified:c,$selected:l,$secondaryHighlight:s,$dim:o,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,children:[(0,b.jsx)("div",{className:"highlight-box",style:(0,a.Z)({},(0,w.FK)(i.bounds))}),m&&(0,b.jsx)("div",{className:"composite-marker",style:(0,a.Z)({},(0,w.FK)(i.op))}),(null===r||void 0===r?void 0:r.isDynamicMapped)&&(0,b.jsx)("div",{className:"dynamic-marker",style:(0,a.Z)({},(0,w.FK)(i.op))}),d&&"Any"!==d.configType.key&&(0,b.jsx)("div",{className:"config-marker",style:{left:i.op.x+i.op.width,top:i.op.y},children:c?"C":"Config"}),t.inputDefinitions.map((function(n,t){return(0,x.createElement)(v.r7,(0,a.Z)((0,a.Z)((0,a.Z)({},e.props),(0,v.LU)(n,r)),{},{key:t,item:n,layoutInfo:i.inputs[n.name],colorKey:"input"}))})),t.outputDefinitions.map((function(n,t){return(0,x.createElement)(v.r7,(0,a.Z)((0,a.Z)((0,a.Z)({},e.props),(0,v.LU)(n,r)),{},{key:t,item:n,layoutInfo:i.outputs[n.name],colorKey:"output"}))})),(0,b.jsxs)("div",{className:"node-box",style:(0,a.Z)({},(0,w.FK)(i.op)),children:[(0,b.jsxs)("div",{className:"name",children:[!c&&(0,b.jsx)(h.JO,{name:"op",size:16}),(0,b.jsx)("div",{className:"label","data-tooltip":y,"data-tooltip-style":k,children:(0,g.R9)(y,{maxLength:48})})]}),!c&&(t.description||0===t.assetNodes.length)&&(0,b.jsx)("div",{className:"description",children:(t.description||"").split("\n")[0]}),!c&&t.assetNodes.length>0&&(0,b.jsx)(C,{nodes:t.assetNodes})]}),p.length>0&&(0,b.jsx)(j.S,{style:{left:i.op.x+i.op.width,top:i.op.y+i.op.height,transform:"translate(-100%, 3px)"},minified:c,tags:p})]})}}]),t}(x.Component),C=function(e){var n=e.nodes,t=n.length>1?" + ".concat(n.length-1," more"):"";return(0,b.jsxs)("div",{className:"assets",children:[(0,b.jsx)(h.JO,{name:"asset",size:16}),(0,g.R9)((0,y.ll)(n[0].assetKey),{maxLength:48-t.length}),t]})},N=(0,p.Ps)(r||(r=(0,o.Z)(["\n  fragment OpNodeInvocationFragment on Solid {\n    name\n    isDynamicMapped\n    inputs {\n      definition {\n        name\n      }\n      isDynamicCollect\n      dependsOn {\n        definition {\n          name\n          type {\n            displayName\n          }\n        }\n        solid {\n          name\n        }\n      }\n    }\n    outputs {\n      definition {\n        name\n      }\n      dependedBy {\n        solid {\n          name\n        }\n        definition {\n          name\n          type {\n            displayName\n          }\n        }\n      }\n    }\n  }\n"]))),E=(0,p.Ps)(i||(i=(0,o.Z)(["\n  fragment OpNodeDefinitionFragment on ISolidDefinition {\n    __typename\n    name\n    description\n    metadata {\n      key\n      value\n    }\n    assetNodes {\n      id\n      assetKey {\n        path\n      }\n    }\n    inputDefinitions {\n      name\n      type {\n        displayName\n      }\n    }\n    outputDefinitions {\n      name\n      isDynamic\n      type {\n        displayName\n      }\n    }\n    ... on SolidDefinition {\n      configField {\n        configType {\n          key\n          description\n        }\n      }\n    }\n    ... on CompositeSolidDefinition {\n      id\n      inputMappings {\n        definition {\n          name\n        }\n        mappedInput {\n          definition {\n            name\n          }\n          solid {\n            name\n          }\n        }\n      }\n      outputMappings {\n        definition {\n          name\n        }\n        mappedOutput {\n          definition {\n            name\n          }\n          solid {\n            name\n          }\n        }\n      }\n    }\n  }\n"]))),_={Border:f.w.Blue500,Background:f.w.Blue50},I=d.ZP.div.withConfig({displayName:"OpNode__NodeContainer",componentId:"sc-1686rks-0"})(["opacity:",";pointer-events:auto;.highlight-box{border-radius:6px;background:",";}.node-box{border:",";border-width:",";border-radius:5px;background:",";}.composite-marker{outline:"," solid ",";outline-offset:",";border-radius:3px;}.dynamic-marker{transform:translate(-5px,-5px);border:"," solid #dcd5ca;border-radius:3px;}.config-marker{position:absolute;transform:",";font-size:",";font-family:",";font-weight:700;opacity:0.5;}.name{display:flex;gap:5px;padding:4px ",";font-size:",";font-family:",";border-top-left-radius:5px;border-top-right-radius:5px;align-items:center;font-weight:600;.label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}}.assets{padding:0 4px;white-space:nowrap;line-height:22px;height:22px;overflow:hidden;text-overflow:ellipsis;background:#f5f3ef;font-size:12px;display:flex;gap:4px;align-items:center;}.description{padding:0 8px;white-space:nowrap;line-height:22px;height:22px;overflow:hidden;text-overflow:ellipsis;background:#f5f3ef;border-top:1px solid #e6e1d8;border-bottom-left-radius:5px;border-bottom-right-radius:5px;font-size:12px;}"],(function(e){return e.$dim?.3:1}),(function(e){return e.$selected?_.Background:"transparent"}),(function(e){return e.$selected?"2px dashed ".concat(_.Border):e.$secondaryHighlight?"2px solid ".concat(f.w.Blue500,"55"):"2px solid #dcd5ca"}),(function(e){return e.$minified?"3px":"2px"}),(function(e){return e.$minified?f.w.Gray50:f.w.White}),(function(e){return e.$minified?"3px":"2px"}),(function(e){return e.$selected?"transparent":f.w.Yellow200}),(function(e){return e.$minified?"5px":"3px"}),(function(e){return e.$minified?"3px":"2px"}),(function(e){return e.$minified?" translate(-100%, -28px)":" translate(-100%, -21px)"}),(function(e){return e.$minified?"24px":"12px"}),m.b.monospace,(function(e){return e.$minified?"8px":"3px"}),(function(e){return e.$minified?"32px":"14px"}),m.b.monospace)},47789:function(e,n,t){t.d(n,{S:function(){return c}});var r=t(922),i=t(7838),o=t(8546),a=t(325),s=t(32289);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"ipynb"===e?25:"dbt"===e?250:"snowflake"===e?197:"pyspark"===e||"spark"===e?30:"Expand"===e?40:e.split("").map((function(e){return e.charCodeAt(0)})).reduce((function(e,n){return e+n}))%360}var c=a.memo((function(e){var n=e.tags,t=e.style,r=e.minified;return(0,s.jsx)(u,{style:t,$minified:r,children:n.map((function(e){return(0,s.jsx)("div",{style:{background:"hsl(".concat(l(e.label),", 75%, 50%)")},onClick:e.onClick,children:e.label},e.label)}))})})),u=r.ZP.div.withConfig({displayName:"OpTags__OpTagsContainer",componentId:"sc-1q2s1ix-0"})(["gap:6px;position:absolute;display:flex;& > div{padding:0 ","px;line-height:","px;color:",";font-family:",";font-size:","px;font-weight:700;border-radius:3px;}"],(function(e){return e.$minified?10:5}),(function(e){return e.$minified?32:20}),i.w.White,o.b.monospace,(function(e){return e.$minified?24:14}))},85532:function(e,n,t){t.d(n,{i:function(){return _},l:function(){return D}});var r=t(85358),i=t(57994),o=t(98907),a=t(78647),s=t(64428),l=t(28463),c=t(922),u=t(95550),d=t.n(u),p=t(32030),h=t(89279),f=t(7838),m=t(42413),x=t(81137),g=t.n(x),y=t(325),v=t(2652),j=t(27601),w=["-moz-osx-font-smoothing","align-items","align-self","animation","background","border","box-shadow","box-sizing","color","column-gap","display","flex","font","fill","gap","height","justify-content","left","letter-spacing","line-height","margin","mask-image","-webkit-mask-image","mask-size","-webkit-mask-size","min-height","min-width","object-fit","opacity","overflow","padding","position","row-gap","stroke","text-align","text-decoration","text-overflow","text-transform","top","transform","white-space","width"],b={};function k(e){return S.apply(this,arguments)}function S(){return(S=(0,r.Z)(d().mark((function e(n){var t,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.startsWith("url(")){e.next=14;break}if(!(t=n.match(/url\(['"]?(http[^'"]+)['"]?\)/))){e.next=14;break}if(r=t[1],b[r]){e.next=13;break}return e.next=7,fetch(r);case 7:return i=e.sent,e.t0=btoa,e.next=11,i.text();case 11:e.t1=e.sent,b[r]=(0,e.t0)(e.t1);case 13:n=n.replace(r,"data:image/svg+xml;base64,".concat(b[r]));case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(d().mark((function e(n){var t,r,i,o,a,s,l,c,u,p,h,f,m;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT),r=window.getComputedStyle(n),i=null;case 3:if(!(i=t.nextNode())){e.next=19;break}if(i instanceof SVGElement||i instanceof HTMLElement){e.next=6;break}return e.abrupt("continue",3);case 6:o=window.getComputedStyle(i),a=d().mark((function e(){var n,t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l[s],t=o[n],w.some((function(e){return t.startsWith(e)}))){e.next=4;break}return e.abrupt("return","continue");case 4:if(i.style[t]||o[t]===r[t]){e.next=8;break}return e.next=7,k(o[t]);case 7:i.style[t]=e.sent;case 8:i instanceof HTMLElement&&(i.style.boxSizing="border-box");case 9:case"end":return e.stop()}}),e)})),s=0,l=Object.keys(o);case 9:if(!(s<l.length)){e.next=17;break}return e.delegateYield(a(),"t0",11);case 11:if("continue"!==e.t0){e.next=14;break}return e.abrupt("continue",14);case 14:s++,e.next=9;break;case 17:e.next=3;break;case 19:c=function(){var e=p[u],t=r[e];if(!w.some((function(e){return t.startsWith(e)})))return"continue";n.style[t]||(n.style[t]=r[t])},u=0,p=Object.keys(r);case 21:if(!(u<p.length)){e.next=28;break}if("continue"!==c()){e.next=25;break}return e.abrupt("continue",25);case 25:u++,e.next=21;break;case 28:for(h=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);i=h.nextNode();)(i instanceof SVGElement||i instanceof HTMLElement)&&i.removeAttribute("class");f=Array.from(document.querySelectorAll("style")).flatMap((function(e){return(e.textContent||"").match(/@font-face ?{[^\}]*}/gim)})).filter(Boolean),(m=document.createElement("style")).textContent=f.join("\n\n"),n.appendChild(m);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=t(32289),_=.75,I=.75,Z=.17,T=.17,P={onMouseDown:function(e,n){if(e._animation&&e._animation.cancel(),e.element.current&&!(n.target instanceof HTMLElement&&n.target.closest("#zoom-slider-container"))){var t=e.getOffsetXY(n);if(t){var r=t.x,i=t.y,o=function(n){var t=e.getOffsetXY(n);if(t){var o=t.x-r,a=t.y-i;e.setState({x:e.state.x+o,y:e.state.y+a}),r=t.x,i=t.y}};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)})),n.stopPropagation()}}},onWheel:function(e,n){var t=e.getOffsetXY(n);if(t)if(n.altKey||n.shiftKey)e.shiftXY(-n.deltaX,-n.deltaY);else{var r=e.state.scale*(1-.0025*n.deltaY),i=Math.max(T,Math.min(e.getMaxZoom(),r));e.adjustZoomRelativeToScreenPoint(i,t)}},render:function(e){return(0,E.jsxs)(A,{id:"zoom-slider-container",children:[(0,E.jsx)(p.x,{margin:{bottom:8},children:(0,E.jsx)(R,{onClick:function(){var n=e.element.current.clientWidth/2,t=e.element.current.clientHeight/2,r=Math.min(e.getMaxZoom(),e.state.scale+.05),i=Math.round(100*(r+Number.EPSILON))/100;e.adjustZoomRelativeToScreenPoint(i,{x:n,y:t})},children:(0,E.jsx)(h.JO,{size:24,name:"zoom_in",color:f.w.Gray300})})}),(0,E.jsx)(m.iR,{vertical:!0,min:T,max:e.getMaxZoom(),stepSize:.001,value:e.state.scale,labelRenderer:!1,onChange:function(n){var t=e.element.current.clientWidth/2,r=e.element.current.clientHeight/2;e.adjustZoomRelativeToScreenPoint(n,{x:t,y:r})}}),(0,E.jsx)(p.x,{margin:{top:8},children:(0,E.jsx)(R,{onClick:function(){var n=e.element.current.clientWidth/2,t=e.element.current.clientHeight/2,r=Math.max(T,e.state.scale-.05);e.adjustZoomRelativeToScreenPoint(r,{x:n,y:t})},children:(0,E.jsx)(h.JO,{size:24,name:"zoom_out",color:f.w.Gray300})})}),(0,E.jsx)(p.x,{margin:{top:8},children:(0,E.jsx)(R,{onClick:function(){e.onExportToSVG()},children:(0,E.jsx)(h.JO,{size:24,name:"download_for_offline",color:f.w.Gray300})})})]})}},R=c.ZP.button.withConfig({displayName:"SVGViewport__IconButton",componentId:"sc-1bm7fbn-0"})(["background:none;border:none;cursor:pointer;padding:0;position:relative;left:-4px;:focus{outline:none;}","{transition:background 100ms;}:focus ",",:hover ",",:active ","{background-color:",";}"],h.a1,h.a1,h.a1,h.a1,f.w.Blue500),O={onMouseDown:function(e,n){n.preventDefault(),n.stopPropagation()},onWheel:function(){},render:function(){return(0,E.jsx)("span",{})}},D=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(e=n.call.apply(n,[this].concat(s))).element=y.createRef(),e.panzoom=void 0,e._animation=null,e._lastWheelTime=0,e._lastWheelDir=0,e.state={x:0,y:0,scale:_,minScale:0},e.resizeObserver=void 0,e.onWheel=function(n){var t=e.element.current;t&&n.target instanceof Node&&t.contains(n.target)&&(n.preventDefault(),n.stopPropagation(),e.props.interactor.onWheel((0,a.Z)(e),n))},e.onZoomAndCenter=function(n){var t=e.getOffsetXY(n);if(t){var r=e.screenToSVGCoords(t),i=e.props.maxZoom||I;Math.abs(i-e.state.scale)<.01?e.zoomToSVGCoords(r.x,r.y,!0,e.state.minScale):e.zoomToSVGCoords(r.x,r.y,!0,i)}},e.onKeyDown=function(n){var t,r;if(!n.target||"INPUT"!==n.target.nodeName){var i={ArrowLeft:"left",ArrowUp:"up",ArrowRight:"right",ArrowDown:"down"}[n.code];i&&(n.preventDefault(),n.stopPropagation(),null===(t=(r=e.props).onArrowKeyDown)||void 0===t||t.call(r,n,i))}},e.onDoubleClick=function(n){n.target instanceof HTMLElement&&n.target.closest("#zoom-slider-container")||e.props.onDoubleClick&&e.props.onDoubleClick(n)},e.onExportToSVG=(0,r.Z)(d().mark((function n(){var t,r,i,o,a,s;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={top:0,left:0,right:e.props.graphWidth,bottom:e.props.graphHeight},r=document.createElement("div"),document.getElementById("root").appendChild(r),v.render((0,E.jsx)(j.VA,{children:e.props.children(e.state,t)}),r),i=r.querySelector("svg"),n.next=7,C(i);case 7:o=(new XMLSerializer).serializeToString(i),a=new Blob([o],{type:"image/svg+xml"}),(s=document.createElement("a")).setAttribute("download","".concat(document.title.replace(/[: \/]/g,"_").replace(/__+/g,"_"),".svg")),s.setAttribute("href",URL.createObjectURL(a)),s.click(),r.remove();case 14:case"end":return n.stop()}}),n)}))),e}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.autocenter(),document.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.current&&this.element.current instanceof HTMLElement&&"ResizeObserver"in window){var n=window.ResizeObserver;this.resizeObserver=new n((function(){window.requestAnimationFrame((function(){e.forceUpdate()}))})),this.resizeObserver.observe(this.element.current)}}},{key:"componentWillUnmount",value:function(){var e;document.removeEventListener("wheel",this.onWheel),null===(e=this.resizeObserver)||void 0===e||e.disconnect()}},{key:"cancelAnimations",value:function(){this._animation&&this._animation.cancel()}},{key:"focus",value:function(){var e;null===(e=this.element.current)||void 0===e||e.focus()}},{key:"autocenter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,t=this.element.current,r={width:t.clientWidth,height:t.clientHeight},i=r.width/this.props.graphWidth,o=r.height/this.props.graphHeight,a=Math.min(i,o),s=n||Math.max(Math.min(a,this.props.maxAutocenterZoom),Z);if(!(this.state.scale<s&&a!==s&&s===Z)){var l={x:-this.props.graphWidth/2*s+r.width/2,y:-this.props.graphHeight/2*s+r.height/2,scale:s};e?this.smoothZoom(l):this.setState(Object.assign(l,{minScale:s}))}}},{key:"screenToSVGCoords",value:function(e){var n=e.x,t=e.y,r=this.element.current.getBoundingClientRect(),i=r.width,o=r.height;return{x:(-(this.state.x-i/2)+n-i/2)/this.state.scale,y:(-(this.state.y-o/2)+t-o/2)/this.state.scale}}},{key:"getOffsetXY",value:function(e){var n=this.element.current;if(!n)return null;var t=n.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"shiftXY",value:function(e,n){var t=this.state,r=t.x,i=t.y,o=t.scale;this.setState({x:r+e,y:i+n,scale:o})}},{key:"adjustZoomRelativeToScreenPoint",value:function(e,n){var t=this.screenToSVGCoords(n),r=this.state.scale,i=this.state,o=i.x,a=i.y;o+=t.x*r-t.x*e,a+=t.y*r-t.y*e,this.setState({x:o,y:a,scale:e})}},{key:"zoomToSVGBox",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.scale;this.zoomToSVGCoords(e.x+e.width/2,e.y+e.height/2,n,t)}},{key:"zoomToSVGCoords",value:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.state.scale,i=this.element.current,o=i.getBoundingClientRect();e=-e*r+o.width/2,n=-n*r+o.height/2,t?this.smoothZoom({x:e,y:n,scale:r}):this.setState({x:e,y:n,scale:r})}},{key:"smoothZoom",value:function(e){var n=this,t={scale:this.state.scale,x:this.state.x,y:this.state.y};this._animation&&this._animation.cancel(),this._animation=g()(t,e,{step:function(e){n.setState({x:e.x,y:e.y,scale:e.scale})},done:function(){n.setState(e),n._animation=null}})}},{key:"getMaxZoom",value:function(){return this.props.maxZoom}},{key:"getViewport",value:function(){var e={top:0,left:0,right:0,bottom:0};if(this.element.current){var n=this.element.current.getBoundingClientRect(),t=n.width,r=n.height;e={left:-this.state.x/this.state.scale,top:-this.state.y/this.state.scale,right:(-this.state.x+t)/this.state.scale,bottom:(-this.state.y+r)/this.state.scale}}return e}},{key:"render",value:function(){var e=this,n=this.props,t=n.children,r=n.onClick,i=n.interactor,o=this.state,a=o.x,s=o.y,l=o.scale,c=Math.max(14,30*l);return(0,E.jsxs)("div",{ref:this.element,style:Object.assign({},L,{backgroundPosition:"".concat(a,"px ").concat(s,"px"),backgroundSize:"".concat(c,"px")}),onMouseDown:function(n){return i.onMouseDown(e,n)},onDoubleClick:this.onDoubleClick,onKeyDown:this.onKeyDown,onClick:r,tabIndex:-1,children:[(0,E.jsx)("div",{style:{transformOrigin:"top left",transform:"matrix(".concat(l,", 0, 0, ").concat(l,", ").concat(a,", ").concat(s,")")},children:t(this.state,this.getViewport())}),i.render&&i.render(this)]})}}]),t}(y.Component);D.Interactors={PanAndZoom:P,None:O},D.defaultProps={maxZoom:I,maxAutocenterZoom:1};var L={width:"100%",height:"100%",position:"relative",overflow:"hidden",userSelect:"none",outline:"none",background:"url(\"data:image/svg+xml;utf8,<svg width='30px' height='30px' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'><circle fill='rgba(236, 236, 236, 1)' cx='5' cy='5' r='5' /></svg>\") repeat"},A=c.ZP.div.withConfig({displayName:"SVGViewport__ZoomSliderContainer",componentId:"sc-1bm7fbn-1"})(["position:absolute;bottom:0;right:0;width:30px;padding:10px 8px;padding-bottom:0;background:rgba(245,248,250,0.4);"])},76867:function(e,n,t){t.d(n,{og:function(){return b},oJ:function(){return P},QT:function(){return T}});var r=t(85358),i=t(19065),o=t(95550),a=t.n(o),s=t(13816),l=t.n(s),c=t(325),u=t(52848),d=t(76341),p=t(93523),h=t(59019),f=t(13357),m=t(16521),x=370,g=26,y=13,v=70;function j(e){var n={};return e.forEach((function(e){return e.forEach((function(e){return n[(0,m.R)(e)]=e}))})),Object.values(n)}function w(e,n,t){var r=t-166,i=Math.max(200,r/e.length),o=83+Math.min(0,(r-e.length*i)/2),a=i<300?20:0,s={};return e.forEach((function(e,t){var r=1-t%2*2;s[(0,m.R)(e)]={x:o+t*i,y:n+a*r}})),s}function b(e,n){var t=n.y,r=function(e,r,i){var o,a=(0,h.Z)(e).sort((function(e,n){return r(e).localeCompare(r(n))})),s=0,l=null,c={},u=Math.min(35,x/(a.length+1));a.forEach((function(e,r){var a=i(e);a!==l?(l=a,o={port:{x:n.x+s+y,y:t+13},collapsed:[],label:!1,layout:{x:n.x+s,y:t,width:35,height:g}},c[e.definition.name]=o,s+=u):(0===o.collapsed.length&&(s+=15),o.collapsed.push(e.definition.name))}));var d=(x-(s-y+35))/2;return Object.values(c).forEach((function(e){e.layout.x+=d,e.port.x+=d})),t+=g,c},i=function(e){var r={};return e.forEach((function(e){r[e.definition.name]={port:{x:n.x+y,y:t+13},label:!0,collapsed:[],layout:{x:n.x,y:t,width:0,height:g}},t+=g})),r},o=e.inputs.length>4?r(e.inputs,(function(e){return e.definition.name}),(function(e){var n;return(null===(n=e.dependsOn[0])||void 0===n?void 0:n.solid.name)||""})):i(e.inputs),a={x:n.x,y:Math.max(n.y,t-0),width:x,height:52};t+=52,e.definition.assetNodes.length&&e.definition.description&&(a.height+=22,t+=22);var s=e.outputs.length>4?r(e.outputs,(function(e){var n;return(null===(n=e.dependedBy[0])||void 0===n?void 0:n.definition.name)||""}),(function(e){var n;return(null===(n=e.dependedBy[0])||void 0===n?void 0:n.solid.name)||""})):i(e.outputs);return{bounds:{x:n.x-5,y:n.y-5,width:380,height:t-n.y+10},op:a,inputs:o,outputs:s}}var k=function(e,n){var t=e.map((function(e){return e.name})).join("|"),r=null===n||void 0===n?void 0:n.name;return"".concat(t,":").concat(r)},S=l()((function(e,n){var t=new f.graphlib.Graph,r=0,i=100,o=100;n&&(i=(o=140)+(r=Math.max(n.inputs.length,n.outputs.length)*g)),t.setGraph({rankdir:"TB",marginx:o,marginy:i}),t.setDefaultEdgeLabel((function(){return{}}));var a=[],s={};e.forEach((function(e){s[e.name]=!0})),e.forEach((function(e){var n=b(e,{x:0,y:0});t.setNode(e.name,{width:n.bounds.width,height:n.bounds.height}),e.inputs.forEach((function(n){n.dependsOn.forEach((function(r){s[r.solid.name]&&s[e.name]&&(t.setEdge({v:r.solid.name,w:e.name},{weight:1}),a.push({from:{point:{x:0,y:0},opName:r.solid.name,edgeName:r.definition.name},to:{point:{x:0,y:0},opName:e.name,edgeName:n.definition.name}}))}))}))})),f.layout(t);var l={},c={};t.nodes().forEach((function(e){var n=t.node(e);n&&(c[e]=n)}));var u=0,d=0;Object.keys(c).forEach((function(n){var t=c[n],r=e.find((function(e){return e.name===n}));if(r){var i=t.x-t.width/2,o=t.y-t.height/2;l[n]=b(r,{x:i,y:o}),u=Math.max(u,i+t.width),d=Math.max(d,o+t.height)}})),t.edges().forEach((function(e){var n=a.find((function(n){return n.from.opName===e.v&&n.to.opName===e.w})),r=t.edge(e).points;n&&(n.from.point=r[0],n.to.point=r[r.length-1])}));var p={edges:a,nodes:l,width:u+o,height:d+i,parent:null};return n&&(p.parent=function(e,n,t){var r={invocationBoundingBox:{x:1,y:1,width:e.width-1,height:e.height-1},bounds:{x:v,y:v+t,width:e.width-140,height:e.height-2*(v+t)},mappingLeftEdge:50,mappingLeftSpacing:10,inputs:{},outputs:{},dependsOn:w(j(n.inputs.map((function(e){return e.dependsOn}))),-50,e.width),dependedBy:w(j(n.outputs.map((function(e){return e.dependedBy}))),e.height+50,e.width)},i=r.bounds.y+r.bounds.height;return n.inputs.forEach((function(e,n){r.inputs[e.definition.name]={layout:{x:r.bounds.x,y:r.bounds.y-n*g-g,width:0,height:g},collapsed:[],label:!0,port:{x:r.bounds.x+y,y:r.bounds.y-n*g-13}}})),n.outputs.forEach((function(e,n){r.outputs[e.definition.name]={layout:{x:r.bounds.x,y:i+n*g,width:0,height:g},collapsed:[],label:!0,port:{x:r.bounds.x+y,y:i+n*g+13}}})),r}(p,n,r)),p}),k),C=(0,d.pz)((function(e,n,r){return new Promise((function(i){var o=new Worker(new URL(t.p+t.u(614),t.b));o.addEventListener("message",(function(e){i(e.data),o.terminate()})),o.postMessage({type:"layoutOpGraph",ops:e,parentOp:n,staticPathRoot:r})}))}),k),N=function(e){return JSON.stringify(e)},E=l()(p.layoutAssetGraph,N),_=(0,d.pz)((function(e,n){return new Promise((function(r){var i=new Worker(new URL(t.p+t.u(215),t.b));i.addEventListener("message",(function(e){r(e.data),i.terminate()})),i.postMessage({type:"layoutAssetGraph",graphData:e,staticPathRoot:n})}))}),N),I=function(e,n){switch(n.type){case"loading":return{loading:!0,layout:null,cacheKey:""};case"layout":return{loading:!1,layout:n.payload.layout,cacheKey:n.payload.cacheKey};default:return e}},Z={loading:!1,layout:null,cacheKey:""};function T(e,n){var t=c.useReducer(I,Z),o=(0,i.Z)(t,2),s=o[0],l=o[1],d=c.useContext(u.I).staticPathRoot,p=k(e,n),h=e.length>=50;return c.useEffect((function(){function t(){return t=(0,r.Z)(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l({type:"loading"}),t.next=3,C(e,n,d);case 3:r=t.sent,l({type:"layout",payload:{layout:r,cacheKey:p}});case 5:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}if(h)!function(){t.apply(this,arguments)}();else{var i=S(e,n);l({type:"layout",payload:{layout:i,cacheKey:p}})}}),[p,e,n,h,d]),{loading:s.loading||!s.layout||s.cacheKey!==p,async:h,layout:s.layout}}function P(e){var n=c.useReducer(I,Z),t=(0,i.Z)(n,2),o=t[0],s=t[1],l=c.useContext(u.I).staticPathRoot,d=N(e),p=Object.keys(e.nodes).length>=50;return c.useEffect((function(){function n(){return n=(0,r.Z)(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s({type:"loading"}),n.next=3,_(e,l);case 3:t=n.sent,s({type:"layout",payload:{layout:t,cacheKey:d}});case 5:case"end":return n.stop()}}),n)}))),n.apply(this,arguments)}if(p)!function(){n.apply(this,arguments)}();else{var t=E(e);s({type:"layout",payload:{layout:t,cacheKey:d}})}}),[d,e,p,l]),{loading:o.loading||!o.layout||o.cacheKey!==d,async:p,layout:o.layout}}},66956:function(e,n,t){t.d(n,{Id:function(){return i},Q4:function(){return o},we:function(){return a},mh:function(){return s},zW:function(){return l},FK:function(){return c}});var r=t(59019),i=function(e,n){var t=n.a,r=n.b;return e.some((function(e){return e.a===t&&e.b===r||e.b===t&&e.a===r}))},o=function(e,n){return e.some((function(e){return e.a.split(":")[0]===n||e.b.split(":")[0]===n}))},a=function(e,n){return e.x+e.width<n.left||e.y+e.height<n.top||e.x>n.right||e.y>n.bottom},s=function(e,n,t){if(n){var r=e.nodes[n],i=function(e){return{x:e.bounds.x+e.bounds.width/2,y:e.bounds.y+e.bounds.height/2}},o=function(e){var n=i(e).x-i(r).x,o=i(e).y-i(r).y;return"left"===t&&0===o&&n<0?-n:"right"===t&&0===o&&n>0?n:"up"===t&&o<0?-o+Math.abs(n)/5:"down"===t&&o>0?o+Math.abs(n)/5:Number.NaN},a=Object.keys(e.nodes).map((function(n){return{name:n,score:o(e.nodes[n])}})).filter((function(e){return e.name!==n&&!Number.isNaN(e.score)})).sort((function(e,n){return n.score-e.score})).pop();return a?a.name:void 0}};function l(e){for(var n={},t=0,i=0,o=Object.keys(e.nodes);i<o.length;i++){var a=o[i],s=a.split(".");if(1!==s.length)for(var l=1;l<s.length;l++){var c=s.slice(0,l).join(".");n[c]=n[c]||[],n[c].push(e.nodes[a].bounds),t=Math.max(t,l)}}for(var u=[],d=0,p=Object.keys(n);d<p.length;d++){var h=p[d],f=n[h],m=5+5*(t-h.split(".").length);if(1!==f.length){var x=Math.min.apply(Math,(0,r.Z)(f.map((function(e){return e.x}))))-m,g=Math.max.apply(Math,(0,r.Z)(f.map((function(e){return e.x+e.width}))))+m,y=Math.min.apply(Math,(0,r.Z)(f.map((function(e){return e.y}))))-m,v=Math.max.apply(Math,(0,r.Z)(f.map((function(e){return e.y+e.height}))))+m;u.push({name:h,x:x,y:y,width:g-x,height:v-y})}}return u}var c=function(e){return{left:e.x,top:e.y,width:e.width,height:e.height,position:"absolute"}}},82348:function(e,n,t){t.d(n,{j:function(){return i}});var r=t(325),i=function(e){r.useEffect((function(){var n=document.title;return document.title=e,function(){document.title=n}}),[e])}},44198:function(e,n,t){t.d(n,{q:function(){return h}});var r=t(19065),i=t(95764),o=t(16798),a=t(90428),s=t.n(a),l=t(41332),c=t.n(l),u=t(325),d=t(27601),p={};function h(e){var n=e.queryKey,t=e.defaults,a=e.encode,l=e.decode;n&&(a||(a=function(e){return(0,o.Z)({},n,e)}),l||(l=function(e){return f(e[n])}));var h=(0,d.TH)(),m=(0,d.k6)();p=c().parse(h.search,{ignoreQueryPrefix:!0});var x=(0,i.Z)((0,i.Z)({},t||{}),p),g=l?l(x):function(e){for(var n={},t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];n[i]=f(e[i])}return n}(x),y=u.useRef(g),v=u.useCallback((function(n){for(var t=(0,i.Z)((0,i.Z)({},p),a?a(n):n),o=0,s=Object.entries(t);o<s.length;o++){var l=(0,r.Z)(s[o],2),u=l[0],d=l[1];e.defaults&&e.defaults[u]===d&&delete t[u]}p=t,m.replace("".concat(h.pathname,"?").concat(c().stringify(t,{arrayFormat:"brackets"})))}),[m,a,h.pathname,e]);return s()(y.current,g)||(y.current=g),[y.current,v]}function f(e){return"false"!==e&&("true"===e||e)}},82576:function(e,n,t){t.d(n,{a:function(){return s}});var r=t(19065),i=t(325),o=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var i=n.payload,o=i.checked,a=i.id;return o?t.add(a):t.delete(a),{lastCheckedId:a,checkedIds:t};case"toggle-slice":var s=n.payload,l=s.checked,c=s.id,u=s.allIds,d=e.lastCheckedId,p=d?u.indexOf(d):-1,h=u.indexOf(c);if(-1===p||-1===h)return e;for(var f=[p,h].sort(),m=(0,r.Z)(f,2),x=m[0],g=m[1],y=x;y<=g;y++)l?t.add(u[y]):t.delete(u[y]);return{lastCheckedId:c,checkedIds:t};case"toggle-all":var v=n.payload,j=v.checked,w=v.allIds;return{lastCheckedId:null,checkedIds:j?new Set(w):new Set}}},a={checkedIds:new Set,lastCheckedId:null};function s(e){var n=i.useReducer(o,a),t=(0,r.Z)(n,2),s=t[0],l=t[1];return[s,{onToggleFactory:function(n){return function(t){var r=t.checked;t.shiftKey&&s.lastCheckedId?l({type:"toggle-slice",payload:{checked:r,id:n,allIds:e}}):l({type:"toggle-one",payload:{checked:r,id:n}})}},onToggleAll:function(n){l({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},2789:function(e,n,t){t.d(n,{b:function(){return ce},G:function(){return te}});var r,i,o=t(99500),a=t(85358),s=t(19065),l=t(922),c=t(95550),u=t.n(c),d=t(49148),p=t(3159),h=t(6466),f=t(55113),m=t(57615),x=t(12745),g=t(762),y=t(8412),v=t(75453),j=t(89279),w=t(32030),b=t(54268),k=t(7838),S=t(41332),C=t.n(S),N=t(325),E=t(74549),_=t(27601),I=t(14156),Z=t(13065),T=t(63579),P=t(12436),R=t(54920),O=t(62e3),D=t(34653),L=t(45302),A=t(68156),F=t(5484),M=t(76336),z=t(37099),G=t(33902),K=t(25582),U=t(8358),B=t(32289),$=function(e){var n=e.backfill,t=e.onClose;return n&&n.partitionSet?(0,B.jsxs)(U.Vq,{isOpen:!!n,title:(0,B.jsxs)("span",{children:["Partitions requested for backfill:"," ",(0,B.jsx)("span",{style:{fontFamily:"monospace"},children:n.backfillId})]}),onClose:t,children:[(0,B.jsx)(U.a7,{children:(0,B.jsx)("div",{style:{maxHeight:"80vh",overflowY:"auto"},children:n.partitionNames.map((function(e){return(0,B.jsx)("div",{children:e},e)}))})}),(0,B.jsx)(U.cN,{children:(0,B.jsx)(v.zx,{intent:"none",onClick:t,children:"Close"})})]}):null},V=t(97363),q=t(73974),H=function(e){var n=e.backfill,t=e.onClose;if(!n)return null;if(!n.partitionSet)return null;var r=(0,z.k)(n.partitionSet.repositoryOrigin.repositoryName,n.partitionSet.repositoryOrigin.repositoryLocationName);return(0,B.jsx)(W,{backfill:n,partitionSet:n.partitionSet,repoAddress:r,onClose:t})},W=function(e){var n=e.backfill,t=e.partitionSet,r=e.repoAddress,i=e.onClose,o=N.useState(60),a=(0,s.Z)(o,2),l=a[0],c=a[1],u=N.useState(0),d=(0,s.Z)(u,2),p=d[0],h=d[1],f=N.useMemo((function(){return[{token:"tag",value:"dagster/backfill=".concat(n.backfillId)}]}),[n.backfillId]),m=(0,q.T)(t.name,n.partitionNames,l,f,t.pipelineName,p,!n);return n?(0,B.jsxs)(U.Vq,{isOpen:!!n,title:(0,B.jsxs)("span",{children:["Step status for backfill:"," ",(0,B.jsx)("span",{style:{fontFamily:"monospace"},children:n.backfillId})]}),onClose:i,style:{width:"80vw"},children:[(0,B.jsx)(U.a7,{children:(0,B.jsx)(V.C,{partitionNames:n.partitionNames,partitions:m,pipelineName:null===t||void 0===t?void 0:t.pipelineName,repoAddress:r,setPageSize:c,offset:p,setOffset:h})}),(0,B.jsx)(U.cN,{children:(0,B.jsx)(v.zx,{intent:"none",onClick:i,children:"Close"})})]}):null},J=t(16798),Y=t(95764),Q=t(38568),X=function(e){var n=e.backfill,t=e.onClose,r=e.onComplete,i=(0,d.D)(ee),o=(0,s.Z)(i,1)[0],l=N.useState(!1),c=(0,s.Z)(l,2),p=c[0],h=c[1];if(!n)return null;var f=(n.numPartitions||0)-(n.numRequested||0),m=function(){var e=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,o({variables:{backfillId:n.backfillId}});case 3:r(),h(!1),t();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=n.partitionStatuses.results.filter((function(e){return e.runStatus&&e.runId&&e.runStatus in D.oV})),g=(null===x||void 0===x?void 0:x.reduce((function(e,n){return n&&n.runId?(0,Y.Z)((0,Y.Z)({},e),{},(0,J.Z)({},n.runId,!0)):e}),{}))||{};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(U.Vq,{isOpen:!!n&&n.status!==F.Jv.CANCELED&&!!f,title:"Cancel backfill",onClose:t,children:[(0,B.jsxs)(U.a7,{children:["There ",1===f?"is 1 partition ":"are ".concat(f," partitions "),"yet to be queued or launched."]}),(0,B.jsxs)(U.cN,{children:[(0,B.jsx)(v.zx,{intent:"none",onClick:t,children:"Close"}),p?(0,B.jsx)(v.zx,{intent:"danger",disabled:!0,children:"Canceling..."}):(0,B.jsx)(v.zx,{intent:"danger",onClick:m,children:"Cancel backfill"})]})]}),(0,B.jsx)(Q.A,{isOpen:!!n&&(!f||"REQUESTED"!==n.status)&&!!x.length,onClose:t,onComplete:r,selectedRuns:g})]})},ee=(0,p.Ps)(r||(r=(0,o.Z)(["\n  mutation CancelBackfill($backfillId: String!) {\n    cancelPartitionBackfill(backfillId: $backfillId) {\n      __typename\n      ... on CancelBackfillSuccess {\n        backfillId\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),P.Bq),ne=t(22013),te=function(e){var n=e.showPartitionSet,t=void 0===n||n,r=e.allPartitions,i=e.backfills,o=e.refetch,l=N.useState(),c=(0,s.Z)(l,2),p=c[0],m=c[1],x=N.useState(),g=(0,s.Z)(x,2),y=g[0],v=g[1],j=N.useState(),w=(0,s.Z)(j,2),b=w[0],k=w[1],S=(0,d.D)(ne.g),C=(0,s.Z)(S,1)[0],E=(0,T.TE)().canCancelPartitionBackfill,_=null===p||void 0===p?void 0:p.backfillId;N.useEffect((function(){if(E.enabled&&_){var e=i.filter((function(e){return e.backfillId===_})),n=(0,s.Z)(e,1)[0];m(n)}}),[i,_,E]);var R=function(){var e=(0,a.Z)(u().mark((function e(n){var t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({variables:{backfillId:n.backfillId}});case 2:t=e.sent,(r=t.data)&&"ResumeBackfillSuccess"===r.resumePartitionBackfill.__typename?o():r&&"UnauthorizedError"===r.resumePartitionBackfill.__typename?Z.L.show({message:(0,B.jsx)(h.Z,{direction:"column",spacing:4,children:(0,B.jsx)("div",{children:"Attempted to retry the backfill in read-only mode. This backfill was not retried."})}),icon:"error",intent:"danger"}):r&&"PythonError"===r.resumePartitionBackfill.__typename&&(i=r.resumePartitionBackfill,Z.L.show({message:(0,B.jsx)("div",{children:"An unexpected error occurred. This backfill was not retried."}),icon:"error",intent:"danger",action:{text:"View error",onClick:function(){return(0,I._)({body:(0,B.jsx)(P.T9,{error:i})})}}}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(f.i,{children:[(0,B.jsx)("thead",{children:(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{style:{width:120},children:"Backfill Id"}),(0,B.jsx)("th",{style:{width:200},children:"Created"}),t?(0,B.jsx)("th",{children:"Partition Set"}):null,r?(0,B.jsx)("th",{children:"Requested"}):null,(0,B.jsx)("th",{style:{textAlign:"right",width:200},children:"Backfill Status"}),(0,B.jsx)("th",{children:"Run Status"}),(0,B.jsx)("th",{style:{width:80}})]})}),(0,B.jsx)("tbody",{children:i.map((function(e){return(0,B.jsx)(re,{showPartitionSet:t,backfill:e,allPartitions:r,onTerminateBackfill:m,onResumeBackfill:R,onShowStepStatus:v,onShowPartitionsRequested:k},e.backfillId)}))})]}),(0,B.jsx)(H,{backfill:y,onClose:function(){return v(void 0)}}),(0,B.jsx)($,{backfill:b,onClose:function(){return k(void 0)}}),(0,B.jsx)(X,{backfill:p,onClose:function(){return m(void 0)},onComplete:function(){return o()}})]})},re=function(e){var n=e.backfill,t=e.allPartitions,r=e.showPartitionSet,i=e.onTerminateBackfill,o=e.onResumeBackfill,a=e.onShowStepStatus,s=e.onShowPartitionsRequested,l=(0,_.k6)(),c=(0,T.TE)(),u=c.canCancelPartitionBackfill,d=c.canLaunchPartitionBackfill,p=(0,L.it)([{token:"tag",value:"dagster/backfill=".concat(n.backfillId)}]),h=n.partitionSet?(0,z.k)(n.partitionSet.repositoryOrigin.repositoryName,n.partitionSet.repositoryOrigin.repositoryLocationName):null,f=(0,M.Ux)(h),w=!!(f&&n.partitionSet&&(0,M.E8)(f,n.partitionSet.pipelineName)),b=n.partitionSet?(0,K.jT)({repoName:n.partitionSet.repositoryOrigin.repositoryName,repoLocation:n.partitionSet.repositoryOrigin.repositoryLocationName,pipelineName:n.partitionSet.pipelineName,path:"/partitions?".concat(C().stringify({partitionSet:n.partitionSet.name,q:[(0,m.jP)([{token:"tag",value:"dagster/backfill=".concat(n.backfillId)}])]})),isJob:w}):null,k=n.partitionStatuses.results.some((function(e){return e.runStatus===F.VO.QUEUED||e.runStatus===F.VO.STARTED}));return(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{style:{width:120},children:(0,B.jsx)(x.fv,{children:b?(0,B.jsx)(E.rU,{to:b,children:n.backfillId}):n.backfillId})}),(0,B.jsx)("td",{style:{width:240},children:n.timestamp?(0,B.jsx)(A.v,{timestamp:n.timestamp}):"-"}),r?(0,B.jsx)("td",{children:n.partitionSet?(0,B.jsx)(se,{partitionSet:n.partitionSet}):n.partitionSetName}):null,t?(0,B.jsx)("td",{style:{width:300},children:(0,B.jsx)(ie,{allPartitions:t,backfill:n,onExpand:function(){return s(n)}})}):null,(0,B.jsx)("td",{style:{textAlign:"right",width:200},children:(0,B.jsx)(oe,{backfill:n})}),(0,B.jsx)("td",{children:(0,B.jsx)(ae,{backfill:n,history:l})}),(0,B.jsx)("td",{children:(0,B.jsx)(g.J,{content:(0,B.jsxs)(y.v2,{children:[u.enabled?(0,B.jsxs)(B.Fragment,{children:[n.numRequested<n.partitionStatuses.results.length&&n.status===F.Jv.REQUESTED?(0,B.jsx)(y.sN,{text:"Cancel backfill submission",icon:"cancel",intent:"danger",onClick:function(){return i(n)}}):null,k?(0,B.jsx)(y.sN,{text:"Terminate unfinished runs",icon:"cancel",intent:"danger",onClick:function(){return i(n)}}):null]}):null,d.enabled&&n.status===F.Jv.FAILED&&n.partitionSet?(0,B.jsx)(y.sN,{text:"Resume failed backfill",title:"Submits runs for all partitions in the backfill that do not have a corresponding run. Does not retry failed runs.",icon:"refresh",onClick:function(){return o(n)}}):null,(0,B.jsx)(y.sN,{text:"View Backfill Runs",icon:"settings_backup_restore",onClick:function(){return l.push(p)}}),(0,B.jsx)(y.sN,{text:"View Step Status",icon:"view_list",onClick:function(){a(n)}})]}),position:"bottom-right",children:(0,B.jsx)(v.zx,{icon:(0,B.jsx)(j.JO,{name:"expand_more"})})})})]})},ie=function(e){var n=e.allPartitions,t=e.backfill,r=e.onExpand,i={};return t.partitionNames.forEach((function(e){i[e]=F.VO.QUEUED})),(0,B.jsxs)(w.x,{flex:{direction:"column",gap:8},children:[(0,B.jsx)("div",{children:(0,B.jsx)(le,{onClick:r,children:(0,B.jsxs)(b.V,{intent:"primary",interactive:!0,children:[t.partitionNames.length," partitions"]})})}),(0,B.jsx)(R.b,{partitionNames:n,partitionData:i,small:!0,hideStatusTooltip:!0})]})},oe=function(e){var n=e.backfill;switch(n.status){case F.Jv.REQUESTED:return(0,B.jsx)(b.V,{children:"Requested"});case F.Jv.CANCELED:case F.Jv.FAILED:return(0,B.jsx)(w.x,{margin:{bottom:12},children:(0,B.jsx)(le,{onClick:function(){return n.error&&(0,I._)({title:"Error",body:(0,B.jsx)(P.T9,{error:n.error})})},children:(0,B.jsx)(b.V,{intent:"danger",children:"FAILED"===n.status?"Failed":"Canceled"})})});case F.Jv.COMPLETED:var t=n.partitionStatuses.results.map((function(e){return e.runStatus}));return t.filter((function(e){return e===F.VO.SUCCESS})).length===n.partitionNames.length?(0,B.jsx)(b.V,{intent:"success",children:"Completed"}):t.filter((function(e){return e&&e in D.Ys})).length?(0,B.jsx)(b.V,{intent:"primary",children:"In progress"}):(0,B.jsx)(b.V,{intent:"warning",children:"Incomplete"})}},ae=function(e){var n=e.backfill,t=e.history,r={},i={};return n.partitionStatuses.results.forEach((function(e){r[e.partitionName]=e.runStatus,i[e.partitionName]=e.runId})),(0,B.jsx)(R.b,{partitionNames:n.partitionNames,partitionData:r,splitPartitions:!0,onClick:function(e){i[e]&&t.push("/instance/runs/".concat(i[e]))}})},se=function(e){var n=e.partitionSet,t=(0,z.k)(n.repositoryOrigin.repositoryName,n.repositoryOrigin.repositoryLocationName),r=(0,M.Ux)(t),i=!(!r||!(0,M.E8)(r,n.pipelineName));return(0,B.jsxs)(w.x,{flex:{direction:"column",gap:8},children:[(0,B.jsx)(E.rU,{to:(0,K.jT)({repoName:n.repositoryOrigin.repositoryName,repoLocation:n.repositoryOrigin.repositoryLocationName,pipelineName:n.pipelineName,isJob:i,path:"/partitions?partitionSet=".concat(encodeURIComponent(n.name))}),children:n.name}),(0,B.jsxs)(w.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,B.jsx)(j.JO,{name:"repo",color:k.w.Gray400}),(0,B.jsx)(E.rU,{to:(0,K.$U)(t),children:(0,G.l)(t)})]}),(0,B.jsx)(O.h,{showIcon:!0,size:"small",pipelineName:n.pipelineName,pipelineHrefContext:{name:n.repositoryOrigin.repositoryName,location:n.repositoryOrigin.repositoryLocationName},isJob:i})]})},le=l.ZP.button.withConfig({displayName:"BackfillTable__TagButton",componentId:"sc-111y28m-0"})(["border:none;background:none;cursor:pointer;padding:0;margin:0;:focus{outline:none;}"]),ce=(0,p.Ps)(i||(i=(0,o.Z)(["\n  fragment BackfillTableFragment on PartitionBackfill {\n    backfillId\n    status\n    numRequested\n    partitionNames\n    numPartitions\n    timestamp\n    partitionSetName\n    partitionSet {\n      id\n      name\n      mode\n      pipelineName\n      repositoryOrigin {\n        id\n        repositoryName\n        repositoryLocationName\n      }\n    }\n    partitionStatuses {\n      results {\n        id\n        partitionName\n        runId\n        runStatus\n      }\n    }\n    error {\n      ...PythonErrorFragment\n    }\n  }\n  ","\n"])),P.Bq)},22013:function(e,n,t){t.d(n,{g:function(){return l},f:function(){return c}});var r,i,o=t(99500),a=t(3159),s=t(12436),l=(0,a.Ps)(r||(r=(0,o.Z)(["\n  mutation resumeBackfill($backfillId: String!) {\n    resumePartitionBackfill(backfillId: $backfillId) {\n      __typename\n      ... on ResumeBackfillSuccess {\n        backfillId\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),s.Bq),c=(0,a.Ps)(i||(i=(0,o.Z)(["\n  mutation LaunchPartitionBackfill($backfillParams: LaunchBackfillParams!) {\n    launchPartitionBackfill(backfillParams: $backfillParams) {\n      __typename\n      ... on LaunchBackfillSuccess {\n        backfillId\n      }\n      ... on PartitionSetNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n      ... on InvalidStepError {\n        invalidStepKey\n      }\n      ... on InvalidOutputError {\n        stepKey\n        invalidOutputName\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on RunConflict {\n        message\n      }\n      ... on ConflictingExecutionParamsError {\n        message\n      }\n      ... on PresetNotFoundError {\n        message\n      }\n      ... on RunConfigValidationInvalid {\n        pipelineName\n        errors {\n          __typename\n          message\n          path\n          reason\n        }\n      }\n    }\n  }\n  ","\n"])),s.Bq)},40557:function(e,n,t){t.d(n,{Q:function(){return W}});var r,i=t(55113),o=t(32030),a=t(12745),s=t(7838),l=t(8546),c=t(325),u=t(86476),d=t(26533),p=t(62e3),h=t(23848),f=t(922),m=t(762),x=t(74549),g=t(53857),y=t(59549),v=t(55752),j=t(32289),w={QUEUED:s.w.Blue500,NOT_STARTED:s.w.Blue500,STARTING:s.w.Blue500,MANAGED:s.w.Blue500,STARTED:s.w.Blue500,SUCCESS:s.w.Green500,FAILURE:s.w.Red500,CANCELING:s.w.Red500,CANCELED:s.w.Red500},b=function(e){var n=e.status,t=e.opacity,r=void 0===t?1:t,i=w[n];return(0,j.jsx)(I,{$color:i,$opacity:r})},k=function(e){var n=e.fade,t=e.runs,r=t.length,i=.8/Math.max(3,r);return(0,j.jsx)(o.x,{flex:{direction:"row",alignItems:"center",gap:2},children:t.map((function(t,o){return(0,j.jsx)(m.J,{position:"bottom",interactionKind:"hover",content:(0,j.jsx)("div",{children:(0,j.jsx)(S,{run:t,repoAddr:e.repoAddress})}),hoverOpenDelay:100,children:(0,j.jsx)(b,{runId:t.runId,status:t.status,opacity:n?1-(r-o-1)*i:1},t.runId)},t.runId)}))})},S=function(e){return(0,j.jsxs)(C,{children:[(0,j.jsx)(E,{children:e.repoAddr}),(0,j.jsxs)(_,{children:[(0,j.jsx)(y.K9,{status:e.run.status}),(0,j.jsx)(x.rU,{to:"/instance/runs/".concat(e.run.runId),children:(0,j.jsx)(a.fv,{children:(0,v.EI)(e.run)})}),(0,j.jsx)(N,{}),(0,j.jsxs)(o.x,{flex:{direction:"column"},children:[(0,j.jsx)(v.Zr,{run:e.run}),(0,j.jsx)(v.Tw,{run:e.run})]})]})]})},C=f.ZP.div.withConfig({displayName:"RunStatusPez__OverlayContainer",componentId:"sc-1eclpuq-0"})(["padding:4px;font-size:12px;width:280px;"]),N=f.ZP.div.withConfig({displayName:"RunStatusPez__HorizontalSpace",componentId:"sc-1eclpuq-1"})(["flex:1;"]),E=(0,f.ZP)(g.M$).withConfig({displayName:"RunStatusPez__OverlayTitle",componentId:"sc-1eclpuq-2"})(["padding:8px;box-shadow:inset 0 -1px ",";max-width:100%;text-overflow:ellipsis;overflow:hidden;min-width:0px;"],s.w.KeylineGray),_=f.ZP.div.withConfig({displayName:"RunStatusPez__RunRow",componentId:"sc-1eclpuq-3"})(["align-items:baseline;padding:8px;font-family:",";font-size:14px;line-height:20px;display:flex;gap:8px;"],l.b.monospace),I=f.ZP.div.withConfig({displayName:"RunStatusPez__Pez",componentId:"sc-1eclpuq-4"})(["background-color:",";border-radius:2px;height:16px;opacity:",";width:8px;"],(function(e){return e.$color}),(function(e){return e.$opacity})),Z=t(33902),T=t(99500),P=t(19065),R=t(65880),O=t(3159),D=t(8412),L=t(11831),A=t(75453),F=t(89279),M=t(63579),z=t(3148),G=t(92497),K=t(79580),U=t(90933),B=t(25582),$=function(e){var n=e.job,t=e.repoAddress,r=n.runs.length?n.runs[0]:null,i=(0,M.TE)().canLaunchPipelineReexecution,o=(0,R.t)(V),a=(0,P.Z)(o,2),s=a[0],l=a[1].data,u="Run"===(null===l||void 0===l?void 0:l.pipelineRunOrError.__typename)?null===l||void 0===l?void 0:l.pipelineRunOrError:null,d=c.useCallback((function(){null!==r&&void 0!==r&&r.id&&s({variables:{runId:r.id}})}),[r,s]),p=(0,K.W)(u),h=(0,j.jsx)(D.sN,{icon:"replay",text:"Re-execute latest run",onClick:function(){return p({type:"all"})},disabled:!i.enabled||!u||!(0,z.EP)(u)}),f=(0,j.jsx)(D.sN,{icon:"sync_problem",text:"Re-execute latest run from failure",onClick:function(){return p({type:"from-failure"})},disabled:!i.enabled||!u||!(0,z.VM)(u)});return(0,j.jsx)(m.J,{onOpened:function(){return d()},content:(0,j.jsxs)(D.v2,{children:[(0,j.jsx)(U.U,{to:(0,B.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n.name,isJob:n.isJob}),icon:"job",text:"View job"}),(0,j.jsx)(U.U,{to:(0,B.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n.name,isJob:n.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),i.enabled?h:(0,j.jsx)(L.u,{content:i.disabledReason,display:"block",children:h}),i.enabled?f:(0,j.jsx)(L.u,{content:i.disabledReason,display:"block",children:f})]}),position:"bottom-right",children:(0,j.jsx)(A.zx,{icon:(0,j.jsx)(F.JO,{name:"expand_more"})})})},V=(0,O.Ps)(r||(r=(0,T.Z)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        ...RunFragment\n      }\n    }\n  }\n\n  ","\n"])),G.O.RunFragment),q=t(63744),H=t(29440),W=function(e){var n=e.jobs;return(0,j.jsxs)(i.i,{children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{style:{width:"40%"},children:"Job"}),(0,j.jsx)("th",{style:{width:"25%"},children:"Trigger"}),(0,j.jsx)("th",{style:{width:"35%"},children:"Latest run"}),(0,j.jsx)("th",{})]})}),(0,j.jsx)("tbody",{children:n.map((function(e){var n=e.isJob,t=e.name,r=e.repoAddress,i=e.runs,c=e.schedules,f=e.sensors,m=(0,h.G)(r,t),x=(0,Z.l)(r);return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:(0,j.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,j.jsxs)(o.x,{flex:{direction:"column",gap:4},children:[(0,j.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,j.jsx)(p.h,{pipelineName:t,isJob:n,pipelineHrefContext:r}),n?null:(0,j.jsx)(d.l,{})]}),(0,j.jsx)(a.uT,{color:s.w.Gray400,style:{fontFamily:l.b.monospace},children:x})]}),i.length?(0,j.jsx)(o.x,{margin:{top:4},children:(0,j.jsx)(k,{fade:!0,runs:i,repoAddress:x})}):null]})}),(0,j.jsx)("td",{children:c.length||f.length?(0,j.jsxs)(o.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:[(0,j.jsx)(u.I,{schedules:c,sensors:f,repoAddress:r}),c.length?(0,j.jsx)(H.E,{schedules:c}):null]}):(0,j.jsx)("div",{style:{color:s.w.Gray500},children:"None"})}),(0,j.jsx)("td",{children:i.length?(0,j.jsx)(q.Z,{run:i[0]}):(0,j.jsx)("div",{style:{color:s.w.Gray500},children:"None"})}),(0,j.jsx)("td",{children:(0,j.jsx)($,{job:{isJob:n,name:t,runs:i},repoAddress:r})})]},m)}))})]})}},63744:function(e,n,t){t.d(n,{Z:function(){return k}});var r,i=t(32030),o=t(54268),a=t(325),s=t(59549),l=t(34653),c=t(55752),u=t(5484),d=t(28797),p=t(99500),h=t(73701),f=t(3159),m=t(12745),x=t(7838),g=t(41332),y=t.n(g),v=t(74549),j=t(32289),w=function(e){var n=e.runId,t=(0,h.a)(b,{variables:{runId:n}}).data,r=null===t||void 0===t?void 0:t.pipelineRunOrError,i="Run"===(null===r||void 0===r?void 0:r.__typename)?r.status:null,o=a.useMemo((function(){if("Run"!==(null===r||void 0===r?void 0:r.__typename))return[];var e=r.status;return l.hd.has(e)?r.stepStats.filter((function(e){return e.status===u.SG.FAILURE})):l.Ys.has(e)?r.stepStats.filter((function(e){return e.status===u.SG.IN_PROGRESS})):[]}),[r]),s=o.length;if(!s||!i)return null;if(l.hd.has(i)){if(1===s){var c=o[0],d=c.endTime?y().stringify({focusedTime:Math.floor(1e3*c.endTime)},{addQueryPrefix:!0}):"";return(0,j.jsxs)(m.aU,{color:x.w.Gray500,children:["Failed at ",(0,j.jsx)(v.rU,{to:"/instance/runs/".concat(n).concat(d),children:c.stepKey})]})}return(0,j.jsxs)(m.aU,{color:x.w.Gray500,children:["Failed at ",(0,j.jsxs)(v.rU,{to:"/instance/runs/".concat(n),children:[s," steps"]})]})}if(l.Ys.has(i)){if(1===s){var p=o[0],f=p.endTime?y().stringify({focusedTime:Math.floor(1e3*p.endTime)},{addQueryPrefix:!0}):"";return(0,j.jsxs)(m.aU,{color:x.w.Gray500,children:["In progress at ",(0,j.jsx)(v.rU,{to:"/instance/runs/".concat(n).concat(f),children:p.stepKey})]})}return(0,j.jsxs)(m.aU,{color:x.w.Gray500,children:["In progress at ",(0,j.jsxs)(v.rU,{to:"/instance/runs/".concat(n),children:[s," steps"]})]})}return null},b=(0,f.Ps)(r||(r=(0,p.Z)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"]))),k=a.memo((function(e){var n=e.run,t=n.status,r=a.useMemo((function(){switch(t){case u.VO.SUCCESS:return"success";case u.VO.CANCELED:case u.VO.CANCELING:case u.VO.FAILURE:return"danger";default:return"none"}}),[t]);return(0,j.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,j.jsxs)(i.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:[(0,j.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,j.jsx)(o.V,{intent:r,children:(0,j.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(s.K9,{status:n.status,size:10}),(0,j.jsx)(c.Zr,{run:n})]})}),(0,j.jsx)(c.Tw,{run:n})]}),l.hd.has(n.status)||l.Ys.has(n.status)?(0,j.jsx)(w,{runId:n.id}):void 0]}),(0,j.jsx)(d.A,{to:"/instance/runs/".concat(n.id),children:"View run"})]})}))},29440:function(e,n,t){t.d(n,{E:function(){return f},q:function(){return m}});var r,i=t(99500),o=t(59019),a=t(3159),s=t(12745),l=t(7838),c=t(325),u=t(68156),d=t(5484),p=t(32289),h={showTimezone:!0,showSeconds:!0},f=function(e){var n=e.schedules,t=c.useMemo((function(){return n.map((function(e){var n=e.executionTimezone,t=e.futureTicks;return e.scheduleState.status===d.yn.RUNNING?{executionTimezone:n,earliest:Math.min.apply(Math,(0,o.Z)(t.results.map((function(e){return e.timestamp}))))}:null})).reduce((function(e,n){return!e||null!==n&&void 0!==n&&n.earliest&&n.earliest<(null===e||void 0===e?void 0:e.earliest)?n:e}),null)}),[n]);return t?(0,p.jsxs)(s.aU,{color:l.w.Gray500,children:["Next tick:"," ",(0,p.jsx)(u.v,{timestamp:t.earliest,timezone:t.executionTimezone,timeFormat:h})]}):null},m=(0,a.Ps)(r||(r=(0,i.Z)(["\n  fragment ScheduleFutureTicksFragment on Schedule {\n    id\n    executionTimezone\n    scheduleState {\n      id\n      status\n    }\n    futureTicks(limit: 10) {\n      results {\n        timestamp\n      }\n    }\n  }\n"])))},77523:function(e,n,t){t.d(n,{C:function(){return p}});var r=t(19065),i=t(8358),o=t(32030),a=t(75453),s=t(89279),l=t(325),c=t(93141),u=t(76336),d=t(32289),p=function(){var e=l.useContext(u.C5),n=e.allRepos,t=e.visibleRepos,p=e.toggleVisible,h=l.useState(!1),f=(0,r.Z)(h,2),m=f[0],x=f[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i.Vq,{canOutsideClickClose:!0,canEscapeKeyClose:!0,isOpen:m,style:{width:"auto"},onClose:function(){return x(!1)},children:[(0,d.jsx)(i.fK,{icon:"repo",label:"Repositories"}),(0,d.jsx)(c.e,{options:n,onBrowse:function(){return x(!1)},onToggle:p,selected:t}),(0,d.jsx)(i.cN,{children:(0,d.jsx)(o.x,{padding:{top:8},children:(0,d.jsx)(a.zx,{intent:"none",onClick:function(){return x(!1)},children:"Done"})})})]}),(0,d.jsx)(a.zx,{intent:"none",icon:(0,d.jsx)(s.JO,{name:"folder"}),rightIcon:(0,d.jsx)(s.JO,{name:"expand_more"}),onClick:function(){return x(!0)},children:"".concat(t.length," of ").concat(n.length," Repositories")})]})}},62997:function(e,n,t){t.d(n,{TW:function(){return I},i0:function(){return Z},lB:function(){return T},dY:function(){return R}});var r,i,o=t(99500),a=t(19065),s=t(922),l=t(73701),c=t(3159),u=t(54268),d=t(60652),p=t(8358),h=t(75453),f=t(11831),m=t(34595),x=t(89646),g=t(6466),y=t(32030),v=t(7838),j=t(12745),w=t(89279),b=t(325),k=t(14156),S=t(12436),C=t(76341),N=t(80608),E=t(5484),_=t(32289),I=function(e){var n=e.tick,t=e.instigationType,r=b.useState(!1),i=(0,a.Z)(r,2),o=i[0],s=i[1];switch(n.status){case E.iz.STARTED:return(0,_.jsx)(u.V,{children:"Started"});case E.iz.SUCCESS:if(!n.runIds.length)return(0,_.jsx)(u.V,{intent:"primary",children:"Requested"});var l=(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(u.V,{intent:"primary",interactive:!0,children:(0,_.jsxs)(d.Z,{underline:"never",onClick:function(){return s(!0)},children:[n.runIds.length," Requested"]})}),(0,_.jsxs)(p.Vq,{isOpen:o,onClose:function(){return s(!1)},style:{width:"90vw"},title:"Launched runs",children:[(0,_.jsx)(p.a7,{children:o&&(0,_.jsx)(Z,{runIds:n.runIds})}),(0,_.jsx)(p.cN,{children:(0,_.jsx)(h.zx,{intent:"primary",onClick:function(){return s(!1)},children:"OK"})})]})]});if(n.runKeys.length>n.runIds.length){var c="".concat(n.runKeys.length," runs requested, but ").concat(n.runKeys.length-n.runIds.length," skipped because the runs already exist for those requested keys.");return(0,_.jsx)(f.u,{position:"right",content:c,children:l})}return l;case E.iz.SKIPPED:if(n.runKeys.length){var m="".concat(n.runKeys.length," runs requested, but skipped because the runs already exist for the requested keys.");return(0,_.jsx)(f.u,{position:"right",content:m,children:(0,_.jsx)(u.V,{intent:"warning",children:"Skipped"})})}return n.skipReason?(0,_.jsx)(f.u,{position:"right",content:n.skipReason,targetTagName:"div",children:(0,_.jsx)(u.V,{intent:"warning",children:"Skipped"})}):(0,_.jsx)(u.V,{intent:"warning",children:"Skipped"});case E.iz.FAILURE:if(n.error){var x=n.error,g=function(){return(0,k._)({title:t?t===E._5.SCHEDULE?"Schedule Response":"Sensor Response":"Python Error",body:(0,_.jsx)(S.T9,{error:x})})};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(P,{onClick:g,children:(0,_.jsx)(u.V,{minimal:!0,intent:"danger",children:"Failure"})}),(0,_.jsx)(d.Z,{onClick:g,style:{marginLeft:8,fontSize:14},children:"View error"})]})}return(0,_.jsx)(u.V,{intent:"danger",children:"Failure"});default:return(0,C.UT)(n.status)}},Z=function(e){var n=e.runIds,t=(0,l.a)(O,{variables:{filter:{runIds:n}}}),r=t.data;return t.loading||!r?(0,_.jsx)(m.$,{purpose:"section"}):"Runs"!==r.pipelineRunsOrError.__typename?(0,_.jsx)(x.t,{icon:"error",title:"Query Error",description:r.pipelineRunsOrError.message}):(0,_.jsx)("div",{children:(0,_.jsx)(N.A,{runs:r.pipelineRunsOrError.results})})},T=function(e){var n=e.originRunIds;return n&&n.length?(0,_.jsxs)(g.Z,{direction:"column",spacing:16,children:[(0,_.jsxs)(y.x,{padding:12,border:{side:"bottom",width:1,color:v.w.Gray200},children:[(0,_.jsxs)(j.uT,{children:["Failed Runs",(0,_.jsx)(f.u,{content:"Failed runs this tick reacted on and reported back to.",children:(0,_.jsx)(w.JO,{name:"info",color:v.w.Gray500})})]}),(0,_.jsx)(Z,{runIds:n})]}),(0,_.jsxs)(y.x,{padding:12,margin:{bottom:8},children:[(0,_.jsxs)(j.uT,{children:["Requested Runs",(0,_.jsx)(f.u,{content:"Runs launched by the run requests in this tick.",children:(0,_.jsx)(w.JO,{name:"info",color:v.w.Gray500})})]}),(0,_.jsx)(x.t,{icon:"sensors",title:"No runs to display",description:"This sensor does not target a pipeline or job."})]})]}):null},P=s.ZP.button.withConfig({displayName:"InstigationTick__LinkButton",componentId:"o7n48i-0"})(["background:inherit;border:none;cursor:pointer;font-size:inherit;text-decoration:none;padding:0;"]),R=(0,c.Ps)(r||(r=(0,o.Z)(["\n  fragment TickTagFragment on InstigationTick {\n    id\n    status\n    timestamp\n    skipReason\n    runIds\n    runKeys\n    error {\n      ...PythonErrorFragment\n    }\n  }\n"]))),O=(0,c.Ps)(i||(i=(0,o.Z)(["\n  query LaunchedRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n          runId\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),N.Z,S.Bq)},45352:function(e,n,t){t.d(n,{UD:function(){return y},RX:function(){return v},S9:function(){return j},ai:function(){return w},Jy:function(){return b}});var r,i,o=t(99500),a=t(922),s=t(3159),l=t(7838),c=t(6466),u=t(12745),d=(t(325),t(74549)),p=t(12436),h=t(63744),f=t(59549),m=t(55752),x=t(62997),g=t(32289),y=function(e){var n=e.instigationState;return n.runs.length?(0,g.jsx)(h.Z,{run:n.runs[0]}):(0,g.jsx)("span",{style:{color:l.w.Gray300},children:"None"})},v=function(e){var n=e.run;return(0,g.jsxs)(c.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,g.jsx)(f.K9,{status:n.status}),(0,g.jsx)(d.rU,{to:"/instance/runs/".concat(n.runId),target:"_blank",rel:"noreferrer",children:(0,g.jsx)(u.fv,{children:(0,m.EI)({runId:n.runId})})})]})},j=(0,s.Ps)(r||(r=(0,o.Z)(["\n  fragment RunStatusFragment on Run {\n    id\n    runId\n    status\n  }\n"]))),w=(0,s.Ps)(i||(i=(0,o.Z)(["\n  fragment InstigationStateFragment on InstigationState {\n    id\n    selectorId\n    name\n    instigationType\n    status\n    repositoryName\n    repositoryLocationName\n    typeSpecificData {\n      ... on SensorData {\n        lastRunKey\n        lastCursor\n      }\n      ... on ScheduleData {\n        cronSchedule\n      }\n    }\n    runs(limit: 1) {\n      id\n      ...RunStatusFragment\n      ...RunTimeFragment\n    }\n    status\n    ticks(limit: 1) {\n      id\n      cursor\n      ...TickTagFragment\n    }\n    runningCount\n  }\n  ","\n  ","\n  ","\n  ","\n"])),p.Bq,x.dY,j,m.$X),b=a.ZP.table.withConfig({displayName:"InstigationUtils__StatusTable",componentId:"sc-1od21u7-0"})(["font-size:13px;border-spacing:0;&&&&& tr{box-shadow:none;}&&&&& tbody > tr > td{background:transparent;box-shadow:none !important;padding:1px 0;}&&&&& tbody > tr > td:first-child{color:",";}"],l.w.Gray500)},56313:function(e,n,t){t.d(n,{e:function(){return N},Y:function(){return E}});var r=t(85358),i=t(19065),o=t(95550),a=t.n(o),s=t(49148),l=t(32030),c=t(12745),u=t(55113),d=t(60736),p=t(50346),h=t(11831),f=t(6466),m=t(7838),x=(t(325),t(79540)),g=t(63579),y=t(73565),v=t(36243),j=t(88161),w=t(5484),b=t(2097),k=t(62997),S=t(45352),C=t(32289),N=function(e){var n=e.sensorStates;return n.length?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(l.x,{padding:{top:16,horizontal:24},children:[(0,C.jsx)(c.pm,{children:"Unloadable sensors"}),(0,C.jsx)(_,{})]}),(0,C.jsxs)(u.i,{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{style:{maxWidth:"60px"}}),(0,C.jsx)("th",{children:"Sensor Name"}),(0,C.jsx)("th",{style:{width:"100px"},children:"Last Tick"}),(0,C.jsx)("th",{children:"Last Run"})]})}),(0,C.jsx)("tbody",{children:n.map((function(e){return(0,C.jsx)(Z,{sensorState:e},e.id)}))})]})]}):null},E=function(e){var n=e.scheduleStates;return n.length?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(l.x,{padding:{top:16,horizontal:24},children:[(0,C.jsx)(c.pm,{children:"Unloadable schedules"}),(0,C.jsx)(I,{})]}),(0,C.jsxs)(u.i,{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{style:{maxWidth:"60px"}}),(0,C.jsx)("th",{children:"Schedule Name"}),(0,C.jsx)("th",{style:{width:"150px"},children:"Schedule"}),(0,C.jsx)("th",{style:{width:"100px"},children:"Last Tick"}),(0,C.jsx)("th",{children:"Last Run"}),(0,C.jsx)("th",{children:"Partition Set Status"})]})}),(0,C.jsx)("tbody",{children:n.map((function(e){return(0,C.jsx)(T,{scheduleState:e},e.id)}))})]})]}):null},_=function(){return(0,C.jsx)(l.x,{margin:{vertical:20},children:(0,C.jsx)(d.b,{intent:"warning",title:(0,C.jsxs)("div",{children:["Note: You can turn off any of the following sensors, but you cannot turn them back on."," "]}),description:(0,C.jsx)("div",{children:"The following sensors were previously started but now cannot be loaded. They may be part of a different workspace or from a sensor or repository that no longer exists in code. You can turn them off, but you cannot turn them back on since they can\u2019t be loaded."})})})},I=function(){return(0,C.jsx)(l.x,{margin:{vertical:20},children:(0,C.jsx)(d.b,{intent:"warning",title:(0,C.jsx)("div",{children:"Note: You can turn off any of the following schedules, but you cannot turn them back on."}),description:(0,C.jsx)("div",{children:"The following schedules were previously started but now cannot be loaded. They may be part of a different workspace or from a schedule or repository that no longer exists in code. You can turn them off, but you cannot turn them back on since they can\u2019t be loaded."})})})},Z=function(e){var n=e.sensorState,t=n.id,o=n.selectorId,l=n.name,c=n.status,u=n.ticks,d=(0,g.TE)().canStopSensor,y=(0,s.D)(j.Xu,{onCompleted:j.oI}),v=(0,i.Z)(y,2),N=v[0],E=v[1].loading,_=(0,x.p)(),I=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c!==w.yn.RUNNING){e.next=4;break}return e.next=3,_({title:"Are you sure you want to turn off this sensor?",description:"The definition for this sensor is not available. If you turn it off, you will not be able to turn it back on from the currently loaded workspace."});case 3:N({variables:{jobOriginId:t,jobSelectorId:o}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=c===w.yn.RUNNING&&!d.enabled,T=u.length?u[0]:null;return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{width:60},children:function(){var e=(0,C.jsx)(p.X,{format:"switch",disabled:E||c===w.yn.STOPPED||Z,checked:c===w.yn.RUNNING,onChange:I});return Z?(0,C.jsx)(h.u,{content:d.disabledReason,children:e}):e}()}),(0,C.jsxs)("td",{children:[(0,C.jsx)(f.Z,{direction:"row",spacing:8,alignItems:"center",children:l}),(0,C.jsx)(b.Y,{instigatorState:n})]}),(0,C.jsx)("td",{children:T?(0,C.jsx)(k.TW,{tick:T,instigationType:w._5.SENSOR}):(0,C.jsx)("span",{style:{color:m.w.Gray300},children:"None"})}),(0,C.jsx)("td",{children:(0,C.jsx)("div",{style:{display:"flex"},children:(0,C.jsx)(S.UD,{instigationState:n})})})]},l)},T=function(e){var n=e.scheduleState,t=(0,g.TE)().canStopRunningSchedule,o=(0,s.D)(y.d0,{onCompleted:y.JH}),l=(0,i.Z)(o,2),c=l[0],u=l[1].loading,d=(0,x.p)(),m=n.id,j=n.selectorId,N=n.name,E=n.ticks,_=n.status,I=n.typeSpecificData,Z=E.length>0?E[0]:null,T=I&&"ScheduleData"===I.__typename?I.cronSchedule:null,P=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_!==w.yn.RUNNING){e.next=4;break}return e.next=3,d({title:"Are you sure you want to stop this schedule?",description:"The definition for this schedule is not available. If you turn it off, you will not be able to turn it back on from the currently loaded workspace."});case 3:c({variables:{scheduleOriginId:m,scheduleSelectorId:j}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=_===w.yn.RUNNING&&!t.enabled;return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{width:60},children:function(){var e=(0,C.jsx)(p.X,{format:"switch",checked:_===w.yn.RUNNING,disabled:_!==w.yn.RUNNING||u||R,onChange:P});return R?(0,C.jsx)(h.u,{content:t.disabledReason,children:e}):e}()}),(0,C.jsxs)("td",{children:[(0,C.jsx)(f.Z,{direction:"row",spacing:8,alignItems:"center",children:(0,C.jsx)("div",{children:N})}),(0,C.jsx)(b.Y,{instigatorState:n})]}),(0,C.jsx)("td",{style:{maxWidth:150},children:(0,C.jsx)("div",{style:{position:"relative",width:"100%",whiteSpace:"pre-wrap",display:"block"},children:T?(0,C.jsx)(h.u,{position:"bottom",content:T,children:(0,v.A)(T)}):(0,C.jsx)("div",{children:"\u2014"})})}),(0,C.jsx)("td",{children:Z?(0,C.jsx)(k.TW,{tick:Z,instigationType:w._5.SCHEDULE}):null}),(0,C.jsx)("td",{children:(0,C.jsx)(S.UD,{instigationState:n})}),(0,C.jsx)("td",{children:(0,C.jsx)("div",{style:{display:"flex"},children:"\u2014"})})]},N)}},89493:function(e,n,t){t.d(n,{KC:function(){return P},UU:function(){return A},L9:function(){return F},Fp:function(){return z}});var r,i,o,a,s=t(99500),l=t(95764),c=t(19065),u=t(59019),d=t(922),p=t(73701),h=t(3159),f=t(34056),m=t(89279),x=t(7838),g=t(61104),y=t(32030),v=t(34595),j=t(8412),w=t(42849),b=t(75453),k=t(325),S=t(52848),C=t(14156),N=t(12436),E=t(27719),_=t(76314),I=t(33902),Z=t(26306),T=t(32289),P=function(e){var n=e.pipeline,t=e.base,r=e.onSaveSession,i=e.onSelectPreset,o=e.onSelectPartition,a=e.partitionSets,s=e.repoAddress,l=n.isJob,c=n.presets,d=k.useMemo((function(){return[].concat((0,u.Z)(c),(0,u.Z)(a)).sort((function(e,n){return e.name.localeCompare(n.name)}))}),[c,a]);return(0,T.jsxs)(L,{children:[l||d.length<1?null:(0,T.jsx)(O,{label:t?"presetName"in t?"Preset: ".concat(t.presetName):"Partition Set: ".concat(t.partitionsSetName):c.length&&!a.length?"Preset":!c.length&&a.length?"Partition Set":"Preset / Partition Set",configGenerators:d,onSelect:function(e){"PartitionSet"===e.__typename?r({mode:e.mode,base:{partitionsSetName:e.name,partitionName:null,tags:t?t.tags:null}}):i(e)}}),t&&"partitionsSetName"in t?(0,T.jsx)(R,{pipeline:n,partitionSetName:t.partitionsSetName,value:t.partitionName,onSelect:o,repoAddress:s}):null]})},R=k.memo((function(e){var n=e.partitionSetName,t=e.value,r=e.onSelect,i=e.repoAddress,o=k.useContext(S.I).basePath,a=(0,Z.$)(i),s=(0,p.a)(M,{variables:{repositorySelector:a,partitionSetName:n},fetchPolicy:"network-only"}),d=s.data,h=s.loading,w="".concat("dagit.partition-sort-order","-").concat(o,"-").concat((0,I.l)(i),"-").concat(n),b=(0,_.U)(w,(function(e){return void 0===e?"asc":e})),E=(0,c.Z)(b,2),P=E[0],R=E[1],O=k.useMemo((function(){var e="PartitionSet"===(null===d||void 0===d?void 0:d.partitionSetOrError.__typename)&&"Partitions"===(null===d||void 0===d?void 0:d.partitionSetOrError.partitionsOrError.__typename)?d.partitionSetOrError.partitionsOrError.results:[];return"asc"===P?e:(0,u.Z)(e).reverse()}),[d,P]),L="PartitionSet"===(null===d||void 0===d?void 0:d.partitionSetOrError.__typename)&&"Partitions"!==(null===d||void 0===d?void 0:d.partitionSetOrError.partitionsOrError.__typename)?d.partitionSetOrError.partitionsOrError:null,A=O.find((function(e){return e.name===t})),F=k.useCallback((function(e){e.preventDefault(),R((function(e){return"asc"===e?"desc":"asc"}))}),[R]),z=O.length?(0,T.jsx)(D,{onMouseDown:F,children:(0,T.jsx)(m.JO,{name:"sort_by_alpha",color:x.w.Gray400})}):void 0,G={placeholder:"Partition",style:{width:180},intent:(h?t:A)?f.S.NONE:f.S.DANGER,rightElement:z};return h&&0===O.length?(0,T.jsx)(g.U5,{inputProps:(0,l.Z)((0,l.Z)({},G),{},{rightElement:t?void 0:(0,T.jsx)(y.x,{flex:{direction:"column",justifyContent:"center"},padding:{right:4},style:{height:"30px"},children:(0,T.jsx)(v.$,{purpose:"body-text"})})}),items:[],itemRenderer:function(){return null},noResults:(0,T.jsx)(j.sN,{disabled:!0,text:"Loading..."}),inputValueRenderer:function(e){return e},selectedItem:t,onItemSelect:function(){}},"loading"):(L&&(0,C._)({body:(0,T.jsx)(N.T9,{error:L})}),(0,T.jsx)(g.U5,{defaultSelectedItem:A,items:O,inputProps:G,inputValueRenderer:function(e){return e.name},itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemRenderer:function(e,n){return(0,T.jsx)(j.sN,{active:n.modifiers.active,onClick:n.handleClick,text:e.name},e.name)},noResults:(0,T.jsx)(j.sN,{disabled:!0,text:"No presets."}),onItemSelect:function(e){r(a,n,e.name)}},A?A.name:"none"))})),O=k.memo((function(e){var n=e.configGenerators,t=e.label,r=e.onSelect,i=k.useRef(null);return(0,T.jsx)("div",{children:(0,T.jsx)(E.b,{shortcutLabel:"\u2325E",shortcutFilter:function(e){return"KeyE"===e.code&&e.altKey},onShortcut:function(){var e;return null===(e=i.current)||void 0===e?void 0:e.click()},children:(0,T.jsx)(w.P,{items:n,itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemListRenderer:function(e){var n=e.itemsParentRef,t=e.renderItem,r=e.filteredItems,i=r.filter((function(e){return"PipelinePreset"===e.__typename})).map(t).filter(Boolean),o=r.filter((function(e){return"PartitionSet"===e.__typename})).map(t).filter(Boolean),a=i.length>0&&o.length>0;return(0,T.jsxs)(j.v2,{ulRef:n,children:[a&&(0,T.jsx)(j.sN,{disabled:!0,text:"Presets"}),i,a&&(0,T.jsx)(j.R,{}),a&&(0,T.jsx)(j.sN,{disabled:!0,text:"Partition Sets"}),o]})},itemRenderer:function(e,n){return(0,T.jsx)(j.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,T.jsxs)("div",{children:[e.name,(0,T.jsx)("div",{style:{opacity:.4,fontSize:"0.75rem"},children:[e.solidSelection?1===e.solidSelection.length?"Ops: ".concat(e.solidSelection[0]):"Ops: ".concat(e.solidSelection.length):"Ops: All","Mode: ".concat(e.mode)].join(" - ")})]})},e.name)},noResults:(0,T.jsx)(j.sN,{disabled:!0,text:"No presets."}),onItemSelect:r,children:(0,T.jsx)(b.zx,{ref:i,"data-test-id":"preset-selector-button",rightIcon:(0,T.jsx)(m.JO,{name:"expand_more"}),children:t})})})})})),D=d.ZP.button.withConfig({displayName:"ConfigEditorConfigPicker__SortButton",componentId:"sc-9oggai-0"})(["border:0;cursor:pointer;padding:4px;margin:3px 3px 0 0;background-color:",";border-radius:4px;transition:background-color 100ms;:hover,:focus{background-color:",";outline:none;","{background-color:",";}}"],x.w.White,x.w.Gray100,m.a1,x.w.Gray700),L=d.ZP.div.withConfig({displayName:"ConfigEditorConfigPicker__PickerContainer",componentId:"sc-9oggai-1"})(["display:flex;justify:space-between;align-items:center;gap:6px;"]),A=(0,h.Ps)(r||(r=(0,s.Z)(["\n  fragment ConfigEditorGeneratorPipelineFragment on Pipeline {\n    id\n    isJob\n    name\n    presets {\n      __typename\n      name\n      mode\n      solidSelection\n      runConfigYaml\n      tags {\n        key\n        value\n      }\n    }\n    tags {\n      key\n      value\n    }\n  }\n"]))),F=(0,h.Ps)(i||(i=(0,s.Z)(["\n  fragment ConfigEditorGeneratorPartitionSetsFragment on PartitionSets {\n    results {\n      id\n      name\n      mode\n      solidSelection\n    }\n  }\n"]))),M=(0,h.Ps)(o||(o=(0,s.Z)(["\n  query ConfigPartitionsQuery(\n    $repositorySelector: RepositorySelector!\n    $partitionSetName: String!\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      __typename\n      ... on PartitionSet {\n        id\n        partitionsOrError {\n          ... on Partitions {\n            results {\n              name\n            }\n          }\n          ...PythonErrorFragment\n        }\n      }\n    }\n  }\n  ","\n"])),N.Bq),z=(0,h.Ps)(a||(a=(0,s.Z)(["\n  query ConfigPartitionSelectionQuery(\n    $repositorySelector: RepositorySelector!\n    $partitionSetName: String!\n    $partitionName: String!\n  ) {\n    partitionSetOrError(\n      repositorySelector: $repositorySelector\n      partitionSetName: $partitionSetName\n    ) {\n      __typename\n      ... on PartitionSet {\n        id\n        partition(partitionName: $partitionName) {\n          name\n          solidSelection\n          runConfigOrError {\n            ... on PartitionRunConfig {\n              yaml\n            }\n            ...PythonErrorFragment\n          }\n          mode\n          tagsOrError {\n            ... on PartitionTags {\n              results {\n                key\n                value\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),N.Bq)},36523:function(e,n,t){t.d(n,{C:function(){return b},D:function(){return k}});var r,i=t(95764),o=t(85358),a=t(19065),s=t(922),l=t(95550),c=t.n(l),u=t(762),d=t(8412),p=t(11831),h=t(89279),f=t(34595),m=t(7838),x=t(75453),g=t(325),y=t(79540),v=t(27719),j=t(32289);function w(e){var n=e.runCount,t=e.disabled,i=g.useState(!1),s=(0,a.Z)(i,2),l=s[0],u=s[1],d=function(){var e=(0,o.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,n.onClick();case 3:u(!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p={},h=t?r.Disabled:r.Ready;return l&&(h=r.Starting,p={title:1===n?"Submitting run\u2026":"Submitting ".concat(n," runs\u2026"),disabled:!0,icon:"dagster-spinner"}),{forced:p,status:h,onConfigSelected:d}}!function(e){e.Ready="ready",e.Starting="starting",e.Disabled="disabled"}(r||(r={}));var b=function(e){var n=e.config,t=w({runCount:e.runCount,disabled:n.disabled}),o=t.forced,a=t.status,s=t.onConfigSelected,l=function(){a===r.Ready&&s(n)};return(0,j.jsx)(v.b,{onShortcut:l,shortcutLabel:"\u2325L",shortcutFilter:function(e){return"KeyL"===e.code&&e.altKey},children:(0,j.jsx)(S,(0,i.Z)((0,i.Z)((0,i.Z)({status:a},n),o),{},{onClick:l,disabled:"disabled"===a}))})},k=function(e){var n=e.title,t=e.primary,o=e.options,s=e.disabled,l=e.icon,c=e.tooltip,f=e.runCount,m=g.useState(!1),x=(0,a.Z)(m,2),y=x[0],b=x[1],k=o.every((function(e){return e.disabled})),N=w({runCount:f,disabled:s||k}),_=N.forced,I=N.status,Z=N.onConfigSelected,T=I===r.Disabled;return(0,j.jsxs)(v.b,{onShortcut:function(){return Z(t)},shortcutLabel:"\u2325L",shortcutFilter:function(e){return"KeyL"===e.code&&e.altKey},children:[(0,j.jsx)(S,(0,i.Z)({status:I,title:n,joined:"right",icon:l,tooltip:c,onClick:function(){return Z(t)},disabled:!!s},_)),(0,j.jsx)(u.J,{isOpen:y,onInteraction:function(e){return b(e)},disabled:T,position:"bottom-right",content:(0,j.jsx)(d.v2,{children:o.map((function(e,n){return(0,j.jsx)(p.u,{hoverOpenDelay:300,position:"left",openOnTargetFocus:!1,targetTagName:"div",content:e.tooltip||"",children:(0,j.jsx)(E,{text:e.title,disabled:e.disabled,onClick:function(){return Z(e)},icon:"dagster-spinner"!==e.icon?e.icon:void 0})},n)}))}),children:(0,j.jsx)(C,{role:"button",status:I,style:{minWidth:"initial"},icon:(0,j.jsx)(h.JO,{name:"arrow_drop_down"}),intent:"primary",joined:"left",disabled:T})})]})},S=function(e){var n=e.tooltip,t=e.icon,r=e.title,a=e.warning,s=e.status,l=e.style,u=e.onClick,d=e.joined,x=e.disabled,g=(0,y.p)(),v=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&!x){e.next=2;break}return e.abrupt("return");case 2:if(!a){e.next=11;break}return e.prev=3,e.next=6,g({title:"Are you sure?",description:a});case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return");case 11:u();case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return(0,j.jsx)(p.u,{position:"left",openOnTargetFocus:!1,targetTagName:"div",content:n||"",children:(0,j.jsx)(C,{role:"button",intent:"primary",style:(0,i.Z)({},l),status:s,onClick:v,joined:d,disabled:x,icon:"dagster-spinner"===t?(0,j.jsx)(f.$,{purpose:"body-text",fillColor:m.w.White}):"string"===typeof t?(0,j.jsx)(h.JO,{name:t,size:16,style:{textAlign:"center",marginRight:5}}):t,children:(0,j.jsx)(N,{children:r})})})},C=(0,s.ZP)(x.zx).withConfig({displayName:"LaunchButton__ButtonContainer",componentId:"sc-1ko1oa4-0"})(["border-top-","-radius:0;border-bottom-","-radius:0;border-left:",";cursor:",";margin-left:",";",""],(function(e){return e.joined}),(function(e){return e.joined}),(function(e){return"left"===e.joined?"1px solid rgba(255,255,255,0.2)":"transparent"}),(function(e){return"ready"!==e.status?"normal":"pointer"}),(function(e){return e.joined?"0":"6px"}),(function(e){return"right"===e.joined?"padding-right: 8px;":null})),N=s.ZP.div.withConfig({displayName:"LaunchButton__MaxwidthText",componentId:"sc-1ko1oa4-1"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:350px;"]),E=(0,s.ZP)(d.sN).withConfig({displayName:"LaunchButton__LaunchMenuItem",componentId:"sc-1ko1oa4-2"})(["max-width:200px;"])},35001:function(e,n,t){t.d(n,{w:function(){return x},c:function(){return g}});var r=t(85358),i=t(19065),o=t(95550),a=t.n(o),s=t(49148),l=t(325),c=t(27601),u=t(63579),d=t(1027),p=t(55752),h=t(36523),f=t(25429),m=t(32289);function x(){var e=(0,u.TE)().canLaunchPipelineExecution,n=(0,s.D)(p.a6),t=(0,i.Z)(n,1)[0],o=(0,d.Ci)(),h=(0,c.k6)();return l.useCallback(function(){var n=(0,r.Z)(a().mark((function n(r,i){var s,l,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s=r.executionParams.selector.jobName||r.executionParams.selector.pipelineName,e.enabled&&s){n.next=3;break}return n.abrupt("return");case 3:return l={jobName:s,opSelection:r.executionParams.selector.solidSelection?"provided":void 0},n.next=6,t({variables:r});case 6:c=n.sent,o(d.Iq.LAUNCH_RUN,l);try{(0,p.lF)(s,c,h,{behavior:i})}catch(a){(0,f.t)(a)}return n.abrupt("return",c.data);case 10:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[e,h,t,o])}var g=function(e){var n=x(),t=(0,u.TE)().canLaunchPipelineExecution,i=function(){var t=(0,r.Z)(a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(r=e.getVariables())){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n(r,e.behavior);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,m.jsx)(h.C,{runCount:1,config:{onClick:i,icon:e.icon||"open_in_new",title:e.title||"Launch Run",warning:e.warning||void 0,disabled:e.disabled||!t.enabled,tooltip:t.enabled?void 0:t.disabledReason}})}},65173:function(e,n,t){t.d(n,{e:function(){return _},$:function(){return I}});var r,i,o,a=t(99500),s=t(73701),l=t(3159),c=t(8358),u=t(325),d=t(27601),p=t(63579),h=t(12436),f=t(78093),m=t(96294),x=t(23196),g=t(76336),y=t(89493),v=t(44969),j=t(6364),w=t(95764),b=t(19065),k=t(88796),S=t(13881),C=t(32289),N=function(e){var n=e.launchpadType,t=e.pipeline,r=e.partitionSets,i=e.repoAddress,o=e.sessionPresets,a=(0,k.h5)(o),s=u.useState(a),l=(0,b.Z)(s,2),c=l[0],d=l[1];return(0,C.jsx)(S.Z,{launchpadType:n,session:c,onSave:function(e){var n=(0,w.Z)((0,w.Z)({},c),e);d(n)},pipeline:t,partitionSets:r,repoAddress:i})},E=u.lazy((function(){return t.e(566).then(t.bind(t,90566))})),_=function(e){var n=e.repoAddress,t=e.sessionPresets,r=e.assetJobName,i=e.open,o=e.setOpen;return(0,C.jsxs)(c.Vq,{style:{height:"90vh",width:"80%"},isOpen:i,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return o(!1)},children:[(0,C.jsx)(c.fK,{icon:"layers",label:"Launchpad (configure assets)"}),(0,C.jsx)(Z,{launchpadType:"asset",pipelinePath:r,repoAddress:n,sessionPresets:t})]})},I=function(e){var n=e.repoAddress,t=(0,d.UO)(),r=t.pipelinePath,i=t.repoPath;return(0,p.TE)().canLaunchPipelineExecution.enabled?(0,C.jsx)(Z,{launchpadType:"job",pipelinePath:r,repoAddress:n}):(0,C.jsx)(d.l_,{to:"/workspace/".concat(i,"/pipeline_or_job/").concat(r)})},Z=function(e){var n,t;(0,f.Px)();var r=e.pipelinePath,i=e.repoAddress,o=e.launchpadType,a=e.sessionPresets,l=(0,m.p3)(r),c=l.pipelineName,d=(0,g.Ux)(i),p=(0,g.E8)(d,c);(0,x.b)(l,p),(0,m.Bj)(e);var h=i.name,y=i.location,w=(0,s.a)(R,{variables:{repositoryName:h,repositoryLocationName:y,pipelineName:c},fetchPolicy:"cache-and-network",partialRefetch:!0}),b=null===w||void 0===w||null===(n=w.data)||void 0===n?void 0:n.pipelineOrError,k=null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.partitionSetsOrError;if(!b||!k)return(0,C.jsx)(j.m,{});if("PipelineNotFoundError"===k.__typename||"PipelineNotFoundError"===b.__typename){var S="PipelineNotFoundError"===b.__typename?b.message:"No data returned from GraphQL";return""!==c?(0,C.jsx)(v.U,{icon:"error",title:p?"Job not found":"Pipeline not found",description:S}):(0,C.jsx)(v.U,{icon:"no-results",title:p?"Select a job":"Select a pipeline",description:S})}if("InvalidSubsetError"===b.__typename)throw new Error("Should never happen because we do not request a subset");return"PythonError"===b.__typename?(0,C.jsx)(v.U,{icon:"error",title:"Python Error",description:b.message}):k&&"PythonError"===k.__typename?(0,C.jsx)(v.U,{icon:"error",title:"Python Error",description:k.message}):"asset"===o?(0,C.jsx)(N,{launchpadType:o,pipeline:b,partitionSets:k,repoAddress:i,sessionPresets:a||{}}):(0,C.jsx)(u.Suspense,{fallback:(0,C.jsx)("div",{}),children:(0,C.jsx)(E,{launchpadType:o,pipeline:b,partitionSets:k,repoAddress:i})})},T=(0,l.Ps)(r||(r=(0,a.Z)(["\n  fragment LaunchpadSessionPipelineFragment on Pipeline {\n    id\n    isJob\n    ...ConfigEditorGeneratorPipelineFragment\n    modes {\n      id\n      name\n      description\n    }\n  }\n  ","\n"])),y.UU),P=(0,l.Ps)(i||(i=(0,a.Z)(["\n  fragment LaunchpadSessionPartitionSetsFragment on PartitionSets {\n    ...ConfigEditorGeneratorPartitionSetsFragment\n  }\n  ","\n"])),y.L9),R=(0,l.Ps)(o||(o=(0,a.Z)(["\n  query LaunchpadRootQuery(\n    $pipelineName: String!\n    $repositoryName: String!\n    $repositoryLocationName: String!\n  ) {\n    pipelineOrError(\n      params: {\n        pipelineName: $pipelineName\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      ... on PipelineNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n      ... on Pipeline {\n        id\n        ...LaunchpadSessionPipelineFragment\n      }\n    }\n    partitionSetsOrError(\n      pipelineName: $pipelineName\n      repositorySelector: {\n        repositoryName: $repositoryName\n        repositoryLocationName: $repositoryLocationName\n      }\n    ) {\n      __typename\n      ...LaunchpadSessionPartitionSetsFragment\n      ... on PipelineNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),T,P,h.Bq)},13881:function(e,n,t){t.d(n,{Z:function(){return Nn}});var r=t(99500),i=t(85358),o=t(59019),a=t(47427),s=t(19065),l=t(95764),c=t(922),u=t(95550),d=t.n(u),p=t(31522),h=t(73701),f=t(3159),m=t(57994),x=t(98907),g=t(64428),y=t(28463),v=(t(39388),t(50680),t(25559),t(44186),t(99912),t(94407),t(39519),t(36341),t(33961),t(36852),t(81452),t(6968),t(43615)),j=t.n(v),w=t(325),b=t(6796),k=t(24818),S=t(13091),C=t.n(S),N="CodeMirror-lint-markers";function E(e){e.parentNode&&e.parentNode.removeChild(e)}function _(e,n,t){var r=function(e,n,t){var r=document.createElement("div"),i=t.getBoundingClientRect();return r.className="CodeMirror-lint-tooltip",r.appendChild(n.cloneNode(!0)),document.body.appendChild(r),i.top>r.clientHeight?(r.style.top=i.top-r.clientHeight-5+"px",r.style.left=i.left+5+"px"):(r.style.top=i.top+5+"px",r.style.left=i.right+10+"px"),null!=r.style.opacity&&(r.style.opacity=1),r}(0,n,t);function i(){var e;C().off(t,"mouseout",i),r&&((e=r).parentNode&&(null==e.style.opacity&&E(e),e.style.opacity=0,setTimeout((function(){E(e)}),600)),r=null)}var o=setInterval((function(){if(r)for(var e=t;;e=e.parentNode){if(e&&11===e.nodeType&&(e=e.host),e===document.body)return;if(!e){i();break}}if(!r)return clearInterval(o)}),400);C().on(t,"mouseout",i)}function I(e){var n=e.state.lint;n.hasGutter&&e.clearGutter(N);for(var t=0;t<n.marked.length;++t)n.marked[t].clear();n.marked.length=0}function Z(e,n,t,r){var i=document.createElement("div"),o=i;return i.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+n,t&&((o=i.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),!1!==r&&C().on(o,"mouseover",(function(n){_(0,e,o)})),i}function T(e){var n=e.severity;n||(n="error");var t=document.createElement("div");return t.className="CodeMirror-lint-message CodeMirror-lint-message-"+n,"undefined"!==typeof e.messageHTML?t.innerHTML=e.messageHTML:t.appendChild(document.createTextNode(e.message)),t}function P(e,n){I(e);for(var t,r,i=e.state.lint,o=i.options,a=function(e){for(var n=[],t=0;t<e.length;++t){var r=e[t],i=r.from.line;(n[i]||(n[i]=[])).push(r)}return n}(n),s=0;s<a.length;++s){var l=a[s];if(l){for(var c=null,u=i.hasGutter&&document.createDocumentFragment(),d=0;d<l.length;++d){var p=l[d],h=p.severity;h||(h="error"),r=h,c="error"===(t=c)?t:r,o.formatAnnotation&&(p=o.formatAnnotation(p)),i.hasGutter&&u.appendChild(T(p)),p.to&&i.marked.push(e.markText(p.from,p.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+h,__annotation:p}))}i.hasGutter&&e.setGutterMarker(s,N,Z(u,c,l.length>1,i.options.tooltips))}}o.onUpdateLinting&&o.onUpdateLinting(n,a,e)}function R(e){var n=e.state.lint.options,t=n.options||n,r=n.getAnnotations||e.getHelper(C().Pos(0,0),"lint");if(r)if(n.async||r.async)!function(e,n,t){var r=e.state.lint,i=++r.waitingFor;function o(){i=-1,e.off("change",o)}e.on("change",o),n(e.getValue(),(function(n,t){e.off("change",o),r.waitingFor===i&&(t&&n instanceof C()&&(n=t),e.operation((function(){P(e,n)})))}),t,e)}(e,r,t);else{var i=r(e.getValue(),t,e);if(!i)return;i.then?i.then((function(n){e.operation((function(){P(e,n)}))})):e.operation((function(){P(e,i)}))}}function O(e){var n=e.state.lint;n&&(clearTimeout(n.timeout),n.timeout=setTimeout((function(){R(e)}),n.options.delay||500))}function D(e,n){for(var t=(n.target||n.srcElement).getBoundingClientRect(),r=(t.left+t.right)/2,i=(t.top+t.bottom)/2,o=e.coordsChar({left:r,top:i},"client"),a=e.findMarksAt(o),s=e.getHelper(C().Pos(0,0),"dagster-docs")(e,o),l=[],c=0;c<a.length;++c){var u=a[c].__annotation;u&&l.push(u)}(s||l.length)&&function(e,n,t){var r=t.target||t.srcElement,i=document.createDocumentFragment();if(e){var o=document.createElement("div");o.textContent=e,i.appendChild(o),n.length&&(o.style.paddingBottom="4px",o.style.marginBottom="4px",o.style.borderBottom="1px solid rgba(0,0,0,0.25)")}for(var a=0;a<n.length;a++){var s=n[a];i.appendChild(T(s))}_(0,i,r)}(s,l,n)}function L(e,n,t){this.marked=[],this.options=n,this.timeout=null,this.hasGutter=t,this.onMouseOver=function(n){D(e,n)},this.waitingFor=0}var A;t(83535);!function(e){e.Dict="dict",e.List="list"}(A||(A={}));function F(e,n,t){return e=function(e,n){for(;e.length>0&&e[e.length-1].indent>=n;)e=e.slice(0,e.length-1);return e}(e,t),e=function(e,n){if(0===e.length)return[];var t=e[e.length-1];return[].concat((0,o.Z)(e.slice(0,e.length-1)),[{key:t.key,indent:t.indent,childKeys:[].concat((0,o.Z)(t.childKeys),[n])}])}(e,n),e=[].concat((0,o.Z)(e),[{key:n,indent:t,childKeys:[]}])}var M={KEYWORD:new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i"),DICT_COLON:/^:\s*/,DICT_KEY:/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^# ,]*?(?=\s*:)/,QUOTED_STRING:/^('([^']|\\.)*'?|"([^"\\]|\\.)*"?)/,BLOCKSTART_PIPE_OR_ARROW:/^\s*(\||\>)\s*/,NUMBER:/^\s*-?[0-9\.]+(?![0-9\.]+)$/,VARIABLE:/^\s*(\&|\*)[a-z0-9\._-]+$/i};function z(e,n,t){var r=(n=n.filter((function(e){var n=e.indent;return t>n})))[n.length-1];if(e){var i=e.allConfigTypes.find((function(n){return n.key===e.rootConfigType.key}));if(!i||"CompositeConfigType"!==i.__typename&&"MapConfigType"!==i.__typename)return null;var o="CompositeConfigType"===i.__typename?i.fields:[],s=i,l=!1,c="MapConfigType"===i.__typename?i.typeParamKeys[1]:null;if((o||"MapConfigType"===i.__typename)&&n.length>0){var u,d=(0,a.Z)(n);try{var p=function(){var n=u.value,t=o.find((function(e){var t=e.name;return n.key===t}));if(!t&&!c)return{v:null};var a=c||(null===t||void 0===t?void 0:t.configTypeKey);c=null;var d=e.allConfigTypes.find((function(e){return e.key===a}));if("NullableConfigType"===d.__typename){var p=d.typeParamKeys[0];d=e.allConfigTypes.find((function(e){return e.key===p}))}var h=d.key,f=!0;if((l="ArrayConfigType"===d.__typename)&&(h=d.typeParamKeys[0],f=!1),"MapConfigType"===d.__typename)return c=d.typeParamKeys[1],s=d,o=[],"continue";if(!(i=e.allConfigTypes.find((function(e){return e.key===h}))))return{v:null};if("ScalarUnionConfigType"===i.__typename){o=[];var m=i.nonScalarTypeKey,x=e.allConfigTypes.find((function(e){return e.key===m}));x&&"CompositeConfigType"===x.__typename&&(o=x.fields)}else"CompositeConfigType"===i.__typename?(s=i,o=i.fields,n===r&&f&&(o=o.filter((function(e){return-1===r.childKeys.indexOf(e.name)})))):o=[]};for(d.s();!(u=d.n()).done;){var h=p();if("continue"!==h&&"object"===typeof h)return h.v}}catch(f){d.e(f)}finally{d.f()}}return{type:i,closestMappingType:s,availableFields:o,inArray:l}}}function G(e){var n,t,r=e.options.hintOptions.schema,i=e.getCursor(),o=e.getTokenAt(i),a=e.getTokenAt({line:i.line,ch:o.start});return"whitespace"===o.type||o.string.startsWith(":")?(n="",t=o.end):(n=o.string,t=o.start),{start:t,cursor:i,searchString:n,token:o,prevToken:a,context:z(r,o.state.parents,t)}}function K(e,n,t){var r="RUNTIME_TYPE_MISMATCH"===e.reason?"value":"key",i=U(n,e.path,r);return null===i?null:{message:e.message,severity:"error",type:"syntax",from:t.posFromIndex(i?i.start:0),to:t.posFromIndex(i?i.end:Number.MAX_SAFE_INTEGER)}}function U(e,n,t){var r=function(e,n){for(var t=e.contents,r=function(e){var r=n[e];if(t&&t.type&&"PAIR"===t.type&&(t=t.value),t&&t.type&&("SEQ"===t.type||"FLOW_SEQ"===t.type)){var i=Number.parseInt(r);if(Number.isNaN(i))return{v:null};t=t.items[i]}else{if(!t||!t.type||"FLOW_MAP"!==t.type&&"MAP"!==t.type)return{v:null};var o=t.items.find((function(e){return e.key.value===r}));if(!o||!o.type||"PAIR"!==o.type)return{v:null};t=o}},i=0;i<n.length;i++){var o=r(i);if("object"===typeof o)return o.v}return t}(e,n);return r&&"type"in r?("PAIR"===r.type&&(r="value"===t&&r.value?r.value:r.key),r&&r.range?{start:r.range[0],end:r.range[1]}:null):null}S.defineMode("yaml",(function(){return{lineComment:"#",flattenSpans:!1,fold:"indent",startState:function(){return{trailingSpace:!1,escaped:!1,inValue:!1,inBlockLiteral:!1,inBlockLiteralIndentation:0,inlineContainers:[],parents:[]}},token:function(e,n){var t=e.peek(),r=e.column(),i=n.escaped,a=n.trailingSpace;if(n.escaped=!1,n.trailingSpace=!1,r%2===0&&" "===t&&e.match(/  /))return n.trailingSpace=!0,"indent ".concat(function(e){switch(e%14){case 0:return"zero";case 2:return"one";case 4:return"two";case 6:return"three";case 8:return"four";case 10:return"five";case 12:return"six";default:return""}}(r));if(e.eatSpace()&&(n.trailingSpace=!0),"\\"===t)return n.escaped=!0,e.next(),null;if("#"===t&&(e.sol()||a))return e.skipToEnd(),"comment";if(n.inBlockLiteral){if(e.indentation()>n.inBlockLiteralIndentation)return e.skipToEnd(),"string";n.inBlockLiteralIndentation=0,n.inBlockLiteral=!1}if(e.match(/-/))return n.inValue=!0,"meta";if(e.sol()&&(n.inValue=!1,n.parents=[],e.match(/---/)||e.match(/\.\.\./)))return"def";if(e.match(/^(\{|\}|\[|\])/))return"{"===t?(n.inlineContainers=[].concat((0,o.Z)(n.inlineContainers),[A.Dict]),n.inValue=!1):"}"===t?(n.inlineContainers=n.inlineContainers.slice(0,n.inlineContainers.length-1),n.parents=n.parents.slice(0,n.parents.length-1),n.inValue=n.inlineContainers.length>0):"["===t?(n.inlineContainers=[].concat((0,o.Z)(n.inlineContainers),[A.List]),n.inValue=!0):"]"===t&&(n.inlineContainers=n.inlineContainers.slice(0,n.inlineContainers.length-1),n.inValue=n.inlineContainers.length>0),n.trailingSpace=!1,"meta";if(n.inlineContainers&&!i&&","===t)return n.inlineContainers[n.inlineContainers.length-1]===A.Dict&&(n.parents=n.parents.slice(0,n.parents.length-1),n.inValue=!1),e.next(),"meta";if(e.match(M.DICT_COLON))return n.inValue=!e.eol(),"meta";if(!n.inValue){var s=e.match(M.DICT_KEY);if(s){var l=s[0],c=e.pos-l.length;return n.parents=F(n.parents,l,c),"atom"}}if(n.inValue){var u=null,d=!e.string.match(/[^\s]:[^\s]/)&&e.match(M.DICT_KEY);if(d){var p=d[0],h=e.pos-p.length;n.inValue=!1,n.parents=F(n.parents,p,h),u="atom"}if(e.match(M.BLOCKSTART_PIPE_OR_ARROW)&&(n.inBlockLiteralIndentation=e.indentation(),n.inBlockLiteral=!0,u="meta"),!u){var f=e.match(M.QUOTED_STRING);if(!f){var m=n.inlineContainers[n.inlineContainers.length-1];f=m===A.List?e.match(/^[^,\]]+/):m===A.Dict?e.match(/^[^,\}]+/):e.match(/^.+$/)}var x=f?f[0]:"";u=x.match(M.VARIABLE)?"variable-2":x.match(M.NUMBER)?"number":x.match(M.KEYWORD)?"keyword":"string"}return e.eol()&&!n.inBlockLiteral&&(n.inValue=!1),u}return e.skipToEnd(),null}}})),S.registerHelper("hint","yaml",(function(e,n){var t=G(e),r=t.cursor,i=t.context,a=t.token,s=t.start,l=t.searchString,c=t.prevToken,u={line:r.line,ch:s},d={line:r.line,ch:a.end};if(!n.schema)return{list:[],from:u,to:d};if(!i)return{list:[],from:u,to:d};var p=function(e,t,r,i,o){var a="".concat(e.name),s=t,l=" "===i.string||"-"===i.string;if(o&&!l&&(a="- ".concat(a),s+=2),r.string.startsWith(":")){var c=i.start+2;a="\n".concat(" ".repeat(c)).concat(a),s=c}var u=function(e){if(!n.schema)return!1;var t=n.schema.allConfigTypes.find((function(n){return n.key===e}));if(!t)return!1;if("NullableConfigType"===t.__typename){var r=t.typeParamKeys[0];if(!(t=n.schema.allConfigTypes.find((function(e){return e.key===r}))))return!1}return"ArrayConfigType"===t.__typename||"CompositeConfigType"===t.__typename||"MapConfigType"===t.__typename}(e.configTypeKey);return a+=u?":\n".concat(" ".repeat(s+2)):": "},h=function(e,n,t){return{text:n,render:function(n){var r=document.createElement("div");if(r.textContent=e,t){var i=document.createElement("div");i.innerText=t.length<90?t:t.substr(0,87)+"...",i.style.opacity="0.5",i.style.overflow="hidden",i.style.maxHeight="33px",i.style.maxWidth="360px",i.style.whiteSpace="normal",r.appendChild(i)}n.appendChild(r)},from:u,to:d}},f="ScalarUnionConfigType"===i.type.__typename&&!c.end;if(i.availableFields.length&&("CompositeConfigType"===i.type.__typename||f))return{list:i.availableFields.filter((function(e){return e.name.startsWith(l)})).map((function(e){return h(e.name,p(e,s,a,c,i.inArray),e.description)})),from:u,to:d};if("EnumConfigType"===i.type.__typename){var m=l.startsWith('"')?l.substr(1):l;return{list:i.type.values.filter((function(e){return e.value.startsWith(m)})).map((function(e){return h(e.value,'"'.concat(e.value,'"'),null)})),from:u,to:d}}if("RegularConfigType"===i.type.__typename&&"Bool"===i.type.givenName)return{list:["True","False"].filter((function(e){return e.startsWith(l)})).map((function(e){return h(e,e,null)})),from:u,to:d};var x=i.type;if("ScalarUnionConfigType"===x.__typename){var g=n.schema.allConfigTypes.find((function(e){return e.key===x.scalarTypeKey})),y=n.schema.allConfigTypes.find((function(e){return e.key===x.nonScalarTypeKey})),v=[];g&&"RegularConfigType"===g.__typename&&"Bool"===g.givenName&&(v=["True","False"].filter((function(e){return e.startsWith(l)})).map((function(e){return h(e,e,null)})));var j=[];return y&&"CompositeConfigType"===y.__typename&&(j=y.fields.filter((function(e){return e.name.startsWith(l)})).map((function(e){return h(e.name,p(e,s,a,c,!1),e.description)}))),{list:[].concat((0,o.Z)(v),(0,o.Z)(j)),from:u,to:d}}return{list:[],from:u,to:d}})),S.registerHelper("dagster-docs","yaml",(function(e,n){var t=e.getTokenAt(n),r=e.options.hintOptions.schema;if("atom"!==t.type)return null;var i=z(r,t.state.parents,t.start),o=i&&"CompositeConfigType"===i.type.__typename&&i.type.fields.find((function(e){return e.name===t.string}));return o&&o.description?o.description:null})),S.registerHelper("lint","yaml",function(){var e=(0,i.Z)(d().mark((function e(n,t,r){var i,o,a,l,c,u,p,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.checkConfig,o=r.getDoc(),a=b.wL(n),l=[],c=a.errors.length>10,a.errors.slice(0,10).forEach((function(e){var n=(0,s.Z)(e.pos,2),t=n[0],r=n[1],i=o.posFromIndex(t),a=o.posFromIndex(r);(!u||u.line<i.line)&&(u=i),l.push({message:e.message,severity:"error",type:"syntax",from:i,to:a})})),c&&u&&(p={line:u.line+1,ch:0},l.push({message:"".concat(a.errors.length-l.length," more errors - bailed out."),severity:"warning",type:"syntax",from:p,to:p})),0!==a.errors.length){e.next=12;break}return e.next=10,i(n);case 10:(h=e.sent).isValid||h.errors.forEach((function(e){var n=K(e,a,o);n&&l.push(n)}));case 12:return e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}());var B,$=t(32289);C().defineOption("lint",!1,(function(e,n,t){if(t&&t!==C().Init&&(I(e),!1!==e.state.lint.options.lintOnChange&&e.off("change",O),C().off(e.getWrapperElement(),"mouseover",e.state.lint.onMouseOver),clearTimeout(e.state.lint.timeout),delete e.state.lint),n){for(var r=e.getOption("gutters"),i=!1,o=0;o<r.length;++o)r[o]===N&&(i=!0);var a=e.state.lint=new L(e,(s=n)instanceof Function?{getAnnotations:s}:(s&&!0!==s||(s={}),s),i);!1!==a.options.lintOnChange&&e.on("change",O),!1!==a.options.tooltips&&"gutter"!==a.options.tooltips&&C().on(e.getWrapperElement(),"mouseover",a.onMouseOver)}var s})),C().defineExtension("performLint",(function(){this.state.lint&&R(this)}));var V,q,H=/^[a-zA-Z0-9_@(]$/,W=j()((function(e){e.performLint()}),1e3),J=(0,c.vJ)(B||(B=(0,r.Z)(["\n  .react-codemirror2 .CodeMirror.cm-s-config-editor {\n    height: initial;\n    position: absolute;\n    inset: 0;\n  }\n"]))),Y=function(e){(0,g.Z)(t,e);var n=(0,y.Z)(t);function t(){var e;(0,m.Z)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i)))._editor=void 0,e.moveCursor=function(n,t){var r;if(e._editor){e._editor.setCursor(n,t,{scroll:!1});var i=e._editor.getScrollInfo().clientHeight,o=e._editor.cursorCoords(!0,"local"),a=o.left,s=o.top;null===(r=e._editor)||void 0===r||r.scrollIntoView({left:a,right:a,top:s-20,bottom:s+(i-20)}),e._editor.focus()}},e.moveCursorToPath=function(n){if(e._editor){var t=e._editor.getDoc(),r=U(b.wL(e.props.configCode),n,"key");if(r){var i=t.posFromIndex(r?r.start:0);e.moveCursor(i.line,i.ch)}}},e}return(0,x.Z)(t,[{key:"componentDidUpdate",value:function(e){this._editor&&e.configSchema!==this.props.configSchema&&this.performInitialPass()}},{key:"shouldComponentUpdate",value:function(e){return e.configCode!==this.props.configCode||e.readOnly!==this.props.readOnly||e.configSchema!==this.props.configSchema}},{key:"performInitialPass",value:function(){W(this._editor);var e=G(this._editor).context;this.props.onHelpContextChange(e?{type:e.closestMappingType}:null)}},{key:"render",value:function(){var e=this;return(0,$.jsxs)("div",{style:{flex:1,position:"relative"},children:[(0,$.jsx)(J,{}),(0,$.jsx)(k.X9,{value:this.props.configCode,theme:["config-editor"],options:{mode:"yaml",lineNumbers:!0,readOnly:this.props.readOnly,indentUnit:2,smartIndent:!0,showCursorWhenSelecting:!0,lintOnChange:!1,lint:{checkConfig:this.props.checkConfig,lintOnChange:!1,onUpdateLinting:!1},hintOptions:{completeSingle:!1,closeOnUnfocus:!1,schema:this.props.configSchema},keyMap:"sublime",extraKeys:{"Cmd-Space":function(e){return e.showHint({completeSingle:!0})},"Ctrl-Space":function(e){return e.showHint({completeSingle:!0})},"Alt-Space":function(e){return e.showHint({completeSingle:!0})},"Shift-Tab":function(e){return e.execCommand("indentLess")},Tab:function(e){return e.execCommand("indentMore")},"Cmd-F":"findPersistent","Ctrl-F":"findPersistent"},gutters:["CodeMirror-foldgutter","CodeMirror-lint-markers","CodeMirror-linenumbers"],foldGutter:!0},editorDidMount:function(n){e._editor=n,e.performInitialPass()},onBeforeChange:function(n,t,r){e.props.onConfigChange(r)},onCursorActivity:function(n){if(n.getSelection().length)e.props.onHelpContextChange(null);else{var t=G(n).context;e.props.onHelpContextChange(t?{type:t.closestMappingType}:null)}},onChange:function(e){W(e)},onBlur:function(e){W(e)},onKeyUp:function(e,n){H.test(n.key)&&e.execCommand("autocomplete")}})]})}}]),t}(w.Component),Q=function(e,n){return(e&&e.type.key)===(n&&n.type.key)},X=t(7838),ee=t(71725),ne=w.memo((function(e){var n=e.context,t=e.allInnerTypes;return n?(0,$.jsxs)(ie,{children:[(0,$.jsx)(re,{children:(0,$.jsx)(ee.L,{type:n.type,typesInScope:t,maxDepth:2})}),(0,$.jsx)(te,{children:"Use Ctrl+Space to show auto-completions inline."})]}):(0,$.jsx)(ie,{})}),(function(e,n){return Q(e.context,n.context)})),te=c.ZP.div.withConfig({displayName:"ConfigEditorHelp__AutocompletionsNote",componentId:"sc-1pjkbac-0"})(["font-size:0.75rem;text-align:center;padding:4px;border-top:1px solid ",";background:",";color:",";"],X.w.KeylineGray,X.w.Gray100,X.w.Gray500),re=c.ZP.div.withConfig({displayName:"ConfigEditorHelp__ConfigScrollWrap",componentId:"sc-1pjkbac-1"})(["padding:8px;color:",";flex:1;pointer-events:initial;max-height:100%;overflow-y:auto;"],X.w.Dark),ie=c.ZP.div.withConfig({displayName:"ConfigEditorHelp__Container",componentId:"sc-1pjkbac-2"})(["position:relative;display:flex;flex-direction:column;background-color:",";height:100%;"],X.w.Gray50),oe=t(32030),ae=t(17912),se=t(88863),le=t(75453),ce=t(89279),ue=t(6466),de=t(3810),pe=t.n(de),he=t(54972),fe=t.n(he),me=t(14156),xe=t(12436),ge=t(27719),ye=t(39061),ve=(0,f.Ps)(V||(V=(0,r.Z)(["\n  fragment ConfigEditorRunConfigSchemaFragment on RunConfigSchema {\n    rootConfigType {\n      key\n    }\n    allConfigTypes {\n      __typename\n      key\n      description\n      isSelector\n      typeParamKeys\n      ... on RegularConfigType {\n        givenName\n      }\n      ... on MapConfigType {\n        keyLabelName\n      }\n      ... on EnumConfigType {\n        givenName\n        values {\n          value\n          description\n        }\n      }\n      ... on CompositeConfigType {\n        fields {\n          name\n          description\n          isRequired\n          configTypeKey\n          defaultValueAsJson\n        }\n      }\n      ... on ScalarUnionConfigType {\n        key\n        scalarTypeKey\n        nonScalarTypeKey\n      }\n    }\n  }\n"]))),je=(0,f.Ps)(q||(q=(0,r.Z)(["\n  fragment ConfigEditorValidationFragment on PipelineConfigValidationResult {\n    __typename\n    ... on RunConfigValidationInvalid {\n      errors {\n        __typename\n        reason\n        message\n        stack {\n          entries {\n            __typename\n            ... on EvaluationStackPathEntry {\n              fieldName\n            }\n            ... on EvaluationStackListItemEntry {\n              listIndex\n            }\n            ... on EvaluationStackMapKeyEntry {\n              mapKey\n            }\n            ... on EvaluationStackMapValueEntry {\n              mapKey\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function we(e){return e.map((function(e){switch(e.__typename){case"EvaluationStackPathEntry":return e.fieldName;case"EvaluationStackListItemEntry":return"".concat(e.listIndex);case"EvaluationStackMapKeyEntry":case"EvaluationStackMapValueEntry":return"".concat(e.mapKey)}}))}function be(e,n){if("RunConfigValidationInvalid"!==n.__typename)return{isValid:!0};var t=n.errors.map((function(e){return{message:e.message,reason:e.reason,path:we(e.stack.entries)}})),r=b.ZP.parse(e),i=Object.keys(r);return t.forEach((function(e){0===e.path.length&&i.length&&(e.path=[i[0]])})),{isValid:!1,errors:t}}var ke,Se,Ce=t(28064),Ne=t(26306),Ee=t(89493),_e=t(42849),Ie=t(8412),Ze=function(e){var n=e.modeName?e.modes.find((function(n){return n.name===e.modeName})):e.modes[0];w.useEffect((function(){var t;n&&n.name!==e.modeName&&(null===(t=e.onModeChange)||void 0===t||t.call(e,n.name))}),[n,e.modeName]);var t=1===e.modes.length,r=!e.modeError,i=t&&r;return(0,$.jsx)(_e.P,{activeItem:n,filterable:!0,disabled:i,items:e.modes,itemPredicate:function(e,n){return 0===e.length||n.name.includes(e)},itemRenderer:function(e,n){return(0,$.jsx)(Ie.sN,{active:n.modifiers.active,text:e.name,onClick:n.handleClick},e.name)},onItemSelect:function(n){var t;null===(t=e.onModeChange)||void 0===t||t.call(e,n.name)},children:(0,$.jsx)(le.zx,{icon:r?void 0:(0,$.jsx)(ce.JO,{name:"error"}),intent:r?"none":"danger",title:i?"To add a mode, add a ModeDefinition to the pipeline.":"Current execution mode",disabled:i,rightIcon:(0,$.jsx)(ce.JO,{name:"expand_more"}),"data-test-id":"mode-picker-button",children:r?n?"Mode: ".concat(n.name):"Select Mode":"Invalid Mode Selection"})})},Te=t(35001),Pe=t(33214),Re=t(762),Oe=t(25496),De=t(27218),Le=t(2112),Ae=t(65164),Fe=t(76336),Me=(0,f.Ps)(ke||(ke=(0,r.Z)(["\n  query OpSelectorQuery($selector: PipelineSelector!, $requestScopeHandleID: String) {\n    pipelineOrError(params: $selector) {\n      __typename\n      ... on Pipeline {\n        id\n        name\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on InvalidSubsetError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),Le.Q,xe.Bq),ze=function(e){var n=e.serverProvidedSubsetError,t=e.onChange,r=e.pipelineName,i=e.repoAddress,o=e.onFlattenGraphsChange,a=w.useState(!1),c=(0,s.Z)(a,2),u=c[0],d=c[1],p=w.useRef(null),f=e.flattenGraphs||!1,m=(0,l.Z)((0,l.Z)({},(0,Ne.$)(i)),{},{pipelineName:r}),x=(0,Fe.Ux)(i),g=(0,Fe.E8)(x,r),y=(0,h.a)(Me,{variables:{selector:m,requestScopeHandleID:f?void 0:""},fetchPolicy:"cache-and-network"}),v=y.data,j=y.loading,b=e.query||"*",k=("Pipeline"===(null===v||void 0===v?void 0:v.pipelineOrError.__typename)?f?(0,De.i)(v.pipelineOrError.solidHandles):v.pipelineOrError.solidHandles:[]).map((function(e){return e.solid})),S=f||k.some((function(e){return"CompositeSolidDefinition"===e.definition.__typename})),C="Pipeline"!==(null===v||void 0===v?void 0:v.pipelineOrError.__typename)&&(null===v||void 0===v?void 0:v.pipelineOrError.message)||null,N=(0,Oe.V)(k,b).all,E=!j&&0===N.length?g?"You must provide a valid op query or * to execute the entire job.":"You must provide a valid solid query or * to execute the entire pipeline.":n?n.message:C;return null!==v&&void 0!==v&&v.pipelineOrError?(0,$.jsx)(oe.x,{flex:{direction:"row",alignItems:"center",gap:8},children:(0,$.jsx)(Re.J,{isOpen:u&&!!E,position:"bottom-left",content:(0,$.jsx)(Ge,{children:E}),children:(0,$.jsx)(ge.b,{shortcutLabel:"\u2325S",shortcutFilter:function(e){return"KeyS"===e.code&&e.altKey},onShortcut:function(){var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},children:(0,$.jsx)(Ae.j,{width:"*"!==b&&""!==b||u||S?350:90,intent:E?"danger":"none",items:k,ref:p,value:b,placeholder:"Type an op subset\u2026",onChange:function(e){""===e&&(e="*");var n=(0,Oe.V)(k,e).all;n.length===k.length?t(null,e):t(n.map((function(e){return e.name})),e)},onFocus:function(){return d(!0)},onBlur:function(){return d(!1)},linkToPreview:{repoName:i.name,repoLocation:i.location,pipelineName:r,isJob:g},flattenGraphsEnabled:S,flattenGraphs:f,setFlattenGraphs:function(){o(!f)}})})})}):null},Ge=c.ZP.div.withConfig({displayName:"OpSelector__PopoverErrorWrap",componentId:"sc-6j6o1g-0"})(["padding:4px 8px;border-radius:2px;border:1px solid ",";background:",";color:",";"],X.w.Red500,X.w.Red200,X.w.Red700),Ke=t(16540),Ue=t(81034),Be=t(12745),$e=t(60652),Ve=t(11831),qe=t(54268),He=t(50346),We=t(8546),Je=t(79540),Ye=["resources","ops","solids"];function Qe(e){return!(!e||"object"!==typeof e||!("__typename"in e))}var Xe={invalid:{title:"You need to fix this configuration section.",intent:"danger"},missing:{title:"You need to add this configuration section.",intent:"danger"},present:{title:"This section is present and valid.",intent:"none"},none:{title:"This section is empty and valid.",intent:"none"}},en=function(e){var n,t=e.onRemoveExtraPaths,r=e.extraNodes,o=e.disabled,l=(0,Je.p)(),c={},u=[],p=(0,a.Z)(r);try{for(p.s();!(n=p.n()).done;){var h=n.value,f=h.split(".");if(2===f.length){var m=(0,s.Z)(f,2),x=m[0],g=m[1];c[x]||(c[x]=[]),c[x].push(g)}else u.push(h)}}catch(v){p.e(v)}finally{p.f()}var y=function(){var e=(0,i.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({title:"Remove extra config",description:(0,$.jsxs)("div",{children:[(0,$.jsx)("p",{children:"You have provided extra configuration in your run config which does not conform to your\n            pipeline's config schema."}),Object.entries(c).length>0&&Object.entries(c).map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("p",{children:["Extra ",t,":"]}),(0,$.jsx)("ul",{children:r.map((function(e){return(0,$.jsx)("li",{children:(0,$.jsx)(Be.EK,{children:e})},e)}))})]})})),u.length>0&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("p",{children:"Other extra paths:"}),(0,$.jsx)("ul",{children:u.map((function(e){return(0,$.jsx)("li",{children:(0,$.jsx)(Be.EK,{children:e})},e)}))})]}),(0,$.jsx)("p",{children:"Clicking confirm will automatically remove this extra configuration from your run config."})]})});case 2:t(r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$.jsxs)(oe.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,$.jsx)(le.zx,{disabled:o,onClick:y,children:"Remove extra config"}),o?(0,$.jsxs)(oe.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,$.jsx)(ce.JO,{name:"check_circle",color:X.w.Green500}),"No extra config to remove"]}):null]})},nn=function(e){var n=e.onScaffoldMissingConfig,t=e.missingNodes,r=e.disabled,o=(0,Je.p)(),a=(0,$.jsxs)("div",{children:[t.length>0&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("p",{children:"Missing paths:"}),(0,$.jsx)("ul",{children:t.map((function(e){return(0,$.jsx)("li",{children:(0,$.jsx)(Be.EK,{children:e})},e)}))})]}),(0,$.jsx)("p",{children:"Clicking confirm will automatically scaffold this missing configuration into your run config with default values. You will need to change the values appropriately."})]}),s=function(){var e=(0,i.Z)(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({title:"Scaffold missing config",description:a});case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$.jsxs)(oe.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,$.jsx)(le.zx,{disabled:r,onClick:s,children:"Scaffold missing config"}),r?(0,$.jsxs)(oe.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,$.jsx)(ce.JO,{name:"check_circle",color:X.w.Green500}),"No missing config"]}):null]})},tn=function(e){var n=e.document,t=e.validation,r=e.onHighlightPath,i=e.launchpadType,l=e.onRemoveExtraPaths,c=e.onScaffoldMissingConfig,u=e.solidSelection,d=e.runConfigSchema,p=w.useState(!1),h=(0,s.Z)(p,2),f=h[0],m=h[1],x=w.useMemo((function(){if(!d)return{};var e=d.allConfigTypes,n=d.rootConfigType,t={},r=e.find((function(e){return e.key===n.key}));return"CompositeConfigType"!==(null===r||void 0===r?void 0:r.__typename)||r.fields.forEach((function(n){var r=e.find((function(e){return e.key===n.configTypeKey}));"CompositeConfigType"===(null===r||void 0===r?void 0:r.__typename)&&(t[n.name]=r)})),t}),[d]),g=[],y=[],v=[];if(t&&"RunConfigValidationInvalid"===t.__typename&&t.errors.forEach((function(e){var n=we(e.stack.entries);if(v.push({pathKey:n.join("."),error:e}),"MissingFieldConfigError"===e.__typename)y.push([].concat((0,o.Z)(n),[e.field.name]).join("."));else if("MissingFieldsConfigError"===e.__typename){var t,r=(0,a.Z)(e.fields);try{for(r.s();!(t=r.n()).done;){var i=t.value;y.push([].concat((0,o.Z)(n),[i.name]).join("."))}}catch(u){r.e(u)}finally{r.f()}}else if("FieldNotDefinedConfigError"===e.__typename)g.push([].concat((0,o.Z)(n),[e.fieldName]).join("."));else if("FieldsNotDefinedConfigError"===e.__typename){var s,l=(0,a.Z)(e.fieldNames);try{for(l.s();!(s=l.n()).done;){var c=s.value;g.push([].concat((0,o.Z)(n),[c]).join("."))}}catch(u){l.e(u)}finally{l.f()}}else"RuntimeMismatchConfigError"===e.__typename&&y.push(n.join("."))})),"InvalidSubsetError"===(null===t||void 0===t?void 0:t.__typename)&&v.push({pathKey:"",error:t.message}),"PythonError"===(null===t||void 0===t?void 0:t.__typename)){var j=(0,$.jsx)(xe.T9,{error:t});v.push({pathKey:"",error:(0,$.jsxs)("span",{children:["PythonError:"," ",(0,$.jsx)($e.Z,{onClick:function(){return(0,me._)({body:j})},children:"Click for details"})]})})}var b=x.resources,k=x.ops,S=x.solids,C=(0,Ue.Z)(x,Ye),N=!(null===k||void 0===k||!k.fields),E=function(e,t){var i=t.map((function(t){if(null!==u&&void 0!==u&&u.length&&(null===u||void 0===u||!u.includes(t.name)))return null;var i=[].concat((0,o.Z)(e),[t.name]),a=i.join("."),s=v.filter((function(e){return e.pathKey===a||e.pathKey.startsWith("".concat(a,"."))})).map((function(e){return e.error})),l=hn(i,n),c=y.some((function(e){return e.includes(i.join("."))})),d=s.length||c,p=i.some((function(e,n){return y.includes(i.slice(0,n+1).join("."))}));if(f&&!d)return!1;var h=p&&t.isRequired?"missing":d?"invalid":l?"present":"none";return(0,$.jsx)(Ve.u,{position:"bottom",content:Xe[h].title,intent:Xe[h].intent,children:(0,$.jsx)(qe.V,{intent:Xe[h].intent,onClick:function(){var e=s.find(Qe);r(e?we(e.stack.entries):i)},children:t.name},t.name)},t.name)})).filter(Boolean);return i.length?i:(0,$.jsx)(ln,{children:"Nothing to display."})};return(0,$.jsx)(ae.OS,{identifier:"run-preview",axis:"horizontal",first:(0,$.jsxs)(cn,{children:[(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"Errors"}),v.length?v.map((function(e,n){return(0,$.jsx)(pn,{error:e.error,onHighlight:r},n)})):(0,$.jsxs)(oe.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,$.jsx)(ce.JO,{name:"check_circle",color:X.w.Green500}),"No errors"]})]}),(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"Config actions:"}),(0,$.jsxs)(oe.x,{flex:{direction:"column",gap:8},padding:{top:4,bottom:20},children:[(0,$.jsx)(nn,{onScaffoldMissingConfig:c,missingNodes:y,disabled:!y.length}),(0,$.jsx)(en,{onRemoveExtraPaths:l,extraNodes:g,disabled:!g.length})]})]})]}),firstInitialPercent:50,firstMinSize:150,second:(0,$.jsxs)($.Fragment,{children:[(0,$.jsxs)("div",{style:{overflowY:"scroll",width:"100%",height:"100%"},children:[(0,$.jsxs)(dn,{children:[(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"Runtime"}),(0,$.jsx)(sn,{children:E([],Object.keys(C).map((function(e){return{name:e,isRequired:!1}})))})]}),((null===b||void 0===b?void 0:b.fields.length)||0)>0&&(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"Resources"}),(0,$.jsx)(sn,{children:E(["resources"],(null===b||void 0===b?void 0:b.fields)||[])})]})]}),(0,$.jsxs)(an,{children:[(0,$.jsx)(on,{children:"asset"===i?"Assets (Ops)":"Ops"}),(0,$.jsx)(sn,{children:E([N?"ops":"solids"],(N?null===k||void 0===k?void 0:k.fields:null===S||void 0===S?void 0:S.fields)||[])})]}),(0,$.jsx)("div",{style:{height:50}})]}),(0,$.jsx)("div",{style:{position:"absolute",top:0,right:0,padding:"12px 15px 0px 10px",background:"rgba(255,255,255,0.7)"},children:(0,$.jsx)(He.X,{label:"Errors Only",checked:f,onChange:function(){return m(!f)}})})]})})},rn=(0,f.Ps)(Se||(Se=(0,r.Z)(["\n  fragment RunPreviewValidationFragment on PipelineConfigValidationResult {\n    __typename\n    ... on RunConfigValidationInvalid {\n      errors {\n        __typename\n        reason\n        message\n        stack {\n          entries {\n            __typename\n            ... on EvaluationStackPathEntry {\n              fieldName\n            }\n            ... on EvaluationStackListItemEntry {\n              listIndex\n            }\n            ... on EvaluationStackMapKeyEntry {\n              mapKey\n            }\n            ... on EvaluationStackMapValueEntry {\n              mapKey\n            }\n          }\n        }\n        ... on MissingFieldConfigError {\n          field {\n            name\n          }\n        }\n        ... on MissingFieldsConfigError {\n          fields {\n            name\n          }\n        }\n        ... on FieldNotDefinedConfigError {\n          fieldName\n        }\n        ... on FieldsNotDefinedConfigError {\n          fieldNames\n        }\n      }\n    }\n    ... on PipelineNotFoundError {\n      message\n    }\n    ... on InvalidSubsetError {\n      message\n    }\n    ...PythonErrorFragment\n  }\n\n  ","\n"])),xe.Bq),on=c.ZP.div.withConfig({displayName:"RunPreview__SectionTitle",componentId:"sc-1d5bfcs-0"})(["color:",";text-transform:uppercase;font-size:12px;margin-bottom:8px;"],X.w.Gray400),an=c.ZP.div.withConfig({displayName:"RunPreview__Section",componentId:"sc-1d5bfcs-1"})(["margin-top:14px;margin-left:10px;"]),sn=c.ZP.div.withConfig({displayName:"RunPreview__ItemSet",componentId:"sc-1d5bfcs-2"})(["display:flex;flex-direction:row;flex-wrap:wrap;gap:4px;"]),ln=c.ZP.div.withConfig({displayName:"RunPreview__ItemsEmptyNotice",componentId:"sc-1d5bfcs-3"})(["font-size:13px;padding-top:7px;padding-bottom:7px;"]),cn=c.ZP.div.withConfig({displayName:"RunPreview__ErrorListContainer",componentId:"sc-1d5bfcs-4"})(["margin-left:10px;overflow-y:scroll;height:100%;"]),un=c.ZP.div.withConfig({displayName:"RunPreview__ErrorRowContainer",componentId:"sc-1d5bfcs-5"})(["text-align:left;font-size:13px;white-space:pre-wrap;word-break:break-word;font-family:",";cursor:pointer;display:flex;flex-direction:row;align-items:flex-start;border-bottom:1px solid #ccc;padding:8px;margin:8px 12px 0 -8px;&:last-child{border-bottom:0;margin-bottom:15px;}",""],We.b.monospace,(function(e){return e.hoverable&&"&:hover {\n      background: ".concat(X.w.Gray50,";\n    }\n  ")})),dn=c.ZP.div.withConfig({displayName:"RunPreview__RuntimeAndResourcesSection",componentId:"sc-1d5bfcs-6"})(["display:flex;gap:12px;@media (max-width:800px){flex-direction:column;}"]),pn=function(e){var n=e.error,t=e.onHighlight,r=n,i=null;Qe(n)&&(r=n.message,i=n);var o=r;return"string"===typeof r&&r.length>400&&(o=function(e){var n=e.indexOf("{");-1===n&&(n=e.indexOf(". "));-1===n&&(n=400);return e.substr(0,n)+"... "}(r)),(0,$.jsxs)(un,{hoverable:!!i,onClick:function(){return i&&t(we(i.stack.entries))},children:[(0,$.jsx)("div",{style:{paddingRight:4},children:(0,$.jsx)(ce.JO,{name:"error",color:X.w.Red500})}),(0,$.jsxs)("div",{children:[o,o!==r&&(0,$.jsxs)($.Fragment,{children:["\xa0",(0,$.jsx)($e.Z,{onClick:function(){return(0,me._)({body:(0,$.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:r})})},children:"View all"})]})]})]})};function hn(e,n){if(!n||"object"!==typeof n)return!1;if(0===e.length)return!0;var t=(0,Ke.Z)(e),r=t[0];return hn(t.slice(1),n[r])}var fn,mn,xn,gn=t(80610),yn=t(33547),vn=t(76341),jn=function e(n,t){var r=t[n];switch(r.__typename){case"CompositeConfigType":if(r.isSelector)return"<selector>";var i,o={},s=(0,a.Z)(r.fields);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=l.name,u=l.isRequired,d=l.configTypeKey;u&&(o[c]=e(d,t))}}catch(p){s.e(p)}finally{s.f()}return o;case"ArrayConfigType":return[];case"MapConfigType":return{};case"NullableConfigType":return e(r.typeParamKeys[0],t);case"EnumConfigType":return r.values.map((function(e){return e.value})).join("|");case"ScalarUnionConfigType":return e(r.scalarTypeKey,t);case"RegularConfigType":return{String:"",Int:0,Float:0,Bool:!0,Any:"AnyType"}[r.key];default:(0,vn.UT)(r)}},wn=function(e){var n=e.allConfigTypes,t=e.rootConfigType,r=function(e){var n,t={},r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t[i.key]=i}}catch(o){r.e(o)}finally{r.f()}return t}(n);return jn(t.key,r)},bn="The YAML you provided couldn't be parsed. Please fix the syntax errors and try again.",kn=function(e,n){switch(n.type){case"preview-loading":return(0,l.Z)((0,l.Z)({},e),{},{previewLoading:n.payload});case"set-preview":var t=n.payload,r=t.preview,i=t.previewedDocument,o=t.previewLoading;return(0,l.Z)((0,l.Z)({},e),{},{preview:r,previewedDocument:i,previewLoading:o});case"toggle-tag-editor":return(0,l.Z)((0,l.Z)({},e),{},{tagEditorOpen:n.payload});case"toggle-config-loading":return(0,l.Z)((0,l.Z)({},e),{},{configLoading:n.payload});case"set-editor-help-context":return(0,l.Z)((0,l.Z)({},e),{},{editorHelpContext:n.payload});default:return e}},Sn=function(e){var n=e.launchpadType,t=e.children;return"asset"===n?(0,$.jsxs)(oe.x,{flex:{direction:"row"},border:{side:"top",width:1,color:X.w.KeylineGray},padding:{right:12,vertical:8},children:[(0,$.jsx)("div",{style:{flexGrow:1}}),t]}):(0,$.jsx)("div",{style:{position:"absolute",bottom:12,right:12,zIndex:1},children:t})},Cn={preview:null,previewLoading:!1,previewedDocument:null,configLoading:!1,editorHelpContext:null,tagEditorOpen:!1},Nn=function(e){var n,t,r=e.launchpadType,c=e.session,u=e.onSave,f=e.partitionSets,m=e.pipeline,x=e.repoAddress,g=(0,p.x)(),y=w.useReducer(kn,Cn),v=(0,s.Z)(y,2),j=v[0],k=v[1],S=w.useRef(!1),C=w.useRef(null),N=w.useRef(null),E=w.useRef(0),_=m.isJob,I=w.useMemo((function(){return c.tags||[]}),[c]),Z=(0,l.Z)((0,l.Z)({},(0,Ne.$)(x)),{},{pipelineName:m.name,solidSelection:(null===c||void 0===c?void 0:c.solidSelection)||void 0}),T=(0,h.a)(Rn,{variables:{selector:Z,mode:null===c||void 0===c?void 0:c.mode},fetchPolicy:"cache-and-network",partialRefetch:!0}),P=null===T||void 0===T||null===(n=T.data)||void 0===n?void 0:n.runConfigSchemaOrError;w.useEffect((function(){return S.current=!0,function(){S.current=!1}}));var R,O,D=function(e){u(e)},L="RunConfigSchema"===(null===P||void 0===P?void 0:P.__typename)?P:void 0,A="ModeNotFoundError"===(null===P||void 0===P?void 0:P.__typename)?P:void 0,F=function(){var e=(0,i.Z)(d().mark((function e(n){var t,r,i,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.current+=1,t=E.current,r=In(n),k({type:"preview-loading",payload:!0}),e.next=6,g.query({fetchPolicy:"no-cache",query:Zn,variables:{runConfigData:r,pipeline:Z,mode:c.mode||"default"}});case 6:return i=e.sent,o=i.data,S.current&&(a=t===E.current,k({type:"set-preview",payload:{preview:o,previewedDocument:r,previewLoading:!a&&j.previewLoading}})),e.abrupt("return",be(r,o.isPipelineConfigValid));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=function(e){var n=c.base?I.filter((function(n){var t,r;return(null===(t=c.base)||void 0===t?void 0:t.tags)&&!(null!==(r=c.base)&&void 0!==r&&r.tags.some((function(e){return e.key===n.key&&e.value===n.value})))&&!e.some((function(e){return e.key===n.key}))})):[];return[].concat((0,o.Z)(e),(0,o.Z)(n))},z=function(){var e=(0,i.Z)(d().mark((function e(n){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.tags.map(En),D({base:{presetName:n.name,tags:t},name:n.name,runConfigYaml:n.runConfigYaml||"",solidSelection:n.solidSelection,solidSelectionQuery:null===n.solidSelection?"*":n.solidSelection.join(","),mode:n.mode,tags:M(t),needsRefresh:!1});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=(0,i.Z)(d().mark((function e(n,t,r,i){var o,a,s,l,u,p,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(),e.prev=1,o=c.base,e.next=5,g.query({query:Ee.Fp,variables:{repositorySelector:n,partitionSetName:t,partitionName:r}});case 5:if(a=e.sent,(s=a.data)&&s.partitionSetOrError&&"PartitionSet"===s.partitionSetOrError.__typename&&s.partitionSetOrError.partition){e.next=10;break}return V(),e.abrupt("return");case 10:l=s.partitionSetOrError.partition,u=[],"PythonError"===l.tagsOrError.__typename?(0,me._)({body:(0,$.jsx)(xe.T9,{error:l.tagsOrError})}):u=l.tagsOrError.results.map(En),"PythonError"===l.runConfigOrError.__typename?(p="",(0,me._)({body:(0,$.jsx)(xe.T9,{error:l.runConfigOrError})})):p=l.runConfigOrError.yaml,h=i||l.solidSelection,D({name:l.name,base:Object.assign({},o,{partitionName:l.name,tags:u}),runConfigYaml:p,solidSelection:h,solidSelectionQuery:null===h?"*":h.join(","),mode:l.mode,tags:M(u),needsRefresh:!1}),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(1);case 20:V();case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(n,t,r,i){return e.apply(this,arguments)}}(),K=function(){var e=(0,i.Z)(d().mark((function e(n){var t,r,i,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("presetName"in n)){e.next=5;break}return t=n.presetName,(r=m.presets.find((function(e){return e.name===t})))&&z((0,l.Z)((0,l.Z)({},r),{},{solidSelection:c.solidSelection||r.solidSelection})),e.abrupt("return");case 5:if(i=n.partitionName,o=n.partitionsSetName,a=(0,Ne.$)(x),!i){e.next=12;break}return B(),e.next=11,G(a,o,i,c.solidSelection);case 11:V();case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=function(){return k({type:"toggle-tag-editor",payload:!0})},B=function(){return k({type:"toggle-config-loading",payload:!0})},V=function(){return k({type:"toggle-config-loading",payload:!1})},q=j.preview,H=j.previewLoading,W=j.previewedDocument,J=j.configLoading,ee=j.editorHelpContext,te=j.tagEditorOpen,re=w.useMemo((function(){var e=c.base,n=c.needsRefresh;return e&&n&&("presetName"in e||e.partitionsSetName&&e.partitionName)?e:null}),[c]);return"asset"===r&&(R="Materialize"),f.results.length&&c.base&&"partitionsSetName"in c.base&&!c.base.partitionName&&(O="This job is partitioned. Are you sure you want to launch a run without a partition specified?"),(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(ae.OS,{axis:"vertical",identifier:"execution",firstMinSize:100,firstInitialPercent:75,first:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Pe.f,{isLoading:J,message:"Generating configuration..."}),(0,$.jsxs)(gn.a,{children:[(0,$.jsx)(Ee.KC,{pipeline:m,partitionSets:f.results,base:c.base,onSaveSession:D,onSelectPreset:z,onSelectPartition:G,repoAddress:x}),(0,$.jsx)(Tn,{}),"asset"===r?(0,$.jsx)(se.oi,{readOnly:!0,value:c.assetSelection?c.assetSelection.map((function(e){return(0,ye.Je)(e.assetKey)})).join(", "):"*"}):(0,$.jsx)(ze,{serverProvidedSubsetError:"InvalidSubsetError"===(null===q||void 0===q?void 0:q.isPipelineConfigValid.__typename)?q.isPipelineConfigValid:void 0,pipelineName:m.name,value:c.solidSelection||null,query:c.solidSelectionQuery||null,onChange:function(e,n){D({solidSelection:e,solidSelectionQuery:n})},flattenGraphs:c.flattenGraphs,onFlattenGraphsChange:function(e){D({flattenGraphs:e})},repoAddress:x}),_?(0,$.jsx)("span",{}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Tn,{}),(0,$.jsx)(Ze,{modes:m.modes,modeError:A,onModeChange:function(e){D({mode:e})},modeName:c.mode})]}),(0,$.jsx)(yn.U,{tagsFromDefinition:m.tags,tagsFromSession:I,onChange:function(e){var n={},t=[];e.forEach((function(e){e.key in n||(n[e.key]=e.value,t.push(e))})),D({tags:t})},open:te,onRequestClose:function(){return k({type:"toggle-tag-editor",payload:!1})}}),(0,$.jsx)("div",{style:{flex:1}}),(0,$.jsx)(ge.b,{shortcutLabel:"\u2325T",shortcutFilter:function(e){return"KeyT"===e.code&&e.altKey},onShortcut:U,children:(0,$.jsx)(le.zx,{onClick:U,icon:(0,$.jsx)(ce.JO,{name:"edit"}),children:"Edit tags"})}),(0,$.jsx)(Tn,{}),(0,$.jsx)(ae.Uj,{axis:"horizontal",container:N})]}),m.tags.length||I.length?(0,$.jsx)(oe.x,{padding:{vertical:8,left:12,right:0},border:{side:"bottom",width:1,color:X.w.Gray200},children:(0,$.jsx)(yn.x,{tagsFromDefinition:m.tags,tagsFromSession:I,onRequestEdit:U})}):null,re?(0,$.jsx)(oe.x,{padding:{vertical:8,horizontal:12},border:{side:"bottom",width:1,color:X.w.Gray200},children:(0,$.jsxs)(ue.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,$.jsx)(ce.JO,{name:"warning",color:X.w.Yellow500}),(0,$.jsx)("div",{children:"Your repository has been manually refreshed, and this configuration may now be out of date."}),(0,$.jsx)(le.zx,{intent:"primary",onClick:function(){return K(re)},disabled:j.configLoading,children:"Refresh config"}),(0,$.jsx)(le.zx,{onClick:function(){D({needsRefresh:!1})},children:"Dismiss"})]})}):null,(0,$.jsx)(ae.OS,{ref:N,axis:"horizontal",identifier:"execution-editor",firstMinSize:100,firstInitialPercent:70,first:(0,$.jsx)(Y,{ref:C,readOnly:!1,configSchema:L,configCode:c.runConfigYaml,onConfigChange:function(e){D({runConfigYaml:e})},onHelpContextChange:function(e){Q(ee,e)||k({type:"set-editor-help-context",payload:e})},checkConfig:F}),second:(0,$.jsx)(ne,{context:ee,allInnerTypes:(null===L||void 0===L?void 0:L.allConfigTypes)||[]})})]}),second:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(Pe.f,{isLoading:H,message:L?"Checking config...":"Loading config schema..."}),(0,$.jsx)(tn,{launchpadType:r,document:W,validation:q?q.isPipelineConfigValid:null,solidSelection:c.solidSelection,runConfigSchema:L,onHighlightPath:function(e){var n;return null===(n=C.current)||void 0===n?void 0:n.moveCursorToPath(e)},onRemoveExtraPaths:function(e){return function(e){try{var n,t=b.Qc(In(c.runConfigYaml)),r=(0,a.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;_n(t,i)}}catch(o){r.e(o)}finally{r.f()}D({runConfigYaml:b.Pz(t)})}catch(o){return void(0,me._)({title:"Invalid YAML",body:bn})}}(e)},onScaffoldMissingConfig:function(){var e=L?wn(L):{};try{var n=b.Qc(In(c.runConfigYaml)),t=pe()(e,n),r=b.Pz(t);D({runConfigYaml:r})}catch(i){(0,me._)({title:"Invalid YAML",body:bn})}}})]})}),(0,$.jsx)(Sn,{launchpadType:r,children:(0,$.jsx)(Te.c,{title:R,warning:O,pipelineName:m.name,getVariables:function(){var e,n;if(c){var t=In(c.runConfigYaml);try{b.Qc(t)}catch(r){return void(0,me._)({title:"Invalid YAML",body:bn})}return{executionParams:{runConfigData:t,selector:(0,l.Z)((0,l.Z)({},Z),{},{assetSelection:c.assetSelection?c.assetSelection.map((function(e){return{path:e.assetKey.path}})):void 0}),mode:c.mode||"default",executionMetadata:{tags:fe()([].concat((0,o.Z)(c.solidSelectionQuery?[{key:Ce.H.SolidSelection,value:c.solidSelectionQuery}]:[]),(0,o.Z)(null!==c&&void 0!==c&&null!==(e=c.base)&&void 0!==e&&e.presetName?[{key:Ce.H.PresetName,value:null===c||void 0===c||null===(n=c.base)||void 0===n?void 0:n.presetName}]:[]),(0,o.Z)(c.assetSelection?[{key:Ce.H.StepSelection,value:c.assetSelection.flatMap((function(e){return e.opNames})).join(",")}]:[]),(0,o.Z)(I.map(En)),(0,o.Z)(m.tags.map(En))),(function(e){return e.key}))}}}}},disabled:"PipelineConfigValidationValid"!==(null===q||void 0===q||null===(t=q.isPipelineConfigValid)||void 0===t?void 0:t.__typename),behavior:"open"})})]})},En=function(e){return{key:e.key,value:e.value}},_n=function(e,n){for(var t=n.split("."),r=0;r<t.length-1;r++)if("undefined"===typeof(e=e[t[r]]))return;var i=t.pop();i&&delete e[i]},In=function(e){return(e||"").trim()||"{}"},Zn=(0,f.Ps)(fn||(fn=(0,r.Z)(["\n  query PreviewConfigQuery(\n    $pipeline: PipelineSelector!\n    $runConfigData: RunConfigData!\n    $mode: String!\n  ) {\n    isPipelineConfigValid(pipeline: $pipeline, runConfigData: $runConfigData, mode: $mode) {\n      ...ConfigEditorValidationFragment\n      ...RunPreviewValidationFragment\n    }\n  }\n  ","\n  ","\n"])),rn,je),Tn=c.ZP.div.withConfig({displayName:"LaunchpadSession__SessionSettingsSpacer",componentId:"sc-1pg2cql-0"})(["width:5px;"]),Pn=(0,f.Ps)(mn||(mn=(0,r.Z)(["\n  fragment LaunchpadSessionRunConfigSchemaFragment on RunConfigSchemaOrError {\n    __typename\n    ... on RunConfigSchema {\n      ...ConfigEditorRunConfigSchemaFragment\n    }\n    ... on ModeNotFoundError {\n      message\n    }\n  }\n  ","\n"])),ve),Rn=(0,f.Ps)(xn||(xn=(0,r.Z)(["\n  query PipelineExecutionConfigSchemaQuery($selector: PipelineSelector!, $mode: String) {\n    runConfigSchemaOrError(selector: $selector, mode: $mode) {\n      ...LaunchpadSessionRunConfigSchemaFragment\n    }\n  }\n\n  ","\n"])),Pn)},44969:function(e,n,t){t.d(n,{U:function(){return c}});var r=t(95764),i=t(17912),o=t(34595),a=t(89646),s=(t(325),t(80610)),l=t(32289),c=function(e){return(0,l.jsx)(i.OS,{axis:"vertical",identifier:"execution",firstInitialPercent:75,firstMinSize:100,first:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.a,{children:(0,l.jsx)(o.$,{purpose:"section"})}),(0,l.jsx)(a.t,(0,r.Z)({},e))]}),second:(0,l.jsx)("div",{})})}},6364:function(e,n,t){t.d(n,{m:function(){return s}});var r=t(17912),i=(t(325),t(33214)),o=t(80610),a=t(32289),s=function(){return(0,a.jsx)(r.OS,{axis:"vertical",identifier:"execution",firstInitialPercent:75,firstMinSize:100,first:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.f,{isLoading:!0,message:"Loading pipeline and partition sets..."}),(0,a.jsx)(o.a,{})]}),second:(0,a.jsx)(i.f,{isLoading:!0,message:"Loading pipeline and partition sets..."})})}},33214:function(e,n,t){t.d(n,{f:function(){return s}});var r=t(922),i=t(6466),o=t(34595),a=(t(325),t(32289)),s=function(e){var n=e.isLoading,t=e.message;return(0,a.jsx)(l,{isLoading:n,children:(0,a.jsxs)(i.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,a.jsx)(o.$,{purpose:"body-text"}),(0,a.jsx)("div",{children:t})]})})},l=r.ZP.div.withConfig({displayName:"LoadingOverlay__LoadingOverlayContainer",componentId:"sc-1tqulki-0"})(["position:absolute;left:0;right:0;top:0;bottom:0;background-color:#fff;z-index:20;display:",";align-items:center;justify-content:center;opacity:",";transition:opacity 150ms linear;transition-delay:300ms;"],(function(e){return e.isLoading?"flex":"none"}),(function(e){return e.isLoading?"0.7":"0"}))},80610:function(e,n,t){t.d(n,{a:function(){return o}});var r=t(922),i=t(7838),o=r.ZP.div.withConfig({displayName:"SessionSettingsBar",componentId:"sc-6lzkvu-0"})(["color:white;display:flex;position:relative;border-bottom:1px solid ",";background:",";align-items:center;height:47px;padding:8px 10px;"],i.w.Gray200,i.w.White)},33547:function(e,n,t){t.d(n,{U:function(){return g},x:function(){return y}});var r=t(59019),i=t(19065),o=t(922),a=t(8358),s=t(6466),l=t(32030),c=t(11831),u=t(88863),d=t(75453),p=t(89279),h=t(325),f=t(27719),m=t(28064),x=t(32289),g=function(e){var n=e.tagsFromDefinition,t=void 0===n?[]:n,o=e.tagsFromSession,g=void 0===o?[]:o,y=e.open,v=e.onChange,w=e.onRequestClose,b=h.useState((function(){return g.length?g:[{key:"",value:""}]})),k=(0,i.Z)(b,2),S=k[0],C=k[1];h.useEffect((function(){y||C(g.length?g:[{key:"",value:""}])}),[g,y]);var N=S.map((function(e){return{key:e.key.trim(),value:e.value.trim()}})).filter((function(e){return e.key&&e.value})),E=S.map((function(e){return{key:e.key.trim(),value:e.value.trim()}})).filter((function(e){return!e.key!==!e.value})),_=function(){E.length||(v(N),w())},I=S===g||!!E.length,Z=function(e,n,t){C((function(i){return[].concat((0,r.Z)(i.slice(0,t)),[{key:e,value:n}],(0,r.Z)(i.slice(t+1)))}))};return(0,x.jsxs)(a.Vq,{icon:"info",onClose:w,style:{minWidth:700},title:"Add tags to run",isOpen:y,children:[(0,x.jsx)(a.a7,{children:(0,x.jsxs)(s.Z,{spacing:16,direction:"column",children:[t.length?(0,x.jsxs)(s.Z,{direction:"column",spacing:8,children:[(0,x.jsx)(l.x,{margin:{left:2},style:{fontSize:"13px",fontWeight:500},children:"Tags from definition:"}),(0,x.jsx)(j,{children:t.map((function(e,n){var t=e.key;return S.some((function(e){return e.key===t}))?(0,x.jsx)(c.u,{content:"Overriden by custom tag value",placement:"top",children:(0,x.jsx)("span",{style:{opacity:.2},children:(0,x.jsx)(m.i,{tag:e},n)})},t):(0,x.jsx)(m.i,{tag:e},t)}))})]}):null,(0,x.jsxs)(l.x,{flex:{direction:"column",gap:12},children:[(0,x.jsx)("div",{children:"Custom tags:"}),(0,x.jsx)(l.x,{flex:{direction:"column",gap:8},children:S.map((function(e,n){var t=e.key,i=e.value;return(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:8},children:[(0,x.jsx)(u.oi,{placeholder:"Tag Key",value:t,onChange:function(e){return Z(e.target.value,i,n)}}),(0,x.jsx)(u.oi,{placeholder:"Tag Value",value:i,onChange:function(e){return Z(t,e.target.value,n)}}),(0,x.jsx)(d.zx,{disabled:1===S.length&&!t.trim()&&!i.trim(),onClick:function(){return function(e){C((function(n){return 0===e&&1===n.length?[{key:"",value:""}]:[].concat((0,r.Z)(n.slice(0,e)),(0,r.Z)(n.slice(e+1)))}))}(n)},icon:(0,x.jsx)(p.JO,{name:"delete"}),children:"Remove"})]},n)}))}),(0,x.jsx)(l.x,{margin:{left:2},flex:{direction:"row"},children:(0,x.jsx)(d.zx,{onClick:function(){C((function(e){return[].concat((0,r.Z)(e),[{key:"",value:""}])}))},icon:(0,x.jsx)(p.JO,{name:"add_circle"}),children:"Add custom tag"})})]})]})}),(0,x.jsxs)(a.cN,{children:[(0,x.jsx)(d.zx,{onClick:w,children:"Cancel"}),(0,x.jsx)(f.b,{shortcutLabel:"\u2325Enter",shortcutFilter:function(e){return"Enter"===e.code&&e.altKey},onShortcut:_,children:(0,x.jsx)(d.zx,{intent:"primary",onClick:_,disabled:I,children:"Apply"})})]})]})},y=function(e){var n=e.tagsFromSession,t=e.tagsFromDefinition;return(0,x.jsx)(v,{children:(0,x.jsxs)(j,{children:[t?t.map((function(e,t){var r=e.key;return n.some((function(e){return e.key===r}))?(0,x.jsx)(c.u,{content:"Overriden by custom tag value",placement:"top",children:(0,x.jsx)("span",{style:{opacity:.2},children:(0,x.jsx)(m.i,{tag:e},t)})},r):(0,x.jsx)(m.i,{tag:e},t)})):void 0,n.map((function(e,n){return(0,x.jsx)(m.i,{tag:e},n)}))]})})},v=o.ZP.div.withConfig({displayName:"TagEditor__Container",componentId:"f3ti0i-0"})(["align-items:flex-start;display:flex;flex-direction:row;"]),j=o.ZP.div.withConfig({displayName:"TagEditor__TagList",componentId:"f3ti0i-1"})(["display:flex;flex:1;flex-wrap:wrap;gap:4px;"])},25429:function(e,n,t){t.d(n,{t:function(){return a}});var r=t(8546),i=(t(325),t(14156)),o=t(32289),a=function(e){console.error("Error launching run:",e);var n="Failed to fetch"===e.message?(0,o.jsx)("div",{style:{fontFamily:r.b.default},children:"Make sure the Dagit server is running and try again."}):(0,o.jsx)("div",{children:e.message});(0,i._)({title:"Could not launch run",body:n})}},30057:function(e,n,t){t.d(n,{b:function(){return x}});var r=t(922),i=t(32030),o=t(89279),a=t(7838),s=t(34595),l=t(11831),c=(t(325),t(74549)),u=t(63579),d=t(76341),p=t(33902),h=t(25582),f=t(86562),m=t(32289),x=function(e){var n=e.repoAddress,t=e.showIcon,r=void 0!==t&&t,l=e.showRefresh,c=void 0===l||l,x=n.location,j=(0,u.TE)().canReloadRepositoryLocation,w=[(0,d.R9)(n.name,{maxLength:19}),(0,d.R9)(n.location,{maxLength:19})].join("@");return(0,m.jsxs)(i.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:(0,p.l)(n),children:[r&&(0,m.jsx)(o.JO,{name:"folder",style:{marginRight:8},color:a.w.Gray400}),(0,m.jsx)(g,{to:(0,h.$U)(n),children:w}),j.enabled&&c?(0,m.jsx)(f.s,{location:x,children:function(e){var n=e.tryReload,t=e.reloading;return(0,m.jsx)(y,{content:t?"Reloading\u2026":(0,m.jsxs)(m.Fragment,{children:["Reload location ",(0,m.jsx)("strong",{children:x})]}),children:t?(0,m.jsx)(s.$,{purpose:"body-text"}):(0,m.jsx)(v,{onClick:n,children:(0,m.jsx)(o.JO,{name:"refresh",color:a.w.Gray400})})})}}):null]})},g=(0,r.ZP)(c.rU).withConfig({displayName:"RepositoryLink__RepositoryName",componentId:"sc-1ocg9ga-0"})(["max-width:280px;overflow:hidden;text-overflow:ellipsis;"]),y=(0,r.ZP)(l.u).withConfig({displayName:"RepositoryLink__ReloadTooltip",componentId:"sc-1ocg9ga-1"})(["margin-left:4px;&&{display:block;}"]),v=r.ZP.button.withConfig({displayName:"RepositoryLink__StyledButton",componentId:"sc-1ocg9ga-2"})(["background-color:transparent;border:0;cursor:pointer;display:block;padding:0;margin:0;:focus:not(:focus-visible){outline:none;}& ","{display:block;transition:color 100ms linear;}:hover ","{color:",";}"],o.a1,o.a1,a.w.Blue500)},86476:function(e,n,t){t.d(n,{I:function(){return y}});var r=t(19065),i=t(54268),o=t(60652),a=t(7838),s=t(32030),l=t(11831),c=t(8546),u=t(325),d=t(74549),p=t(9315),h=t(36243),f=t(86875),m=t(25582),x=t(72444),g=t(32289),y=function(e){var n=e.schedules,t=e.sensors,s=e.repoAddress,l=e.showSwitch,c=void 0===l||l,d=u.useState(!1),p=(0,r.Z)(d,2),h=p[0],f=p[1],m=n.length,y=t.length;if(m>1||y>1||m&&y){var w=m&&y?"View ".concat(m+y," schedules/sensors"):m?"View ".concat(m," schedules"):"View ".concat(y," sensors"),b=m>1?"schedule":"sensors";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.V,{icon:b,children:(0,g.jsx)(o.Z,{onClick:function(){return f(!0)},color:a.w.Link,children:w})}),(0,g.jsx)(x.f,{isOpen:h,onClose:function(){return f(!1)},repoAddress:s,schedules:n,sensors:t,showSwitch:c})]})}return m?(0,g.jsx)(v,{schedule:n[0],repoAddress:s,showSwitch:c}):y?(0,g.jsx)(j,{sensor:t[0],repoAddress:s,showSwitch:c}):null},v=function(e){var n=e.schedule,t=e.repoAddress,r=e.showSwitch,o=n.cronSchedule,a=n.executionTimezone,u="RUNNING"===n.scheduleState.status,f=(0,g.jsx)(i.V,{intent:u?"primary":"none",icon:"schedule",children:(0,g.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:4},children:["Schedule:",(0,g.jsx)(d.rU,{to:(0,m.$U)(t,"/schedules/".concat(n.name)),children:(0,h.A)(o,a||"UTC")}),r?(0,g.jsx)(p.M,{size:"small",repoAddress:t,schedule:n}):null]})});return n.cronSchedule?(0,g.jsx)(l.u,{placement:"bottom",content:(0,g.jsxs)(s.x,{flex:{direction:"column",gap:4},children:[(0,g.jsxs)("div",{children:["Name: ",(0,g.jsx)("strong",{children:n.name})]}),(0,g.jsxs)("div",{children:["Cron:"," ",(0,g.jsxs)("span",{style:{fontFamily:c.b.monospace,marginLeft:"4px"},children:["(",n.cronSchedule,")"]})]}),(0,g.jsxs)("div",{children:["Timezone: ",(0,g.jsx)("strong",{children:n.executionTimezone||"UTC"})]})]}),children:f}):f},j=function(e){var n=e.sensor,t=e.repoAddress,r=e.showSwitch,o="RUNNING"===n.sensorState.status;return(0,g.jsx)(i.V,{intent:o?"primary":"none",icon:"sensors",children:(0,g.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:4},children:["Sensor:",(0,g.jsx)(d.rU,{to:(0,m.$U)(t,"/sensors/".concat(n.name)),children:n.name}),r?(0,g.jsx)(f.c,{size:"small",repoAddress:t,sensor:n}):null]})})}},66941:function(e,n,t){t.d(n,{z:function(){return h},C:function(){return f}});var r,i=t(99500),o=t(922),a=t(3159),s=t(33918),l=t(7838),c=t(8546),u=(t(325),t(76341)),d=t(95924),p=t(32289),h=function(e){var n=e.definition,t=n.inputDefinitions,r=n.outputDefinitions,i=t.map((function(e,n){return(0,p.jsxs)("span",{children:[(0,u.By)(e.name),": ",(0,p.jsx)(d.g,{type:e.type}),n<t.length-1?", ":""]},n)})),o=r.map((function(e,n){return(0,p.jsxs)("span",{children:[(0,u.By)(e.name),": ",(0,p.jsx)(d.g,{type:e.type}),n<r.length-1?", ":""]},n)}));return(0,p.jsxs)(m,{children:["(",i,") \u21d2 (",o,")"]})},f=(0,a.Ps)(r||(r=(0,i.Z)(["\n  fragment OpTypeSignatureFragment on ISolidDefinition {\n    outputDefinitions {\n      name\n      type {\n        ...DagsterTypeWithTooltipFragment\n      }\n    }\n    inputDefinitions {\n      name\n      type {\n        ...DagsterTypeWithTooltipFragment\n      }\n    }\n  }\n\n  ","\n"])),d.B),m=(0,o.ZP)(s.EK).withConfig({displayName:"OpTypeSignature__TypeSignature",componentId:"sc-1rdwtt5-0"})(["&&{background:",";font-family:",";font-size:14px;padding:4px;box-shadow:none;color:black;}"],l.w.Blue50,c.b.monospace)},77221:function(e,n,t){t.d(n,{XI:function(){return u},lU:function(){return d},ZX:function(){return p}});var r=t(59019),i=t(47427),o=t(19065),a=t(88863),s=t(325),l=t(14156),c=t(32289),u=function(e){var n=e.value,t=e.onChange,u=e.partitionNames,h=s.useState(""),f=(0,o.Z)(h,2),m=f[0],x=f[1],g=s.useMemo((function(){return JSON.stringify(u)}),[u]);s.useEffect((function(){var e,t,r=JSON.parse(g);x((e=n,d(t=r,(function(n){return e.includes(n)})).filter((function(e){return e.status})).map((function(e){return p(e,t)})).join(", ")))}),[n,g]);var y=s.useMemo((function(){return function(e){if(e.length<4)return"ex: ".concat(e[0],", ").concat(e[1]);return"ex: ".concat(e[0],", ").concat(e[1],", [").concat(e[2],"...").concat(e[e.length-1],"]")}(u)}),[u]),v=function(e){try{t(function(e,n){var t,a=e.split(",").map((function(e){return e.trim()})),s=[],l=(0,i.Z)(a);try{for(l.s();!(t=l.n()).done;){var c=t.value;if(0!==c.length){var u=/^\[(.*)\.\.\.(.*)\]$/g.exec(c);if(u){var d=(0,o.Z)(u,3),p=d[1],h=d[2],f=n.indexOf(p),m=n.indexOf(h);if(-1===f||-1===m)throw new Error("Could not find partitions for provided range: ".concat(p,"...").concat(h));s.push.apply(s,(0,r.Z)(n.slice(f,m+1)))}else if(c.includes("*"))!function(){var e=c.split("*"),t=(0,o.Z)(e,2),i=t[0],a=t[1];s.push.apply(s,(0,r.Z)(n.filter((function(e){return e.startsWith(i)&&e.endsWith(a)}))))}();else{if(-1===n.indexOf(c))throw new Error("Could not find partition: ".concat(c));s.push(c)}}}}catch(x){l.e(x)}finally{l.f()}return s.sort((function(e,t){return n.indexOf(e)-n.indexOf(t)}))}(m,u))}catch(n){e.preventDefault(),(0,l._)({body:n.message})}};return(0,c.jsx)(a.oi,{placeholder:y,value:m,style:{display:"flex",width:"100%",flex:1,flexGrow:1},onChange:function(e){return x(e.currentTarget.value)},onKeyDown:function(e){"Enter"===e.key&&v(e)},onBlur:v})};function d(e,n){for(var t=[],r=0;r<e.length;r++){var i=n(e[r]);t.length&&t[t.length-1].status===i?t[t.length-1].endIdx=r:t.push({startIdx:r,endIdx:r,status:i})}return t}function p(e,n){var t=e.startIdx,r=e.endIdx;return t===r?n[t]:"[".concat(n[t],"...").concat(n[r],"]")}},54920:function(e,n,t){t.d(n,{b:function(){return h}});var r=t(95764),i=t(19065),o=t(7838),a=t(11831),s=t(32030),l=t(325),c=t(88291),u=t(5484),d=t(77221),p=t(32289),h=function(e){var n=e.partitionNames,t=e.partitionData,u=e.selected,h=e.onSelect,x=e.onClick,g=e.splitPartitions,y=e.small,v=e.selectionWindowSize,j=e.hideStatusTooltip,w=e.tooltipMessage,b=l.useRef(null),k=l.useState(),S=(0,i.Z)(k,2),C=S[0],N=S[1],E=(0,c.S)(),_=E.viewport,I=E.containerProps,Z=l.useCallback((function(e){if(!b.current)return null;var t=(e.clientX-b.current.getBoundingClientRect().left)/b.current.clientWidth;return n[Math.floor(t*n.length)]}),[n,b]),T=l.useCallback((function(e,t){var r=n.indexOf(e),i=n.indexOf(t);return n.slice(Math.min(r,i),Math.max(r,i)+1)}),[n]);l.useEffect((function(){if(C&&h&&u){var e=function(e){var n=Z(e)||C.end;N({start:null===C||void 0===C?void 0:C.start,end:n})},n=function(e){if(C){var n=Z(e),t=T(C.start,n||C.end);if(t.every((function(e){return u.includes(e)})))h(u.filter((function(e){return!t.includes(e)})));else{var r=new Set(u);t.forEach((function(e){return r.add(e)})),h(Array.from(r))}N(void 0)}};return window.addEventListener("mousemove",e),window.addEventListener("mouseup",n),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",n)}}}),[h,u,C,T,Z]);var P=u?(0,d.lU)(n,(function(e){return u.includes(e)})).filter((function(e){return e.status})):[],R=g?n.map((function(e,n){return{startIdx:n,endIdx:n,status:t[e]}})):function(e,n){for(var t=[],r=0;r<e.length;r++){var i=e[r]in n?n[e[r]]:null;t.length&&t[t.length-1].status===i?t[t.length-1].endIdx=r:t.push({startIdx:r,endIdx:r,status:i})}return t}(n,t),O=R.map((function(e){return e.endIdx})).reduce((function(e,n){return Math.max(e,n)}),0),D=function(e){return"".concat((100*e/n.length).toFixed(3),"%")},L=g&&_.width>8*(n.length+1),A=x?function(e){var n=Z(e.nativeEvent);n&&x(n)}:void 0,F=h?function(e){var n=Z(e.nativeEvent);n&&N({start:n,end:n})}:void 0;return(0,p.jsxs)("div",(0,r.Z)((0,r.Z)({},I),{},{children:[u&&!v?(0,p.jsx)("div",{style:{position:"relative",width:"100%",overflowX:"hidden",height:10},children:P.map((function(e){return(0,p.jsx)("div",{style:{left:"min(calc(100% - 2px), ".concat(D(e.startIdx),")"),width:D(e.endIdx-e.startIdx+1),position:"absolute",top:0,height:8,border:"2px solid ".concat(o.w.Blue500),borderBottom:0}},e.startIdx)}))}):null,(0,p.jsxs)("div",{style:{position:"relative",width:"100%",height:y?12:24,borderRadius:4,overflow:"hidden",cursor:"pointer"},ref:b,onClick:A,onMouseDown:F,children:[R.map((function(e){return(0,p.jsx)("div",{style:{left:"min(calc(100% - 2px), ".concat(D(e.startIdx),")"),width:D(e.endIdx-e.startIdx+1),minWidth:e.status?2:void 0,position:"absolute",zIndex:0===e.startIdx||e.endIdx===O?3:e.status?2:1,top:0},children:j||w?(0,p.jsx)("div",{style:{width:"100%",height:24,outline:"none",background:f(e.status)},title:w}):(0,p.jsx)(a.u,{display:"block",content:w||(e.startIdx===e.endIdx?"Partition ".concat(n[e.startIdx]," is ").concat(m(e.status)):"Partitions ".concat(n[e.startIdx]," through ").concat(n[e.endIdx]," are ").concat(m(e.status))),children:(0,p.jsx)("div",{style:{width:"100%",height:24,outline:"none",background:f(e.status)}})})},e.startIdx)})),L?R.slice(1).map((function(e){return(0,p.jsx)("div",{style:{left:"min(calc(100% - 2px), ".concat(D(e.startIdx),")"),width:1,height:y?14:24,position:"absolute",zIndex:4,background:o.w.KeylineGray,top:0}},"separator_".concat(e.startIdx))})):null,C?(0,p.jsx)("div",{style:{left:"min(calc(100% - 2px), ".concat(D(Math.min(n.indexOf(C.start),n.indexOf(C.end))),")"),width:D(Math.abs(n.indexOf(C.end)-n.indexOf(C.start))+1),minWidth:2,height:y?14:24,position:"absolute",zIndex:4,background:o.w.White,opacity:.7,top:0}},"currentSelectionRange"):null,u&&u.length&&v?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{left:0,width:D(Math.min(n.indexOf(u[u.length-1]),n.indexOf(u[0]))),height:y?14:24,position:"absolute",zIndex:5,background:o.w.White,opacity:.5,top:0}},"selectionRangeBackgroundLeft"),(0,p.jsx)("div",{style:{left:"min(calc(100% - 3px), ".concat(D(Math.min(n.indexOf(u[0]),n.indexOf(u[u.length-1]))),")"),width:D(Math.abs(n.indexOf(u[u.length-1])-n.indexOf(u[0]))+1),minWidth:2,height:y?14:24,position:"absolute",zIndex:5,border:"3px solid ".concat(o.w.Dark),borderRadius:4,top:0}},"selectionRange"),(0,p.jsx)("div",{style:{right:0,width:D(n.length-1-Math.max(n.indexOf(u[u.length-1]),n.indexOf(u[0]))),height:y?14:24,position:"absolute",zIndex:5,background:o.w.White,opacity:.5,top:0}},"selectionRangeBackgroundRight")]}):null]}),g?null:(0,p.jsxs)(s.x,{flex:{justifyContent:"space-between"},margin:{top:4},style:{fontSize:"0.8rem",color:o.w.Gray500},children:[(0,p.jsx)("span",{children:n[0]}),(0,p.jsx)("span",{children:n[n.length-1]})]})]}))};var f=function(e){switch(e){case u.VO.SUCCESS:return o.w.Green500;case u.VO.CANCELED:case u.VO.CANCELING:case u.VO.FAILURE:return o.w.Red500;case u.VO.STARTED:return o.w.Blue500;case u.VO.QUEUED:return o.w.Blue200;default:return o.w.Gray200}},m=function(e){switch(e){case u.VO.SUCCESS:return"complete";case u.VO.CANCELED:case u.VO.CANCELING:case u.VO.FAILURE:return"failed";case u.VO.STARTED:return"in progress";case u.VO.QUEUED:return"queued";default:return"missing"}}},97363:function(e,n,t){t.d(n,{C:function(){return A}});var r,i,o,a=t(99500),s=t(16798),l=t(59019),c=t(95764),u=t(19065),d=t(47427),p=t(922),h=t(73701),f=t(3159),m=t(8358),x=t(32030),g=t(75453),y=t(7838),v=t(89279),j=t(762),w=t(8412),b=t(325),k=t(88291),S=t(55752),C=t(90933),N=t(26306),E=t(34595),_=t(89646),I=t(12436),Z=t(80608),T=t(28064),P=t(32289),R=function(e){var n=(0,h.a)(O,{variables:{filter:{pipelineName:e.pipelineName,tags:[{key:T.H.Partition,value:e.partitionName}]}}}),t=n.data;return n.loading||!t?(0,P.jsx)(E.$,{purpose:"section"}):"Runs"!==t.pipelineRunsOrError.__typename?(0,P.jsx)(_.t,{icon:"error",title:"Query Error",description:t.pipelineRunsOrError.message}):(0,P.jsx)("div",{children:(0,P.jsx)(Z.A,{runs:t.pipelineRunsOrError.results,additionalColumnHeaders:[(0,P.jsx)("th",{style:{maxWidth:150},children:"Step Info"},"context")]})})},O=(0,f.Ps)(r||(r=(0,a.Z)(["\n  query PartitionRunListForStepQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n          runId\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),Z.Z,I.Bq),D=t(87188),L=t(30150),A=function(e){var n,t,r=(0,k.S)(),i=r.viewport,o=r.containerProps,a=b.useState(null),p=(0,u.Z)(a,2),f=p[0],j=p[1],w=b.useState(null),S=(0,u.Z)(w,2),C=S[0],E=S[1],_=e.setPageSize;b.useEffect((function(){if(i.width){var e=Math.ceil(i.width/D.Bj)-V;_(e)}}),[i.width,_]);var I=(0,N.$)(e.repoAddress),Z=(0,c.Z)((0,c.Z)({},I),{},{pipelineName:e.pipelineName}),T=(0,h.a)(G,{variables:{pipelineSelector:Z}}),O="PipelineSnapshot"===(null===(n=T.data)||void 0===n?void 0:n.pipelineSnapshotOrError.__typename)&&T.data.pipelineSnapshotOrError.solidHandles,A=(0,L.J2)({partitionNames:e.partitionNames,partitions:e.partitions,stepQuery:"",solidHandles:O});if(!A||!O)return(0,P.jsx)("span",{});var U=A.stepRows,B=A.partitionColumns,$=function(e){var n={};return e.forEach((function(e){return n[e.name]=e})),U.map((function(e){return n[e.name]}))},V=3,q=Math.ceil(i.width/D.Bj)-V,H=Math.max(0,B.length-e.offset-q),W=Math.max(q,B.length-e.offset),J=B.slice(H,W),Y=function(e){var n,t=Date.now()/1e3,r=1,i=(0,d.Z)(e);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=(0,d.Z)(a.steps);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(0!==l.unix){var c=[Math.min(t,l.unix),Math.max(r,l.unix)];t=c[0],r=c[1]}}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}return[t,r]}(B),Q=(0,u.Z)(Y,2),X=Q[0],ee=Q[1],ne=(0,D.G3)(B.map((function(e){return e.name})));return(0,P.jsxs)(M,{children:[(0,P.jsxs)(m.Vq,{isOpen:!!C,onClose:function(){return E(null)},style:{width:"90vw"},title:C?"".concat(C.partitionName," runs (").concat(C.stepName,")"):"",children:[(0,P.jsx)(x.x,{padding:{bottom:12},children:C&&(0,P.jsx)(R,{pipelineName:e.pipelineName,partitionName:C.partitionName,stepName:C.stepName,stepStatsByRunId:Object.assign.apply(Object,[{}].concat((0,l.Z)(((null===(t=e.partitions.find((function(e){return e.name===C.partitionName})))||void 0===t?void 0:t.runs)||[]).map((function(e){return(0,s.Z)({},e.runId,e.stepStats.find((function(e){return(0,L.mR)(C.stepName,e.stepKey)})))})))))})}),(0,P.jsx)(m.cN,{children:(0,P.jsx)(g.zx,{intent:"primary",autoFocus:!0,onClick:function(){return E(null)},children:"OK"})})]}),(0,P.jsxs)("div",{style:{position:"relative",display:"flex",borderBottom:"1px solid ".concat(y.w.KeylineGray)},children:[(0,P.jsx)(D.NF,{floating:e.offset+q<e.partitionNames.length,children:(0,P.jsxs)(D.C4,{disabled:!0,style:{flex:1,flexShrink:1,overflow:"hidden"},children:[(0,P.jsx)(D.eh,{style:{height:ne}}),(0,P.jsx)(D.p$,{style:{paddingLeft:24},children:"Number of Runs"}),(0,P.jsx)(z,{}),U.map((function(e){return(0,P.jsx)(D.p$,{style:{paddingLeft:8+e.x},"data-tooltip":e.name,hovered:e.name===(null===f||void 0===f?void 0:f.stepName),children:e.name},e.name)}))]})}),e.offset+q<e.partitionNames.length?(0,P.jsx)(F,{$direction:"left",onClick:function(){return e.setOffset(Math.max(0,Math.min(e.offset+q-1,e.partitionNames.length-q)))},children:(0,P.jsx)(v.JO,{name:"chevron_left"})}):null,(0,P.jsx)("div",(0,c.Z)((0,c.Z)({style:{flex:1,overflow:"hidden",position:"relative"}},o),{},{children:(0,P.jsx)("div",{style:{width:B.length*D.Bj,position:"absolute",height:"100%",right:0,zIndex:1},children:J.map((function(e,n){return(0,P.jsxs)(D.C4,{style:{zIndex:J.length-n,width:D.Bj,position:"absolute",right:(q-n)*D.Bj+20},children:[(0,P.jsx)(D.kD,{$height:ne,label:e.name}),e.runsLoaded?(0,P.jsx)(D.p$,{style:{textAlign:"center"},children:e.runs.length}):(0,P.jsx)(D.p$,{style:{textAlign:"center",opacity:.2},children:"\u2013"}),(0,P.jsx)(z,{}),$(e.steps).map((function(n){return(0,P.jsx)(K,{step:n,runs:e.runs,runsLoaded:e.runsLoaded,minUnix:X,maxUnix:ee,hovered:f,setHovered:j,setFocused:E,partitionName:e.name},n.name)}))]},e.name)}))})})),e.offset>0?(0,P.jsx)(F,{$direction:"right",onClick:function(){return e.setOffset(Math.max(0,e.offset-q))},children:(0,P.jsx)(v.JO,{name:"chevron_right"})}):null]})]})},F=p.ZP.div.withConfig({displayName:"PartitionStepStatus__PagerControl",componentId:"fy1jed-0"})(["width:30px;position:absolute;border:1px solid ",";border-radius:3px;display:flex;justify-content:center;align-items:center;top:calc(50% - 15px);bottom:calc(50% - 15px);"," background:white;z-index:10;justify-content:center;align-items:center;cursor:pointer;display:flex;&:hover{background:#ececec;}"],y.w.KeylineGray,(function(e){return"left"===e.$direction?"left: 315px;":"right: 0;"})),M=p.ZP.div.withConfig({displayName:"PartitionStepStatus__PartitionRunMatrixContainer",componentId:"fy1jed-1"})(["display:block;"]),z=p.ZP.div.withConfig({displayName:"PartitionStepStatus__Divider",componentId:"fy1jed-2"})(["height:1px;width:100%;margin-top:5px;border-top:1px solid ",";"],y.w.KeylineGray),G=((0,f.Ps)(i||(i=(0,a.Z)(["\n  fragment PartitionStepStatusRun on Run {\n    id\n    runId\n    tags {\n      key\n      value\n    }\n    stepStats {\n      __typename\n      stepKey\n      status\n    }\n  }\n"]))),(0,f.Ps)(o||(o=(0,a.Z)(["\n  query PartitionStepStatusPipelineQuery($pipelineSelector: PipelineSelector) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          ...PartitionMatrixSolidHandleFragment\n        }\n      }\n    }\n  }\n  ","\n"])),L.Tg)),K=function(e){var n=e.step,t=e.runs,r=e.runsLoaded,i=e.hovered,o=e.setHovered,a=e.setFocused,s=e.partitionName,l=b.useState(!1),c=(0,u.Z)(l,2),d=c[0],p=c[1],h=n.name,f=n.color,m="square\n  ".concat(r?0===t.length?"empty":"":"loading","\n  ").concat((L._9[f]||f).toLowerCase()),x=(0,P.jsx)("div",{className:m,onMouseEnter:function(){return o({stepName:h,partitionName:s})},onMouseLeave:function(){return o(null)}});return d||t.length&&(null===i||void 0===i?void 0:i.stepName)===h&&(null===i||void 0===i?void 0:i.partitionName)===s?(0,P.jsx)(j.J,{interactionKind:"click",placement:"bottom-start",onOpening:function(){return p(!0)},onClosed:function(){return p(!1)},content:(0,P.jsxs)(w.v2,{children:[(0,P.jsx)(C.U,{icon:"open_in_new",text:"Show Logs From Last Run",to:(0,S.tA)(t[t.length-1],{stepKey:h})}),(0,P.jsx)(w.sN,{icon:"settings_backup_restore",text:"View Runs (".concat(t.length,")"),onClick:function(){return a({stepName:h,partitionName:s})}})]}),children:x}):x}},87188:function(e,n,t){t.d(n,{Bj:function(){return s},C4:function(){return u},p$:function(){return d},eh:function(){return p},G3:function(){return h},kD:function(){return f},NF:function(){return x}});var r=t(59019),i=t(922),o=t(7838),a=(t(325),t(32289)),s=32,l={SUCCESS:o.w.Green500,FAILURE:o.w.Red500,SKIPPED:o.w.Yellow500,IN_PROGRESS:"#eee"},c=function(e){return"linear-gradient(to left, ".concat(e," 0%, ").concat(e," 100%)")},u=i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridColumn",componentId:"sc-2pzmq3-0"})(["display:flex;flex-direction:column;flex-shrink:0;line-height:0;"," "," "," "," .cell{height:","px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;padding:2px;box-sizing:border-box;line-height:initial;}.square{width:20px;height:20px;margin:6px;display:inline-block;&:hover:not(.empty):before{box-shadow:"," 0 0 0 3px;}&:before{content:' ';background:rgba(248,247,245,1);border-radius:10px;display:inline-block;width:20px;height:20px;}&.loading{&:before{background:radial-gradient(white 0%,white 45%,rgba(248,247,245,1) 60%);}}&.success{&:before{background:",";}}&.success-skipped{&:before{background:linear-gradient( 135deg,"," 49%,"," 51% );}}&.success-failure{&:before{background:linear-gradient( 135deg,"," 49%,"," 51% );}}&.failure{&:before{background:",";}}&.failure-success{&:before{background:linear-gradient( 135deg,"," 49%,"," 51% );}}&.failure-skipped{&:before{background:linear-gradient( 135deg,"," 49%,"," 51% );}}&.failure-blank{&:before{background:linear-gradient( 135deg,"," 49%,rgba(150,150,150,0.3) 51% );}}&.skipped{&:before{background:",";}}&.skipped-success{&:before{background:linear-gradient( 135deg,"," 49%,"," 51% );}}&.skipped-failure{&:before{background:linear-gradient( 135deg,"," 49%,"," 51% );}}}"],(function(e){var n=e.disabled,t=e.focused,r=e.multiselectFocused,i=e.hovered;return!n&&!t&&!r&&"&".concat(i?"":":hover"," {\n      background: ").concat(o.w.Gray100,";\n      cursor: default;\n      ").concat(m," {\n        background: ").concat(o.w.White,";\n        .tilted {\n          background: ").concat(o.w.Gray100,";\n        }\n      }\n      .square {\n        filter: brightness(95%);\n      }\n    }")}),(function(e){return e.disabled&&"\n      ".concat(m," {\n        color: ").concat(o.w.Gray400,"\n      }\n    ")}),(function(e){return e.focused&&"background: ".concat(o.w.Blue500,";\n    ").concat(d," {\n      color: white;\n    }\n    ").concat(m," {\n      background: ").concat(o.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(o.w.Blue500,";\n      }\n    }\n  }")}),(function(e){return e.multiselectFocused&&"background: ".concat(o.w.Blue200,";\n    ").concat(d," {\n      color: white;\n    }\n    ").concat(m," {\n      background: ").concat(o.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(o.w.Blue200,";\n      }\n    }\n  }")}),s,o.w.Blue500,l.SUCCESS,l.SUCCESS,l.SKIPPED,l.SUCCESS,l.FAILURE,l.FAILURE,l.FAILURE,l.SUCCESS,l.FAILURE,l.SKIPPED,l.FAILURE,l.SKIPPED,l.SKIPPED,l.SUCCESS,l.SKIPPED,l.FAILURE),d=i.ZP.div.withConfig({displayName:"RunMatrixUtils__LeftLabel",componentId:"sc-2pzmq3-1"})(["height:","px;line-height:","px;font-size:13px;overflow:hidden;text-overflow:ellipsis;position:relative;background:",";"],s,s,(function(e){var n=e.hovered;return[n?o.w.Gray100:"transparent"].map(c).join(",")})),p=i.ZP.div.withConfig({displayName:"RunMatrixUtils__TopLabel",componentId:"sc-2pzmq3-2"})(["position:relative;height:70px;padding:4px;padding-bottom:0;min-width:15px;align-items:flex-end;display:flex;"]);function h(e){var n=Math.max.apply(Math,(0,r.Z)(e.map((function(e){return e.length}))));return 15+(n>10?4.9*n:55)}var f=function(e){var n=e.label,t=e.$height;return(0,a.jsx)(m,{style:{height:t-15},children:(0,a.jsx)("div",{className:"tilted",children:n})})},m=i.ZP.div.withConfig({displayName:"RunMatrixUtils__TopLabelTiltedInner",componentId:"sc-2pzmq3-3"})(["position:relative;height:unset;padding:4px;padding-bottom:0;min-width:15px;margin-bottom:","px;align-items:end;display:flex;line-height:normal;& > div.tilted{font-size:12px;white-space:nowrap;position:absolute;bottom:-20px;left:0;padding:2px;padding-right:4px;padding-left:0;transform:rotate(-","deg);transform-origin:top left;}"],15,41),x=i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridFloatingContainer",componentId:"sc-2pzmq3-4"})(["display:flex;border-right:1px solid ",";padding-bottom:16px;width:330px;z-index:1;",";"],o.w.Gray200,(function(e){return e.floating?"box-shadow: 1px 0 4px rgba(0, 0, 0, 0.15)":""}));i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridScrollContainer",componentId:"sc-2pzmq3-5"})(["padding-right:60px;padding-bottom:16px;overflow-x:scroll;overscroll-behavior-x:contain;z-index:0;background:",";flex:1;scrollbar-color:"," ",";scrollbar-width:thin;::-webkit-scrollbar{-webkit-appearance:none;}&::-webkit-scrollbar:vertical{width:11px;}&::-webkit-scrollbar:horizontal{height:11px;}&::-webkit-scrollbar-thumb{border-radius:8px;border:2px solid ",";background-color:",";}&::-webkit-scrollbar-track{background-color:",";}"],o.w.White,o.w.Gray500,o.w.Gray100,o.w.Gray100,o.w.Gray500,o.w.Gray100)},30150:function(e,n,t){t.d(n,{_9:function(){return x},mR:function(){return v},J2:function(){return j},iv:function(){return w},Tg:function(){return b}});var r,i,o=t(99500),a=t(95764),s=t(3159),l=t(24972),c=t(325),u=t(25496),d=t(47072),p=t(39151),h=t(27218),f=t(2112),m=t(5484),x={"FAILURE-SUCCESS":"SUCCESS","SKIPPED-SUCCESS":"SUCCESS","SUCCESS-FAILURE":"FAILURE","SKIPPED-FAILURE":"FAILURE","FAILURE-SKIPPED":"SKIPPED","SUCCESS-SKIPPED":"SKIPPED"};function g(e){return e.startTime||0}function y(e,n){return g(e)-g(n)}function v(e,n){var t=new RegExp(e+"\\[.*\\]");return n===e||n==="".concat(e,".compute")||n.match(t)}var j=function(e){var n=c.useRef();if(!e.solidHandles)return null;if(n.current&&(0,l.shallowCompareKeys)(e,n.current.inputs))return n.current.result;var t=(0,h.i)(e.solidHandles).map((function(e){return e.solid})),r=(0,u.V)(t,e.stepQuery),i=function(e,n,t,r){var i={};t.forEach((function(e){e.runs.sort(y),i[e.name]=e}));var o=n.map((function(n,t){var r=i[n]||{name:n,runsLoaded:!1,runs:[]},o=e.boxes.map((function(e){var n,t=e.node,i={name:t.name,color:"MISSING",unix:0};if(!r.runs.length)return i;var o=r.runs[r.runs.length-1],a=null===(n=o.stepStats.find((function(e){return v(t.name,e.stepKey)})))||void 0===n?void 0:n.status;return a&&a!==m.SG.IN_PROGRESS?{name:t.name,unix:g(o),color:a}:i}));return(0,a.Z)((0,a.Z)({},r),{},{steps:o,idx:t})})),s=o.filter((function(e){return e.runs.length>0})).length,l=e.boxes.map((function(e,n){var t=o.filter((function(e){return e.steps[n].color.includes("FAILURE")})),r=o.filter((function(e){return e.steps[n].color.endsWith("FAILURE")}));return{x:e.x,name:e.node.name,totalFailurePercent:s?Math.round(t.length/s*100):0,finalFailurePercent:s?Math.round(r.length/s*100):0}}));if(null!==r&&void 0!==r&&r.showFailuresAndGapsOnly){for(var c=function(e){0===l[e].finalFailurePercent&&(l.splice(e,1),o.forEach((function(n){return n.steps.splice(e,1)})))},u=l.length-1;u>=0;u--)c(u);for(var d=o.length-1;d>=0;d--)(0===o[d].runs.length||o[d].steps.every((function(e){return e.color.includes("SUCCESS")})))&&o.splice(d,1)}return{stepRows:l,partitions:t,partitionColumns:o}}((0,p.tc)({nodes:r.all,mode:d.hS.FLAT}),e.partitionNames,e.partitions,e.options);return n.current={result:i,inputs:e},i},w=(0,s.Ps)(r||(r=(0,o.Z)(["\n  fragment PartitionMatrixStepRunFragment on Run {\n    id\n    runId\n    status\n    startTime\n    endTime\n    stepStats {\n      stepKey\n      startTime\n      endTime\n      status\n    }\n    tags {\n      key\n      value\n    }\n  }\n"]))),b=(0,s.Ps)(i||(i=(0,o.Z)(["\n  fragment PartitionMatrixSolidHandleFragment on SolidHandle {\n    handleID\n    solid {\n      name\n      definition {\n        name\n      }\n      inputs {\n        dependsOn {\n          solid {\n            name\n          }\n        }\n      }\n      outputs {\n        dependedBy {\n          solid {\n            name\n          }\n        }\n      }\n    }\n    ...GraphExplorerSolidHandleFragment\n  }\n  ","\n"])),f.Q)},73974:function(e,n,t){t.d(n,{T:function(){return v}});var r,i=t(99500),o=t(59019),a=t(85358),s=t(95764),l=t(19065),c=t(95550),u=t.n(c),d=t(31522),p=t(3159),h=t(325),f=t(12436),m=t(28064),x=t(5484),g=t(30150),y={runs:[],partitionNames:[],loading:!1,loadingCursorIdx:0};function v(e,n,t,r,i,c,p){var f=(0,d.x)(),g=h.useRef(0),v=h.useState(y),w=(0,l.Z)(v,2),b=w[0],k=w[1],S=h.useMemo((function(){return JSON.stringify(r.map((function(e){var n=e.value.split("="),t=(0,l.Z)(n,2);return{key:t[0],value:t[1]}})))}),[r]);return h.useEffect((function(){var r=g.current+1;g.current=r;var l=JSON.parse(S);k((function(e){return(0,s.Z)((0,s.Z)({},e),{},{runs:[],loading:!0})}));var d=function(){var d=(0,a.Z)(u().mark((function d(){var p,h,y,v,w;return u().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(g.current===r){d.next=2;break}return d.abrupt("return");case 2:p=n.length-(c||0),h=Math.max(0,p-t),k((function(e){return(0,s.Z)((0,s.Z)({},e),{},{partitionNames:n,loadingCursorIdx:p})})),5,y=u().mark((function t(){var a,c,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Math.max(p-5,0),c=n.slice(a,p),t.next=4,Promise.all(c.map((function(n){var t={key:m.H.PartitionSet,value:e},r={key:m.H.Partition,value:n},a=i?{pipelineName:i,tags:[].concat((0,o.Z)(l),[r])}:{tags:[].concat((0,o.Z)(l),[r,t])};return j(f,{limit:1e3,filter:a})})));case 4:if(d=t.sent,g.current===r){t.next=7;break}return t.abrupt("return",{v:void 0});case 7:p=a,k((function(e){var n;return(0,s.Z)((0,s.Z)({},e),{},{runs:(n=(0,o.Z)(e.runs)).concat.apply(n,(0,o.Z)(d)),loading:p>0,loadingCursorIdx:p})}));case 9:case"end":return t.stop()}}),t)}));case 7:if(!(p>h)){d.next=14;break}return d.delegateYield(y(),"t0",9);case 9:if("object"!==typeof(v=d.t0)){d.next=12;break}return d.abrupt("return",v.v);case 12:d.next=7;break;case 14:w=setInterval((0,a.Z)(u().mark((function t(){var i,a,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g.current===r){t.next=2;break}return t.abrupt("return",clearInterval(w));case 2:return k((function(e){return(0,s.Z)((0,s.Z)({},e),{},{loading:!0})})),t.next=5,j(f,{limit:10,filter:{tags:[].concat((0,o.Z)(l),[{key:m.H.PartitionSet,value:e}])}});case 5:return i=t.sent,t.next=8,j(f,{filter:{statuses:[x.VO.STARTED],tags:[].concat((0,o.Z)(l),[{key:m.H.PartitionSet,value:e}])}});case 8:if(a=t.sent,g.current===r){t.next=11;break}return t.abrupt("return",clearInterval(w));case 11:c=[].concat((0,o.Z)(a),(0,o.Z)(i)).filter((function(e){return e.tags.find((function(e){return e.key===m.H.Partition&&n.includes(e.value)}))})),k((function(e){var n=e.runs.filter((function(e){return!c.some((function(n){return n.runId===e.runId}))})).concat(c);return(0,s.Z)((0,s.Z)({},e),{},{loading:!1,runs:n})}));case 13:case"end":return t.stop()}}),t)}))),1e4);case 15:case"end":return d.stop()}}),d)})));return function(){return d.apply(this,arguments)}}();return p||d(),function(){g.current+=1}}),[t,f,e,S,i,c,n,p]),function(e){var n=[],t={};return e.partitionNames.forEach((function(r,i){t[r]={name:r,runsLoaded:i>=e.loadingCursorIdx,runs:[]},n.push(t[r])})),e.runs.forEach((function(e){var n,r,i=(null===(n=e.tags.find((function(e){return e.key===m.H.Partition})))||void 0===n?void 0:n.value)||"";null===(r=t[i])||void 0===r||r.runs.push(e)})),n}(b)}function j(e,n){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)(u().mark((function e(n,t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query({fetchPolicy:"network-only",query:b,variables:t});case 2:return r=e.sent,e.abrupt("return","Runs"===r.data.pipelineRunsOrError.__typename&&r.data.pipelineRunsOrError.results||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=(0,p.Ps)(r||(r=(0,i.Z)(["\n  query PartitionStepLoaderQuery($filter: RunsFilter!, $cursor: String, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, cursor: $cursor, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          ...PartitionMatrixStepRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),g.iv,f.Bq)},27218:function(e,n,t){t.d(n,{i:function(){return a}});var r=t(59019),i=t(19065);function o(e,n){if("CompositeSolidDefinition"!==n.solid.definition.__typename)throw new Error("explodeComposite takes a composite handle.");var t=e.filter((function(e){return e.handleID==="".concat(n.handleID,".").concat(e.solid.name)}));return t.forEach((function(e){e.solid.name=e.handleID,e.solid.inputs.forEach((function(e){e.dependsOn.forEach((function(e){e.solid.name="".concat(n.handleID,".").concat(e.solid.name)}))})),e.solid.outputs.forEach((function(e){e.dependedBy.forEach((function(e){e.solid.name="".concat(n.handleID,".").concat(e.solid.name)}))}))})),n.solid.definition.inputMappings.forEach((function(t){var o,a=n.solid.inputs.find((function(e){return e.definition.name===t.definition.name}));if(a){var s="".concat(n.solid.name,".").concat(t.mappedInput.solid.name),l=e.filter((function(e){return e.handleID===s})),c=(0,i.Z)(l,1)[0];if(c){var u=c.solid.inputs.find((function(e){return e.definition.name===t.mappedInput.definition.name}));u?((o=u.dependsOn).push.apply(o,(0,r.Z)(a.dependsOn)),e.forEach((function(e){return e.solid.outputs.forEach((function(e){e.dependedBy.forEach((function(e){e.solid.name===n.solid.name&&e.definition.name===a.definition.name&&(e.solid.name=s,e.definition.name=u.definition.name)}))}))}))):console.warn("CompositeSupport: No interior solid input matching ".concat(t.mappedInput.definition.name))}else console.warn("CompositeSupport: No interior solid matching ".concat(s))}else console.warn("CompositeSupport: No composite input matching ".concat(t.definition.name))})),n.solid.definition.outputMappings.forEach((function(t){var o,a=n.solid.outputs.find((function(e){return e.definition.name===t.definition.name}));if(a){var s="".concat(n.solid.name,".").concat(t.mappedOutput.solid.name),l=e.filter((function(e){return e.handleID===s})),c=(0,i.Z)(l,1)[0];if(c){var u=c.solid.outputs.find((function(e){return e.definition.name===t.mappedOutput.definition.name}));u?((o=u.dependedBy).push.apply(o,(0,r.Z)(a.dependedBy)),e.forEach((function(e){return e.solid.inputs.forEach((function(e){e.dependsOn.forEach((function(e){e.solid.name===n.solid.name&&e.definition.name===a.definition.name&&(e.solid.name=s,e.definition.name=u.definition.name)}))}))}))):console.warn("CompositeSupport: No interior solid output matching ".concat(t.mappedOutput.definition.name))}else console.warn("CompositeSupport: No interior solid matching ".concat(s))}else console.warn("CompositeSupport: No composite input matching ".concat(t.definition.name))})),t}function a(e){for(var n=(e=JSON.parse(JSON.stringify(e))).filter((function(e){return!e.handleID.includes(".")}));;){var t=n.findIndex((function(e){return"CompositeSolidDefinition"===e.solid.definition.__typename}));if(-1===t)break;n.splice.apply(n,[t,1].concat((0,r.Z)(o(e,n[t]))))}return n}},10922:function(e,n,t){t.d(n,{d:function(){return p}});var r=t(57994),i=t(98907),o=t(64428),a=t(28463),s=t(922),l=t(37170),c=t(325),u=t(32289);function d(e){var n=/^\n?( +)/.exec(e);if(null==n)return e;var t=e.split("\n");return t.every((function(e){return""===e.substr(0,n[1].length).trim()}))?t.map((function(e){return e.substr(n[1].length)})).join("\n"):e}var p=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o)))._container=c.createRef(),e.state={hasMore:!1,expanded:!1},e}return(0,i.Z)(t,[{key:"componentDidMount",value:function(){this.updateHandleState()}},{key:"componentDidUpdate",value:function(){this.updateHandleState()}},{key:"updateHandleState",value:function(){if(this._container.current){var e=this._container.current.clientHeight>(this.props.maxHeight||320);e!==this.state.hasMore&&this.setState({hasMore:e})}}},{key:"render",value:function(){var e=this;if(!this.props.description||0===this.props.description.length)return null;var n=this.state,t=n.expanded,r=n.hasMore;return(0,u.jsxs)(h,{onDoubleClick:function(){var n=document.getSelection();if(n&&e._container.current){var t=document.createRange();t.selectNodeContents(e._container.current),n.removeAllRanges(),n.addRange(t)}},style:{maxHeight:t?void 0:this.props.maxHeight||320},children:[!t&&r&&(0,u.jsx)(f,{}),r&&(0,u.jsx)(m,{onClick:function(){return e.setState({expanded:!t})},children:t?"Show Less":"Show More"}),(0,u.jsx)("div",{ref:this._container,style:{overflowX:"auto"},children:(0,u.jsx)(l.U,{children:d(this.props.description)})})]})}}]),t}(c.Component),h=s.ZP.div.withConfig({displayName:"Description__Container",componentId:"mitfqj-0"})(["overflow:hidden;font-size:0.8rem;position:relative;p:last-child{margin-bottom:0;}"]),f=s.ZP.div.withConfig({displayName:"Description__Mask",componentId:"mitfqj-1"})(["position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient( to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 70%,rgba(255,255,255,1) );pointer-events:none;border-bottom:1px solid #eee;"]),m=s.ZP.a.withConfig({displayName:"Description__ShowMoreHandle",componentId:"mitfqj-2"})(["line-height:20px;position:absolute;padding:0 14px;bottom:0;left:50%;height:20px;transform:translate(-50%);background:#eee;"])},2112:function(e,n,t){t.d(n,{bg:function(){return xn},Sm:function(){return mn},Q:function(){return gn},m0:function(){return fn},cY:function(){return jn},U0:function(){return bn},Ui:function(){return yn},zI:function(){return vn}});var r=t(99500),i=t(59019),o=t(95764),a=t(19065),s=t(922),l=t(3159),c=t(33918),u=t(17912),d=t(50346),p=t(88863),h=t(7838),f=t(88318),m=t.n(f),x=t(41332),g=t.n(x),y=t(325),v=t(27601),j=t(25496),w=t(39061),b=t(57994),k=t(98907),S=t(64428),C=t(28463),N=t(76341),E=t(32289),_=(0,N.Dm)((function(e,n){return e.map((function(e){var t=e.from,r=e.to,i=n[t.opName],o=i.outputs[t.edgeName]||Object.values(i.outputs).find((function(e){return e.collapsed.includes(t.edgeName)})),a=n[r.opName],s=a.inputs[r.edgeName]||Object.values(a.inputs).find((function(e){return e.collapsed.includes(r.edgeName)}));return o&&s?{path:(0,w.cD)({source:o.port,target:s.port}),sourceOutput:o,targetInput:s,from:t,to:r}:(console.log("Unexpected error: An input or output is not reflected in the DAG layout"),null)})).filter((function(e){return!!e}))})),I=function(e,n){var t=e.find((function(e){return e.name===n.opName})),r=null===t||void 0===t?void 0:t.definition.outputDefinitions.find((function(e){return e.name===n.edgeName}));return(null===r||void 0===r?void 0:r.isDynamic)||!1},Z=function(e,n){var t=e.find((function(e){return e.name===n.opName})),r=null===t||void 0===t?void 0:t.inputs.find((function(e){return e.definition.name===n.edgeName}));return(null===r||void 0===r?void 0:r.isDynamicCollect)||!1},T=y.memo((function(e){return(0,E.jsx)("g",{children:_(e.edges,e.layout.nodes).map((function(n,t){var r=n.path,i=n.from,o=n.sourceOutput,a=n.targetInput,s=n.to;return(0,E.jsxs)("g",{onMouseLeave:function(){return e.onHighlight([])},onMouseEnter:function(){return e.onHighlight([{a:i.opName,b:s.opName}])},children:[(0,E.jsx)(O,{d:r,style:{stroke:e.color}}),I(e.ops,i)&&(0,E.jsx)(R,{color:e.color,x:o.layout.x,y:o.layout.y,direction:"output"}),Z(e.ops,s)&&(0,E.jsx)(R,{color:e.color,x:a.layout.x,y:a.layout.y,direction:"collect"})]},t)}))})}));T.displayName="OpEdges";var P,R=function(e){var n=e.x,t=e.y,r=e.direction,i=e.color;return(0,E.jsxs)("g",{fill:i,transform:"translate(".concat(n-35,", ").concat(t,")").concat("collect"===r?",rotate(180),translate(-20, -40)":""),children:[(0,E.jsx)("title",{children:"output"===r?"DynamicOutput":"DynamicCollect"}),(0,E.jsx)("polygon",{points:"14.2050781 21 14.0400391 15.2236328 18.953125 18.2705078 20.984375 14.7285156 15.8935547 11.9736328 20.984375 9.21875 18.953125 5.68945312 14.0400391 8.72363281 14.2050781 2.95996094 10.1425781 2.95996094 10.2949219 8.72363281 5.38183594 5.68945312 3.36328125 9.21875 8.45410156 11.9736328 3.36328125 14.7285156 5.38183594 18.2705078 10.2949219 15.2236328 10.1425781 21"}),(0,E.jsx)("polygon",{points:"18.6367188 35.1669922 20.8203125 32.9707031 12.0605469 24.2109375 3.28808594 32.9707031 5.47167969 35.1669922 12.0605469 28.5908203"})]})},O=(0,s.ZP)("path").withConfig({displayName:"OpEdges__StyledPath",componentId:"sc-1j9v42n-0"})(["stroke-width:4;fill:none;"]),D=t(79447),L=t(16521),A=t(44441),F=t(81034),M=t(8546),z=["y","width","size","text","allowTwoLines"],G=["minified","label","fill","className"],K=.53,U=function(e,n){return e.length>n?e.substr(0,n-1)+"\u2026":e},B=function(e){(0,S.Z)(t,e);var n=(0,C.Z)(t);function t(){return(0,b.Z)(this,t),n.apply(this,arguments)}return(0,k.Z)(t,[{key:"render",value:function(){var e=this.props,n=e.y,t=e.width,r=e.size,i=e.text,a=e.allowTwoLines,s=(0,F.Z)(e,z),l=t?Math.round(t/(r*K)):i.length,c="",u="";if(a){for(var d=i.split("_");d.length&&c.length+d[0].length<=l;)c+=d.shift()+(d.length>0?"_":"");u=U(d.join("_"),l)}else c=U(i,l);var p=(Number(n)||0)-(u.length>0?1.25*Number(r)/2:0),h={fontFamily:M.b.monospace,fontSize:"".concat(r,"px"),pointerEvents:"none"};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("text",(0,o.Z)((0,o.Z)({},s),{},{y:p,style:h,width:c.length*r*K,height:r,dominantBaseline:"hanging",children:c})),u&&(0,E.jsx)("text",(0,o.Z)((0,o.Z)({},s),{},{y:p+1.25*Number(r),style:h,width:u.length*r*K,height:r,dominantBaseline:"hanging",children:u}))]})}}],[{key:"intrinsicSizeForProps",value:function(e){return{width:Math.min(e.text.length*e.size*K),height:e.size}}}]),t}(y.PureComponent),$=t(66956),V=function(e){var n=e.layout,t=e.target,r=e.edges,i=e.label,a=e.labelAttachment,s=e.minified,l=e.highlightedEdges,c=e.onHighlightEdges,u=e.onDoubleClickLabel,d={width:0,size:s?24:12,text:i},p=B.intrinsicSizeForProps(d),h=r.some((function(e){return(0,$.Id)(l,e)}))?"#555":"#C7CBCD";if(!n)return null;var f={x:n.x-p.width/2,y:n.y+("top"===a?-10-p.height:10)};return(0,E.jsxs)("g",{onMouseEnter:function(){return c(r)},onMouseLeave:function(){return c([])},children:[(0,E.jsx)(q,(0,o.Z)((0,o.Z)((0,o.Z)({},p),f),{},{onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){e.stopPropagation(),u()}})),(0,E.jsx)("ellipse",{cx:n.x,cy:n.y,rx:7,ry:7,fill:h}),(0,E.jsx)(B,(0,o.Z)((0,o.Z)((0,o.Z)({},d),p),f)),(0,E.jsx)(A.Z,{style:{stroke:h,strokeWidth:6,fill:"none"},data:{source:n,target:t}})]})},q=(0,s.ZP)("rect").withConfig({displayName:"ExternalConnectionNode__BackingRect",componentId:"sc-1myb27t-0"})(["stroke-width:10px;fill:",";stroke:",";&:hover{fill:",";stroke:",";}"],h.w.Gray100,h.w.Gray100,h.w.Gray200,h.w.Gray200),H=function(e){var n=e.source,t=e.target,r=e.minified,i=e.leftEdgeX,o=e.edge,a=e.highlightedEdges,s=e.onHighlightEdges,l=(0,$.Id)(a,o);return(0,E.jsxs)("g",{onMouseEnter:function(){return s([o])},onMouseLeave:function(){return s([])},children:[(0,E.jsx)("path",{d:"M ".concat(n.x," ").concat(n.y," H ").concat(i," V ").concat(t.y," H ").concat(t.x),fill:"none",strokeWidth:r?6:5,strokeLinecap:"round",stroke:l?"black":"rgb(137, 206, 206)"}),(0,E.jsx)("path",{d:"M ".concat(n.x," ").concat(n.y," H ").concat(i," V ").concat(t.y," H ").concat(t.x),fill:"none",strokeWidth:4,strokeLinecap:"round",stroke:"white"})]})},W=t(46518),J=function(e){var n=e.layout,t=e.op,r=e.minified,i=e.op.definition;if("CompositeSolidDefinition"!==i.__typename)throw new Error("Parent op is not a composite - how did this happen?");var a=n.parent;if(!a)throw new Error("Parent op rendered when no parent layout is present.");var s=a.bounds,l=a.mappingLeftEdge,c=a.mappingLeftSpacing,u={highlightedEdges:e.highlightedEdges,onHighlightEdges:e.onHighlightEdges,onDoubleClick:e.onDoubleClick,onClickOp:e.onClickOp};return s.height<0||s.width<0?(0,E.jsx)("g",{}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Y,(0,o.Z)((0,o.Z)({},s),{},{label:t.definition.name,fill:h.w.Gray50,minified:r})),i.inputMappings.map((function(e,t){var i=e.definition,s=e.mappedInput,d=n.nodes[s.solid.name];if(!d)return(0,E.jsx)("g",{});var p=a.inputs[i.name].port,h=d.inputs[s.definition.name].port;return(0,y.createElement)(H,(0,o.Z)((0,o.Z)({},u),{},{key:"in-".concat(t),target:h,source:p,minified:r,leftEdgeX:l-t*c,edge:{a:(0,L.R)(s),b:W.nn}}))})),i.outputMappings.map((function(e,t){var i=e.definition,s=e.mappedOutput,d=n.nodes[s.solid.name];if(!d)return(0,E.jsx)("g",{});var p=a.outputs[i.name].port,h=d.outputs[s.definition.name].port;return(0,y.createElement)(H,(0,o.Z)((0,o.Z)({},u),{},{key:"out-".concat(t),target:h,source:p,minified:r,leftEdgeX:l-t*c,edge:{a:(0,L.R)(s),b:W.vN}}))})),(0,E.jsxs)("foreignObject",{width:n.width,height:n.height,style:{pointerEvents:"none"},children:[t.definition.inputDefinitions.map((function(n,i){var s=(0,W.zy)(t.definition,n),l=t.inputs.find((function(e){return e.definition.name===n.name}));return(0,E.jsxs)(y.Fragment,{children:[l.dependsOn.map((function(t,i){return(0,y.createElement)(V,(0,o.Z)((0,o.Z)((0,o.Z)({},u),s),{},{key:i,labelAttachment:"top",label:(0,L.R)(t),minified:r,layout:a.dependsOn[(0,L.R)(t)],target:a.inputs[n.name].port,onDoubleClickLabel:function(){return e.onClickOp({path:["..",t.solid.name]})}}))})),(0,E.jsx)(W.r7,(0,o.Z)((0,o.Z)((0,o.Z)({},u),s),{},{minified:r,colorKey:"input",item:n,layoutInfo:a.inputs[n.name]}))]},i)})),t.definition.outputDefinitions.map((function(n,i){var s=(0,W.zy)(t.definition,n),l=t.outputs.find((function(e){return e.definition.name===n.name}));return(0,E.jsxs)(y.Fragment,{children:[l.dependedBy.map((function(t,i){return(0,y.createElement)(V,(0,o.Z)((0,o.Z)((0,o.Z)({},u),s),{},{key:i,labelAttachment:"bottom",label:(0,L.R)(t),minified:r,layout:a.dependedBy[(0,L.R)(t)],target:a.outputs[n.name].port,onDoubleClickLabel:function(){return e.onClickOp({path:["..",t.solid.name]})}}))})),(0,E.jsx)(W.r7,(0,o.Z)((0,o.Z)((0,o.Z)({},u),s),{},{minified:r,colorKey:"output",item:n,layoutInfo:a.outputs[n.name]}))]},i)}))]})]})},Y=(0,s.ZP)((function(e){var n=e.minified,t=e.label,r=e.fill,i=e.className,a=(0,F.Z)(e,G);return(0,E.jsxs)("g",{children:[(0,E.jsx)("rect",(0,o.Z)((0,o.Z)({},a),{},{fill:r,stroke:"#979797",strokeWidth:1,className:i})),(0,E.jsx)(B,{x:a.x+(n?10:5),y:a.y+(n?10:5),height:void 0,size:n?30:16,text:t,fill:"#979797"})]})})).withConfig({displayName:"ParentOpNode__SVGLabeledParentRect",componentId:"h5nwf8-0"})(["transition:x 250ms ease-out,y 250ms ease-out,width 250ms ease-out,height 250ms ease-out;"]),Q=t(85532),X=function(){},ee=y.memo((function(e){var n=y.useState((function(){return[]})),t=(0,a.Z)(n,2),r=t[0],i=t[1],s=e.layout,l=e.minified,c=e.ops,u=e.viewportRect,d=e.focusOps,p=e.parentOp,f=e.parentHandleID,m=e.onClickOp,x=void 0===m?X:m,g=e.onDoubleClickOp,v=void 0===g?X:g,j=e.onEnterSubgraph,w=void 0===j?X:j,b=e.highlightedOps,k=e.selectedOp;return(0,E.jsxs)(E.Fragment,{children:[p&&s.parent&&s.parent.invocationBoundingBox.width>0&&(0,y.createElement)(Y,(0,o.Z)((0,o.Z)({},s.parent.invocationBoundingBox),{},{key:"composite-rect-".concat(f),label:"",fill:h.w.Yellow50,minified:l})),p&&(0,E.jsx)(J,{onClickOp:x,onDoubleClick:function(e){return v({name:e})},onHighlightEdges:i,highlightedEdges:r,minified:l,op:p,layout:s},"composite-rect-".concat(f,"-definition")),(0,E.jsx)(T,{ops:c,layout:s,color:h.w.KeylineGray,edges:s.edges,onHighlight:i}),(0,E.jsx)(T,{ops:c,layout:s,color:h.w.Blue500,onHighlight:i,edges:s.edges.filter((function(e){var n=e.from,t=e.to;return(0,$.Id)(r,{a:n.opName,b:t.opName})}))}),(0,$.zW)(s).map((function(e,n){return(0,E.jsx)("rect",(0,o.Z)((0,o.Z)({},e),{},{stroke:"rgb(230, 219, 238)",fill:"rgba(230, 219, 238, 0.2)",strokeWidth:2}),n)})),(0,E.jsx)("foreignObject",{width:s.width,height:s.height,style:{pointerEvents:"none"},children:c.filter((function(e){return!(0,$.we)(s.nodes[e.name].bounds,u)})).map((function(e){return(0,E.jsx)(D.Un,{invocation:e,definition:e.definition,minified:l,onClick:function(){return x({name:e.name})},onDoubleClick:function(){return v({name:e.name})},onEnterComposite:function(){return w({name:e.name})},onHighlightEdges:i,layout:s.nodes[e.name],selected:k===e,focused:d.includes(e),highlightedEdges:(0,$.Q4)(r,e.name)?r:ie,dim:b.length>0&&-1===b.indexOf(e)},e.name)}))})]})}));ee.displayName="OpGraphContents";var ne,te,re,ie=[],oe=function(e){(0,S.Z)(t,e);var n=(0,C.Z)(t);function t(){var e;(0,b.Z)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).viewportEl=y.createRef(),e.argToOpLayout=function(n){var t="name"in n?n.name:n.path[n.path.length-1];return e.props.layout.nodes[t]},e.centerOp=function(n){var t=e.argToOpLayout(n);t&&e.viewportEl.current&&e.viewportEl.current.zoomToSVGBox(t.bounds,!0)},e.focusOnOp=function(n){var t,r=e.argToOpLayout(n);r&&e.viewportEl.current&&(null===(t=e.viewportEl.current)||void 0===t||t.zoomToSVGBox(r.bounds,!0,Q.i))},e.unfocus=function(n){e.viewportEl.current.autocenter(!0),n.stopPropagation()},e.onArrowKeyDown=function(n,t){var r,i=(0,$.mh)(e.props.layout,null===(r=e.props.selectedOp)||void 0===r?void 0:r.name,t);i&&e.props.onClickOp&&e.props.onClickOp({name:i})},e}return(0,k.Z)(t,[{key:"componentDidUpdate",value:function(e){e.parentOp!==this.props.parentOp&&(this.viewportEl.current.cancelAnimations(),this.viewportEl.current.autocenter()),e.layout!==this.props.layout&&this.viewportEl.current.autocenter(),e.selectedOp!==this.props.selectedOp&&this.props.selectedOp&&this.centerOp(this.props.selectedOp)}},{key:"render",value:function(){var e=this,n=this.props,t=n.layout,r=n.interactor,i=n.jobName,a=n.onClickBackground,s=n.onDoubleClickOp;return(0,E.jsx)(Q.l,{ref:this.viewportEl,maxZoom:1.2,interactor:r||Q.l.Interactors.PanAndZoom,graphWidth:t.width,graphHeight:t.height,onClick:a,onDoubleClick:this.unfocus,onArrowKeyDown:this.onArrowKeyDown,children:function(n,r){var i=n.scale;return(0,E.jsx)(se,{width:t.width,height:t.height+200,children:(0,E.jsx)(ee,(0,o.Z)((0,o.Z)({},e.props),{},{layout:t,minified:i<Q.i-.01,onDoubleClickOp:s||e.focusOnOp,viewportRect:r}))})}},i)}}]),t}(y.Component),ae=(0,l.Ps)(P||(P=(0,r.Z)(["\n  fragment OpGraphOpFragment on Solid {\n    name\n    ...OpNodeInvocationFragment\n    definition {\n      name\n      ...OpNodeDefinitionFragment\n    }\n  }\n  ","\n  ","\n"])),D.wi,D.WH),se=s.ZP.svg.withConfig({displayName:"OpGraph__SVGContainer",componentId:"bj9fm3-0"})(["overflow:visible;border-radius:0;"]),le=t(76867),ce=t(65164),ue=t(19910),de=t(80339),pe=t(32030),he=t(31269),fe=t(73701),me=t(50741),xe=t(76336),ge=t(71725),ye=t(74549),ve=t(33208),je=t(4735),we=t(37117),be=t(10922),ke=t(53857),Se=t(33774),Ce=function(e){var n,t=e.type,r=t.name,i=t.metadataEntries,o=t.inputSchemaType,a=t.outputSchemaType,s=t.description,l=(0,ve.dj)(e.type),c="standard"===l?r:"".concat(r," (").concat(l,")"),u=null===(n=i.find((0,N.Dk)("TableSchemaMetadataEntry")))||void 0===n?void 0:n.schema;return(0,E.jsxs)("div",{children:[(0,E.jsx)(ke.P3,{}),(0,E.jsx)(pe.x,{padding:{vertical:16,horizontal:24},children:(0,E.jsxs)(ke.R8,{children:[(0,E.jsx)(ye.rU,{to:"?tab=types",children:e.isGraph?"Graph types":"Pipeline types"})," > ",c]})}),(0,E.jsx)(ke.pC,{title:"Description",children:(0,E.jsx)(pe.x,{padding:{vertical:16,horizontal:24},children:(0,E.jsx)(be.d,{description:s||"No Description Provided"})})}),u&&(0,E.jsx)(ke.pC,{title:"Columns",children:(0,E.jsx)(we.p,{schema:u,itemHorizontalPadding:24})}),o&&(0,E.jsx)(ke.pC,{title:"Input",children:(0,E.jsx)(pe.x,{padding:{vertical:16,horizontal:24},children:(0,E.jsx)(ge.L,{type:o,typesInScope:o.recursiveConfigTypes})})}),a&&(0,E.jsx)(ke.pC,{title:"Output",children:(0,E.jsx)(pe.x,{padding:{vertical:16,horizontal:24},children:(0,E.jsx)(ge.L,{type:a,typesInScope:a.recursiveConfigTypes})})})]})},Ne=(0,l.Ps)(ne||(ne=(0,r.Z)(["\n  fragment TypeExplorerFragment on DagsterType {\n    name\n    description\n    metadataEntries {\n      ...MetadataEntryFragment\n    }\n    inputSchemaType {\n      ...ConfigTypeSchemaFragment\n      recursiveConfigTypes {\n        ...ConfigTypeSchemaFragment\n      }\n    }\n    outputSchemaType {\n      ...ConfigTypeSchemaFragment\n      recursiveConfigTypes {\n        ...ConfigTypeSchemaFragment\n      }\n    }\n  }\n  ","\n  ","\n"])),je.it,Se.S),Ee=function(e){var n=e.explorerPath,t=e.typeName,r=e.repoAddress,i=(0,xe._T)(r||null,n.pipelineName),o=(0,fe.a)(_e,{fetchPolicy:"cache-and-network",variables:{pipelineSelector:i,dagsterTypeName:t}});return(0,E.jsx)(me.g,{queryResult:o,children:function(e){return e.pipelineOrError&&"Pipeline"===e.pipelineOrError.__typename&&e.pipelineOrError.dagsterTypeOrError&&"RegularDagsterType"===e.pipelineOrError.dagsterTypeOrError.__typename?(0,E.jsx)(Ce,{isGraph:e.pipelineOrError.isJob,type:e.pipelineOrError.dagsterTypeOrError}):(0,E.jsx)("div",{children:"Type Not Found"})}})},_e=(0,l.Ps)(te||(te=(0,r.Z)(["\n  query TypeExplorerContainerQuery(\n    $pipelineSelector: PipelineSelector!\n    $dagsterTypeName: String!\n  ) {\n    pipelineOrError(params: $pipelineSelector) {\n      __typename\n      ... on Pipeline {\n        id\n        isJob\n        dagsterTypeOrError(dagsterTypeName: $dagsterTypeName) {\n          __typename\n          ... on RegularDagsterType {\n            ...TypeExplorerFragment\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),Ne),Ie=t(89646),Ze=t(48953),Te=t(95924);var Pe,Re,Oe,De,Le,Ae,Fe,Me,ze,Ge=function(e){var n=function(e){var n={Custom:Array(),"Built-in":Array()};return e.forEach((function(e){e.isBuiltin?n["Built-in"].push(e):n.Custom.push(e)})),n}(e.types);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(ke.P3,{}),(0,E.jsx)(pe.x,{padding:{vertical:16,horizontal:24},children:(0,E.jsx)(ke.R8,{children:e.isGraph?"Graph types":"Pipeline types"})}),Object.keys(n).map((function(e,t){var r=n[e],i=0!==t||0===n[e].length;return(0,E.jsx)(ke.pC,{title:e,collapsedByDefault:i,children:(0,E.jsx)(pe.x,{padding:{vertical:16,horizontal:24},children:r.length?(0,E.jsx)(Ue,{children:n[e].map((function(e,n){return(0,E.jsx)(Be,{children:(0,E.jsx)(Te.g,{type:e})},n)}))}):(0,E.jsx)("div",{style:{color:h.w.Gray500,fontSize:"12px"},children:"None"})})},t)}))]})},Ke=(0,l.Ps)(re||(re=(0,r.Z)(["\n  fragment TypeListFragment on DagsterType {\n    name\n    isBuiltin\n    ...DagsterTypeWithTooltipFragment\n  }\n\n  ","\n"])),Te.B),Ue=s.ZP.ul.withConfig({displayName:"TypeList__StyledUL",componentId:"sc-1e0pavz-0"})(["display:flex;flex-direction:column;gap:8px;margin:0;padding:0;"]),Be=s.ZP.li.withConfig({displayName:"TypeList__TypeLI",componentId:"sc-1e0pavz-1"})(["list-style-type:none;"]),$e=function(e){var n=e.explorerPath,t=e.repoAddress,r=n.pipelineName,i=n.snapshotId,o=(0,xe.vl)().options,a=y.useMemo((function(){if(!t){var e=(0,Ze.k)(o,r,i);return e.length?(0,xe._T)((0,xe.Zj)(e[0]),r):null}return(0,xe._T)(t,r)}),[o,r,t,i]),s=(0,fe.a)(Ve,{fetchPolicy:"cache-and-network",variables:{pipelineSelector:a},skip:!a});return a?(0,E.jsx)(me.g,{queryResult:s,children:function(e){return"Pipeline"===e.pipelineOrError.__typename?(0,E.jsx)(Ge,{types:e.pipelineOrError.dagsterTypes,isGraph:e.pipelineOrError.isJob}):null}}):(0,E.jsx)(pe.x,{margin:48,children:(0,E.jsx)(Ie.t,{icon:"error",title:"Could not fetch types for snapshot"})})},Ve=(0,l.Ps)(Pe||(Pe=(0,r.Z)(["\n  query TypeListContainerQuery($pipelineSelector: PipelineSelector!) {\n    pipelineOrError(params: $pipelineSelector) {\n      __typename\n      ... on Pipeline {\n        id\n        isJob\n        name\n        dagsterTypes {\n          ...TypeListFragment\n        }\n      }\n    }\n  }\n\n  ","\n"])),Ke),qe=t(37286),He=t(23496),We=t(34595),Je=t(11831),Ye=t(55853),Qe=t(41080),Xe=t(55752),en={SUCCESS:h.w.Green500,FAILURE:h.w.Red500,SKIPPED:h.w.Gray500},nn=function(e){var n,t,r=e.repoAddress,o=e.handleID,s=e.pipelineName,l=e.solidName,c=y.useState(null),u=(0,a.Z)(c,2),d=u[0],p=u[1],f=(0,fe.a)(tn,{variables:{handleID:o,selector:{repositoryName:r.name,repositoryLocationName:r.location,pipelineName:s}},fetchPolicy:"cache-and-network"}),m="Pipeline"===(null===(n=f.data)||void 0===n?void 0:n.pipelineOrError.__typename)?null===(t=f.data.pipelineOrError.solidHandle)||void 0===t?void 0:t.stepStats:void 0,x=m&&"SolidStepStatsConnection"===m.__typename?m.nodes:null,g=y.useMemo((function(){var e=x?x.filter((function(e){return e.startTime&&e.endTime})).map((function(e){return{x:1e3*Number(e.startTime),xNumeric:1e3*Number(e.startTime),y:e.endTime-e.startTime}})):[],n=e.map((function(e){return e.xNumeric})),t=e.map((function(e){return e.y})).filter((function(e){return!isNaN(e)}));return{xAxis:"time",values:e,minXNumeric:Math.min.apply(Math,(0,i.Z)(n)),maxXNumeric:Math.max.apply(Math,(0,i.Z)(n)),minY:Math.min.apply(Math,(0,i.Z)(t)),maxY:Math.max.apply(Math,(0,i.Z)(t))}}),[x]);if("SolidStepStatusUnavailableError"===(null===m||void 0===m?void 0:m.__typename))return(0,E.jsx)("span",{});var v=(x||[]).slice(0,10);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(ke.pC,{title:"Execution Time",children:(0,E.jsx)(pe.x,{flex:{alignItems:"center",justifyContent:"center"},children:f.loading?(0,E.jsx)(We.$,{purpose:"section"}):(0,E.jsx)(Ye.K,{label:"Step Execution Time",yAxisLabel:"Seconds",width:"100%",data:g,xHover:d,onHoverX:function(e){return p(e?Number(e):null)}})})}),(0,E.jsx)(ke.pC,{title:"Execution Status",children:(0,E.jsx)(pe.x,{padding:{left:24,right:16,vertical:12},children:(0,E.jsxs)(pe.x,{flex:{gap:16},style:{fontSize:"0.8rem"},children:[(0,E.jsx)("div",{style:{flex:1},children:"Last ".concat(v.length," Run").concat(1!==v.length?"s":"")}),(0,E.jsx)(pe.x,{style:{overflowX:"auto"},flex:{gap:2},children:v.reverse().map((function(e){var n=e.runId,t=e.status,r=e.startTime;return(0,E.jsx)(Je.u,{placement:"bottom-end",content:"View Run ".concat(n.slice(0,8)," \u2192"),children:(0,E.jsx)(ye.rU,{to:(0,Xe.tA)({runId:n},{stepKey:l}),children:(0,E.jsx)(Qe.o,{onMouseEnter:function(){return r&&p(1e3*r)},onMouseLeave:function(){return p(null)},style:{border:"2px solid ".concat(r&&1e3*r===d?h.w.Blue500:"transparent"),backgroundColor:t?en[t]:h.w.Gray200}})})},n)}))})]})})})]})},tn=(0,l.Ps)(Re||(Re=(0,r.Z)(["\n  query SidebarOpGraphsQuery($selector: PipelineSelector!, $handleID: String!) {\n    pipelineOrError(params: $selector) {\n      __typename\n      ... on Pipeline {\n        id\n        name\n        solidHandle(handleID: $handleID) {\n          stepStats(limit: 20) {\n            __typename\n\n            ... on SolidStepStatsConnection {\n              nodes {\n                runId\n                startTime\n                endTime\n                status\n              }\n            }\n            ... on SolidStepStatusUnavailableError {\n              __typename\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),rn=t(75453),on=t(89279),an=t(36758),sn=function(e){var n=e.solid,t=e.onEnterSubgraph,r=n.inputs.some((function(e){return e.dependsOn.length})),i=n.outputs.some((function(e){return e.dependedBy.length}));return(0,E.jsx)("div",{children:(0,E.jsx)(ke.pC,{title:"Invocation",children:(0,E.jsxs)(pe.x,{padding:{vertical:16,horizontal:24},children:[(0,E.jsx)(ke.R8,{children:(0,N.By)(n.name)}),r||i?(0,E.jsx)(an.eK,{children:(0,E.jsxs)("tbody",{children:[r?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(an.ep,{label:"Inputs"}),n.inputs.map((function(e){var n=e.definition,t=e.dependsOn,r=e.isDynamicCollect;return t.map((function(e,t){return(0,E.jsx)(an.uC,{from:e,to:n.name,isDynamic:r},t)}))}))]}):null,i?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(an.ep,{label:"Outputs"}),n.outputs.map((function(e){var n=e.definition;return e.dependedBy.map((function(e,t){return(0,E.jsx)(an.uC,{from:n.name,to:e,isDynamic:n.isDynamic},t)}))}))]}):null]})}):null,t&&(0,E.jsx)(pe.x,{margin:{top:12},children:(0,E.jsx)(rn.zx,{icon:(0,E.jsx)(on.JO,{name:"zoom_in"}),onClick:function(){return t({name:n.name})},children:"Expand graph"})})]})})})},ln=(0,l.Ps)(Oe||(Oe=(0,r.Z)(["\n  fragment SidebarOpInvocationFragment on Solid {\n    name\n    inputs {\n      isDynamicCollect\n      definition {\n        name\n        description\n        type {\n          ...DagsterTypeWithTooltipFragment\n        }\n      }\n      dependsOn {\n        definition {\n          name\n        }\n        solid {\n          name\n        }\n      }\n    }\n    outputs {\n      definition {\n        name\n        description\n        isDynamic\n        type {\n          ...DagsterTypeWithTooltipFragment\n        }\n      }\n      dependedBy {\n        definition {\n          name\n        }\n        solid {\n          name\n        }\n      }\n    }\n  }\n\n  ","\n"])),Te.B),cn=function(e){var n=e.handleID,t=e.explorerPath,r=e.getInvocations,i=e.showingSubgraph,o=e.onEnterSubgraph,a=e.onClickOp,s=e.repoAddress,l=e.isGraph,c=function(e,n,t,r){var i=(0,fe.a)(dn,{variables:{selector:{repositoryName:(null===r||void 0===r?void 0:r.name)||"",repositoryLocationName:(null===r||void 0===r?void 0:r.location)||"",pipelineName:e},handleID:n},fetchPolicy:"cache-and-network",skip:t}),o=(0,fe.a)(pn,{variables:{selector:{repositoryName:(null===r||void 0===r?void 0:r.name)||"",repositoryLocationName:(null===r||void 0===r?void 0:r.location)||"",graphName:e},handleID:n},fetchPolicy:"cache-and-network",skip:!t});if(t){var a=o.error,s=o.data,l=o.loading;return{error:a,solidContainer:"Graph"===(null===s||void 0===s?void 0:s.graphOrError.__typename)?s.graphOrError:void 0,isLoading:!!l}}var c=i.error,u=i.data,d=i.loading;return{error:c,solidContainer:"Pipeline"===(null===u||void 0===u?void 0:u.pipelineOrError.__typename)?u.pipelineOrError:void 0,isLoading:!!d}}(t.pipelineName,n,l,s),u=c.error,d=c.solidContainer,p=c.isLoading;return u?(0,E.jsx)(pe.x,{padding:64,flex:{justifyContent:"center"},children:(0,E.jsx)(Ie.t,{icon:"error",title:"GraphQL Error - see console for details"})}):p?(0,E.jsx)(me.T,{purpose:"section"}):d?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(sn,{solid:d.solidHandle.solid,onEnterSubgraph:"CompositeSolidDefinition"===d.solidHandle.solid.definition.__typename?o:void 0},"".concat(n,"-inv")),!l&&s&&(0,E.jsx)(nn,{handleID:n,solidName:d.solidHandle.solid.name,pipelineName:t.pipelineName,repoAddress:s},"".concat(n,"-graphs")),(0,E.jsx)(He.I,{showingSubgraph:i,definition:d.solidHandle.solid.definition,getInvocations:r,onClickInvocation:function(e){var n=e.handleID;return a({path:n.split(".")})},repoAddress:s},"".concat(n,"-def"))]}):(0,E.jsx)(pe.x,{padding:{vertical:16,horizontal:24},style:{color:h.w.Gray500},children:"Could not load ops."})},un=(0,l.Ps)(De||(De=(0,r.Z)(["\n  fragment SidebarOpFragment on SolidContainer {\n    id\n    name\n    solidHandle(handleID: $handleID) {\n      solid {\n        ...SidebarOpInvocationFragment\n\n        definition {\n          __typename\n          ...SidebarOpDefinitionFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n"])),ln,He.u),dn=(0,l.Ps)(Le||(Le=(0,r.Z)(["\n  query SidebarPipelineOpQuery($selector: PipelineSelector!, $handleID: String!) {\n    pipelineOrError(params: $selector) {\n      __typename\n      ... on Pipeline {\n        id\n        ...SidebarOpFragment\n      }\n    }\n  }\n  ","\n"])),un),pn=(0,l.Ps)(Ae||(Ae=(0,r.Z)(["\n  query SidebarGraphOpQuery($selector: GraphSelector!, $handleID: String!) {\n    graphOrError(selector: $selector) {\n      __typename\n      ... on Graph {\n        id\n        ...SidebarOpFragment\n      }\n    }\n  }\n  ","\n"])),un),hn=function(e){var n,t=e.tab,r=e.typeName,i=e.container,o=e.repoAddress,a=e.explorerPath,s=e.opHandleID,l=e.getInvocations,c=e.parentOpHandleID,u=e.onEnterSubgraph,d=e.onClickOp,p=t||"info",f=[{name:"Info",key:"info",content:function(){return s?(0,E.jsx)(cn,{explorerPath:a,handleID:s,showingSubgraph:!1,getInvocations:l,onEnterSubgraph:u,onClickOp:d,repoAddress:o,isGraph:"Graph"===i.__typename},s):c?(0,E.jsx)(cn,{explorerPath:a,handleID:c,showingSubgraph:!0,getInvocations:l,onClickOp:d,repoAddress:o,isGraph:"Graph"===i.__typename},c):(0,E.jsx)(de.S,{repoAddress:o,container:i})}},{name:"Types",key:"types",content:function(){return r?(0,E.jsx)(Ee,{explorerPath:a,repoAddress:o,typeName:r}):(0,E.jsx)($e,{repoAddress:o,explorerPath:a})}}];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(pe.x,{padding:{horizontal:24},border:{side:"bottom",width:1,color:h.w.KeylineGray},children:(0,E.jsx)(he.mQ,{selectedTabId:p,children:f.map((function(e){var n=e.name,t=e.key;return(0,E.jsx)(qe.f,{id:t,to:{search:"?tab=".concat(t)},title:n},t)}))})}),(0,E.jsx)(vn,{children:null===(n=f.find((function(e){return e.key===p})))||void 0===n?void 0:n.content()})]})},fn=function(e){var n=e.getInvocations,t=e.handles,r=e.options,s=e.container,l=e.explorerPath,h=e.onChangeExplorerPath,f=e.parentHandle,m=e.setOptions,x=e.repoAddress,b=e.isGraph,k=y.useState(""),S=(0,a.Z)(k,2),C=S[0],N=S[1],_=function(e){h((0,o.Z)((0,o.Z)({},l),{},{opsQuery:e}),"replace")},I=y.useMemo((function(){return function(e){var n=(0,i.Z)(l.opNames);if(void 0!==e(n))throw new Error("handleAdjustPath function is expected to mutate the array and return nothing");h((0,o.Z)((0,o.Z)({},l),{},{opNames:n}),"push")}}),[h,l]),Z=function(e){I((function(n){if("name"in e)n[n.length?n.length-1:0]=e.name;else{for(".."!==e.path[0]&&(n.length=0),".."===e.path[0]&&""!==n[n.length-1]&&n.pop();".."===e.path[0];)e.path.shift(),n.pop();n.push.apply(n,(0,i.Z)(e.path))}}))},T=function(e){Z(e),window.requestAnimationFrame((function(){I((function(n){var t="name"in e?e.name:e.path[e.path.length-1];n[n.length-1]=t,n.push("")}))}))},P=l.opsQuery,R=l.opNames,O=R[R.length-1],D=t.find((function(e){return O===e.solid.name})),L=O&&!D,A=f&&"CompositeSolidDefinition"!==f.solid.definition.__typename;y.useEffect((function(){(L||A)&&I((function(e){e.pop()}))}),[I,L,A]);var F=y.useMemo((function(){return t.map((function(e){return e.solid}))}),[t]),M=!f&&!l.snapshotId,z=!b&&F.some((function(e){return e.definition.assetNodes.length>0})),G=!f&&(r.explodeComposites||F.some((function(e){return"CompositeSolidDefinition"===e.definition.__typename}))),K=y.useMemo((function(){return M?(0,j.V)(F,P):{all:F,focus:[],applyingEmptyDefault:!1}}),[P,F,M]),U=y.useMemo((function(){return K.all.filter((function(e){return e.name.toLowerCase().includes(C.toLowerCase())}))}),[C,K.all]),B=f&&f.solid,$=(0,le.QT)(K.all,B),V=$.layout,q=$.loading,H=$.async,W=y.useMemo((function(){var e=l.opNames,n=e.map((function(n,t){return{text:n,onClick:function(){h((0,o.Z)((0,o.Z)({},l),{},{opNames:e.slice(0,t+1)}),"push")}}}));return(0,w.pv)(l.pipelineName)&&n.shift(),n}),[l,h]);return(0,E.jsx)(u.OS,{identifier:"explorer",firstInitialPercent:70,first:(0,E.jsxs)(E.Fragment,{children:[M?(0,E.jsx)(bn,{children:(0,E.jsx)(ce.j,{items:F,value:l.opsQuery,placeholder:"Type an op subset\u2026",popoverPosition:"bottom-left",onChange:_})}):W.length>1?(0,E.jsx)(kn,{children:(0,E.jsx)(c.Oo,{currentBreadcrumbRenderer:function(){return(0,E.jsx)("span",{})},items:W})}):null,(z||G)&&(0,E.jsxs)(jn,{children:[z&&(0,E.jsx)(d.X,{format:"switch",label:"View as Asset Graph",checked:r.preferAssetRendering,onChange:function(){h((0,o.Z)((0,o.Z)({},l),{},{opNames:[]}),"replace"),m((0,o.Z)((0,o.Z)({},r),{},{preferAssetRendering:!r.preferAssetRendering}))}}),G&&(0,E.jsx)(d.X,{format:"switch",label:"Explode graphs",checked:r.explodeComposites,onChange:function(){_(""),m((0,o.Z)((0,o.Z)({},r),{},{explodeComposites:!r.explodeComposites}))}})]}),(0,E.jsx)(wn,{children:(0,E.jsx)(p.oi,{name:"highlighted",icon:"search",value:C,placeholder:"Highlight\u2026",onChange:function(e){return N(e.target.value)}})}),0===F.length?(0,E.jsx)(ue.LS,{nodeType:"op",isGraph:b}):K.applyingEmptyDefault?(0,E.jsx)(ue.K4,{nodeType:"op"}):0===Object.keys(K.all).length?(0,E.jsx)(ue.VQ,{nodeType:"op"}):void 0,q||!V?(0,E.jsx)(ue.W_,{async:H,nodeType:"op"}):(0,E.jsx)(oe,{jobName:s.name,ops:K.all,focusOps:K.focus,highlightedOps:U,selectedHandleID:D&&D.handleID,selectedOp:D&&D.solid,parentHandleID:f&&f.handleID,parentOp:B,onClickOp:Z,onClickBackground:function(){Z({name:""})},onEnterSubgraph:T,onLeaveSubgraph:function(){I((function(e){e.pop()}))},layout:V})]}),second:(0,E.jsx)(yn,{children:(0,E.jsx)(v.AW,{children:function(e){var t=e.location;return(0,E.jsx)(hn,(0,o.Z)({container:s,explorerPath:l,opHandleID:D&&D.handleID,parentOpHandleID:f&&f.handleID,getInvocations:n,onEnterSubgraph:T,onClickOp:Z,repoAddress:x},g().parse(t.search||"",{ignoreQueryPrefix:!0})))}})})})},mn=(0,l.Ps)(Fe||(Fe=(0,r.Z)(["\n  fragment GraphExplorerFragment on SolidContainer {\n    id\n    name\n    description\n    ...SidebarRootContainerFragment\n  }\n  ","\n"])),de.q),xn=(0,l.Ps)(Me||(Me=(0,r.Z)(["\n  fragment GraphExplorerAssetNodeFragment on AssetNode {\n    id\n    opNames\n    assetKey {\n      path\n    }\n  }\n"]))),gn=(0,l.Ps)(ze||(ze=(0,r.Z)(["\n  fragment GraphExplorerSolidHandleFragment on SolidHandle {\n    handleID\n    solid {\n      name\n      ...OpGraphOpFragment\n    }\n  }\n  ","\n"])),ae),yn=s.ZP.div.withConfig({displayName:"GraphExplorer__RightInfoPanel",componentId:"sc-12nvdik-0"})(["position:relative;height:100%;min-height:0;overflow:hidden;display:flex;flex-direction:column;background:",";"],h.w.White),vn=s.ZP.div.withConfig({displayName:"GraphExplorer__RightInfoPanelContent",componentId:"sc-12nvdik-1"})(["flex:1;overflow-y:auto;"]),jn=s.ZP.div.withConfig({displayName:"GraphExplorer__OptionsOverlay",componentId:"sc-12nvdik-2"})(["background-color:",";z-index:2;padding:15px 20px;display:inline-flex;align-items:stretch;white-space:nowrap;position:absolute;bottom:0;left:0;gap:8px;"],m()(h.w.White).fade(.6).toString()),wn=s.ZP.div.withConfig({displayName:"GraphExplorer__HighlightOverlay",componentId:"sc-12nvdik-3"})(["background-color:",";z-index:2;padding:8px 12px 0 0;display:inline-flex;align-items:stretch;position:absolute;top:0;right:0;"],m()(h.w.White).fade(.6).toString()),bn=s.ZP.div.withConfig({displayName:"GraphExplorer__QueryOverlay",componentId:"sc-12nvdik-4"})(["z-index:2;position:absolute;top:8px;left:24px;white-space:nowrap;display:flex;gap:10px;"]),kn=s.ZP.div.withConfig({displayName:"GraphExplorer__BreadcrumbsOverlay",componentId:"sc-12nvdik-5"})(["background-color:",";z-index:2;padding:12px 0 0 20px;height:42px;max-width:calc(100% - 250px);display:inline-flex;align-items:center;position:absolute;top:0;left:0;"],m()(h.w.White).fade(.6).toString())},19910:function(e,n,t){t.d(n,{K4:function(){return p},LS:function(){return h},VQ:function(){return f},W_:function(){return m}});var r=t(922),i=t(89279),o=t(89646),a=t(32030),s=t(34595),l=t(7838),c=t(17410),u=t.n(c),d=(t(325),t(32289)),p=function(e){var n=e.nodeType;return(0,d.jsxs)(y,{children:[(0,d.jsx)(i.JO,{name:"arrow_upward",size:24}),(0,d.jsxs)(v,{children:[(0,d.jsxs)("p",{children:["This is a large DAG that may be difficult to visualize. Type ",(0,d.jsx)("code",{children:"*"})," in the graph filter bar to render the entire thing, or type ",n," names and use:"]}),(0,d.jsxs)("ul",{style:{marginBottom:0},children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("code",{children:"+"})," to expand a single layer before or after the ",n,"."]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("code",{children:"*"})," to expand recursively before or after the ",n,"."]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("code",{children:"AND"})," to render another disconnected fragment."]})]})]})]})},h=function(e){var n=e.isGraph,t=e.nodeType;return(0,d.jsx)(g,{children:(0,d.jsx)(o.t,{icon:"no-results",title:n?"Empty graph":"Empty pipeline",description:(0,d.jsxs)("div",{children:["This ",n?"graph":"pipeline"," is empty. ",u()(t),"s will appear here when they are added to loaded repositories."]})})})},f=function(e){var n=e.nodeType;return(0,d.jsx)(g,{children:(0,d.jsx)(o.t,{icon:"no-results",title:"Nothing to display",description:(0,d.jsxs)("div",{children:["No ",n,"s match your query filter. Try removing your filter, typing ",(0,d.jsx)("code",{children:"*"})," ","to render the entire graph, or entering another filter string."]})})})},m=function(e){var n=e.async;return(0,d.jsxs)(x,{children:[n?(0,d.jsxs)(a.x,{margin:{bottom:24},children:["Rendering a large number of ",e.nodeType,"s, please wait\u2026"]}):null,(0,d.jsx)(s.$,{purpose:"page"})]})},x=r.ZP.div.withConfig({displayName:"GraphNotices__LoadingContainer",componentId:"sc-1clws20-0"})(["background-color:",";position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:2;"],l.w.White),g=r.ZP.div.withConfig({displayName:"GraphNotices__CenteredContainer",componentId:"sc-1clws20-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2;"]),y=r.ZP.div.withConfig({displayName:"GraphNotices__LargeDAGContainer",componentId:"sc-1clws20-2"})(["width:45vw;position:absolute;left:40px;top:60px;z-index:2;max-width:500px;display:flex;flex-direction:column;[role='img']{opacity:0.5;margin-left:10vw;}"]),v=r.ZP.div.withConfig({displayName:"GraphNotices__LargeDAGInstructionBox",componentId:"sc-1clws20-3"})(["padding:15px 20px;border:1px solid #fff5c3;margin-top:20px;color:",";background:#fffbe5;text-align:left;line-height:1.4rem;box-shadow:0 1px 2px rgba(0,0,0,0.1);code{background:#f8ebad;font-weight:500;padding:0 4px;}"],l.w.Gray800)},57872:function(e,n,t){t.d(n,{Q:function(){return o}});var r=t(89646),i=(t(325),t(32289)),o=function(e){var n=e.isGraph,t=e.result;return"PipelineSnapshotNotFoundError"===t.__typename?(0,i.jsx)(r.t,{icon:"error",title:n?"Graph snapshot not found":"Pipeline snapshot not found",description:t.message}):"PipelineNotFoundError"===t.__typename?(0,i.jsx)(r.t,{icon:"error",title:n?"Graph not found":"Pipeline not found",description:t.message}):"RepositoryNotFoundError"===t.__typename?(0,i.jsx)(r.t,{icon:"error",title:"Repository not found",description:t.message}):"PythonError"===t.__typename?(0,i.jsx)(r.t,{icon:"error",title:"Query Error",description:t.message}):(0,i.jsx)("span",{})}},87535:function(e,n,t){t.d(n,{CY:function(){return k},N9:function(){return S}});var r,i=t(99500),o=t(19065),a=t(73701),s=t(3159),l=t(325),c=t(27601),u=t(12436),d=t(78093),p=t(19339),h=t(77171),f=t(82348),m=t(4735),x=t(50741),g=t(76336),y=t(27218),v=t(2112),j=t(57872),w=t(96294),b=t(32289),k=function(){(0,d.Px)();var e=(0,c.UO)(),n=(0,w.p3)(e[0]),t=n.pipelineName,r=n.snapshotId,i=(0,c.k6)();return(0,f.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,b.jsx)(S,{explorerPath:n,onChangeExplorerPath:function(e,n){i[n]("/instance/snapshots/".concat((0,w.gY)(e)))},onNavigateToForeignNode:function(e){var n=e.assetKey;i.push((0,h.p)(n))}})},S=function(e){var n,t=e.explorerPath,r=e.repoAddress,i=e.onChangeExplorerPath,s=e.onNavigateToForeignNode,c=e.isGraph,u=void 0!==c&&c,d=l.useState({explodeComposites:null!==(n=t.explodeComposites)&&void 0!==n&&n,preferAssetRendering:!0}),h=(0,o.Z)(d,2),f=h[0],m=h[1],w=t.opNames.slice(0,t.opNames.length-1),k=(0,g._T)(r||null,t.pipelineName),S=(0,a.a)(C,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:k,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:w.join("."),requestScopeHandleID:f.explodeComposites?void 0:w.join(".")}});return(0,b.jsx)(x.g,{queryResult:S,children:function(e){var n=e.pipelineSnapshotOrError;if("PipelineSnapshot"!==n.__typename)return(0,b.jsx)(j.Q,{isGraph:u,result:n});var o=n.solidHandle,a=f.explodeComposites?(0,y.i)(n.solidHandles):n.solidHandles,l=n.solidHandles.some((function(e){return e.solid.definition.assetNodes.length>0}));return f.preferAssetRendering&&l?(0,b.jsx)(p.OK,{options:f,setOptions:m,fetchOptions:{pipelineSelector:k},explorerPath:t,onChangeExplorerPath:i,onNavigateToForeignNode:s}):(0,b.jsx)(v.m0,{options:f,setOptions:m,explorerPath:t,onChangeExplorerPath:i,container:n,repoAddress:r,handles:a,parentHandle:o||void 0,isGraph:u,getInvocations:function(e){return a.filter((function(n){return n.solid.definition.name===e})).map((function(e){return{handleID:e.handleID}}))}})}})},C=(0,s.Ps)(r||(r=(0,i.Z)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        ...GraphExplorerFragment\n\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),m.it,v.Sm,v.Q,v.bg,u.Bq)},62e3:function(e,n,t){t.d(n,{h:function(){return u}});var r=t(32030),i=t(89279),o=t(7838),a=(t(325),t(74549)),s=t(25582),l=t(96294),c=t(32289),u=function(e){var n=e.pipelineName,t=e.pipelineHrefContext,u=e.isJob,d=e.snapshotId,p=e.showIcon,h=e.truncationThreshold,f=void 0===h?40:h,m=e.size,x=void 0===m?"normal":m,g=f>0&&n.length>f?"".concat(n.slice(0,f-5),"\u2026"):n,y="repo-unknown"===t?(0,c.jsx)(a.rU,{to:(0,s.r4)(n,u),children:g}):"no-link"===t?(0,c.jsx)(c.Fragment,{children:g}):(0,c.jsx)(a.rU,{to:(0,s.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n,isJob:u}),children:g});return(0,c.jsxs)(r.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex"},children:[p&&(0,c.jsx)(r.x,{margin:{right:8},children:(0,c.jsx)(i.JO,{color:o.w.Gray400,name:"job"})}),(0,c.jsxs)("span",{children:[y,d&&" @ ",d&&(0,c.jsx)(l.J2,{snapshotId:d,pipelineName:n,size:x})]})]})}},33247:function(e,n,t){t.d(n,{G:function(){return P}});var r,i=t(99500),o=t(95764),a=t(59019),s=t(19065),l=t(3159),c=t(57615),u=t(30804),d=t(32030),p=t(89646),h=t(54268),f=t(47387),m=t(325),x=t(27601),g=t(12436),y=t(19102),v=t(78093),j=t(80608),w=t(28064),b=t(55752),k=t(45302),S=t(77892),C=t(50741),N=t(62278),E=t(76336),_=t(96294),I=t(23196),Z=t(32289),T=["status","tag"],P=function(e){(0,v.Px)();var n=(0,x.UO)().pipelinePath,t=e.repoAddress,r=void 0===t?null:t,i=(0,_.p3)(n),l=i.pipelineName,g=i.snapshotId,P=(0,E.Ux)(r),O=(0,E.E8)(P,l);(0,I.b)(i,O);var D=(0,k.oD)(T),L=(0,s.Z)(D,2),A=L[0],F=L[1],M=m.useMemo((function(){return[O?{token:"job",value:l}:{token:"pipeline",value:l},g?{token:"snapshotId",value:g}:null].filter(Boolean)}),[O,l,g]),z={token:"tag",value:"".concat(w.H.RepositoryLabelTag,"=").concat(null===r||void 0===r?void 0:r.name,"@").concat(null===r||void 0===r?void 0:r.location)},G=[].concat((0,a.Z)(A),(0,a.Z)(M),[z]),K=(0,S.l)({query:R,pageSize:25,variables:{filter:(0,o.Z)((0,o.Z)({},(0,k.VH)(G)),{},{pipelineName:l,snapshotId:g})},nextCursorForResult:function(e){var n;if("Runs"===e.pipelineRunsOrError.__typename)return null===(n=e.pipelineRunsOrError.results[24])||void 0===n?void 0:n.runId},getResultArray:function(e){return e&&"Runs"===e.pipelineRunsOrError.__typename?e.pipelineRunsOrError.results:[]}}),U=K.queryResult,B=K.paginationProps,$=m.useCallback((function(e){var n=(0,c.HY)(e);A.some((function(e){return(0,c.HY)(e)===n}))||F([].concat((0,a.Z)(A),[e]))}),[A,F]),V=(0,y.C4)(U,y.dT);return(0,Z.jsx)(b.Lw.Provider,{value:{refetch:U.refetch},children:(0,Z.jsx)(u.T,{children:(0,Z.jsx)(C.g,{queryResult:U,allowStaleData:!0,children:function(e){var n=e.pipelineRunsOrError;if("Runs"!==n.__typename)return(0,Z.jsx)(d.x,{padding:{vertical:64},children:(0,Z.jsx)(p.t,{icon:"error",title:"Query Error",description:n.message})});var t=n.results.slice(0,25),r=B.hasNextCursor,i=B.hasPrevCursor;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(d.x,{flex:{alignItems:"flex-start",justifyContent:"space-between"},padding:{top:8,horizontal:24},children:[(0,Z.jsx)(d.x,{flex:{direction:"row",gap:8},children:M.map((function(e){var n=e.token,t=e.value;return(0,Z.jsx)(h.V,{children:"".concat(n,":").concat(t)},n)}))}),(0,Z.jsx)(y.xi,{refreshState:V})]}),(0,Z.jsx)(N.Y,{$top:0,children:(0,Z.jsx)(j.A,{runs:t,onAddTag:$,actionBarComponents:(0,Z.jsx)(k.nr,{enabledFilters:T,tokens:A,onChange:F,loading:U.loading})})}),r||i?(0,Z.jsx)("div",{style:{marginTop:"20px"},children:(0,Z.jsx)(f.pI,(0,o.Z)({},B))}):null]})}})})})},R=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),j.Z,g.Bq)},53857:function(e,n,t){t.d(n,{pC:function(){return p},R8:function(){return h},M$:function(){return f},Pb:function(){return m},P3:function(){return x},JB:function(){return g}});var r=t(19065),i=t(922),o=t(33918),a=t(89279),s=t(8546),l=t(7838),c=t(325),u=t(76314),d=t(32289),p=function(e){var n=e.title,t=e.collapsedByDefault,i=e.children,s=(0,u.U)("sidebar-".concat(n),(function(e){return!0===e||!1===e?e:!t})),l=(0,r.Z)(s,2),p=l[0],h=l[1],f=c.useCallback((function(){h((function(e){return!e}))}),[h]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(y,{onClick:f,children:[n,(0,d.jsx)(a.JO,{size:24,name:"arrow_drop_down",style:{transform:p?"rotate(0)":"rotate(-90deg)"}})]}),(0,d.jsx)(o.UO,{isOpen:p,children:(0,d.jsx)("div",{children:i})})]})},h=i.ZP.h3.withConfig({displayName:"SidebarComponents__SidebarTitle",componentId:"rejkvt-0"})(["font-family:",";font-size:16px;margin:0 0 12px;overflow:hidden;text-overflow:ellipsis;:first-child:last-child{margin-bottom:0;}"],s.b.monospace),f=i.ZP.h4.withConfig({displayName:"SidebarComponents__SectionHeader",componentId:"rejkvt-1"})(["font-family:",";font-size:16px;margin:2px 0 0 0;"],s.b.monospace),m=i.ZP.h4.withConfig({displayName:"SidebarComponents__SectionSmallHeader",componentId:"rejkvt-2"})(["font-family:",";font-size:14px;font-weight:500;margin:2px 0;"],s.b.monospace),x=i.ZP.div.withConfig({displayName:"SidebarComponents__SidebarSubhead",componentId:"rejkvt-3"})(["color:",";font-size:0.7rem;"],l.w.Gray400),g=i.ZP.div.withConfig({displayName:"SidebarComponents__SectionItemContainer",componentId:"rejkvt-4"})(["border-bottom:1px solid ",";margin-bottom:12px;padding-bottom:12px;font-size:0.8rem;&:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0;}"],l.w.KeylineGray),y=i.ZP.div.withConfig({displayName:"SidebarComponents__CollapsingHeaderBar",componentId:"rejkvt-5"})(["height:32px;padding-left:24px;padding-right:8px;background:",";border-top:1px solid ",";border-bottom:1px solid ",";color:",";cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:12px;font-weight:700;user-select:none;"],l.w.White,l.w.KeylineGray,l.w.KeylineGray,l.w.Gray900)},80339:function(e,n,t){t.d(n,{q:function(){return E},S:function(){return N}});var r,i,o=t(99500),a=t(3159),s=t(32030),l=t(57753),c=(t(325),t(76341)),u=t(4735),d=t(76336),p=t(48953),h=t(10922),f=t(53857),m=t(59019),x=t(922),g=t(89279),y=t(7838),v=t(71725),j=t(33774),w=t(32289),b=function(e){var n=e.mode,t=e.showModeName;return(0,w.jsxs)(f.JB,{children:[t&&(0,w.jsxs)(s.x,{padding:{bottom:16},children:[(0,w.jsx)(f.M$,{children:n.name}),(0,w.jsx)(h.d,{description:n.description||""})]}),(0,w.jsx)(s.x,{flex:{direction:"column",gap:16},children:[].concat((0,m.Z)(n.resources),(0,m.Z)(n.loggers)).map((function(e){return(0,w.jsxs)(C,{children:[(0,w.jsx)(g.JO,{name:"resource",color:y.w.Gray700}),(0,w.jsxs)("div",{children:[(0,w.jsx)(S,{children:e.name}),(0,w.jsx)(h.d,{description:e.description||""}),e.configField&&(0,w.jsx)(v.L,{type:e.configField.configType,typesInScope:e.configField.configType.recursiveConfigTypes})]})]},e.name)}))})]},n.name)},k=(0,a.Ps)(r||(r=(0,o.Z)(["\n  fragment SidebarResourcesSectionFragment on Mode {\n    id\n    name\n    description\n    resources {\n      name\n      description\n      configField {\n        configType {\n          ...ConfigTypeSchemaFragment\n          recursiveConfigTypes {\n            ...ConfigTypeSchemaFragment\n          }\n        }\n      }\n    }\n    loggers {\n      name\n      description\n      configField {\n        configType {\n          ...ConfigTypeSchemaFragment\n          recursiveConfigTypes {\n            ...ConfigTypeSchemaFragment\n          }\n        }\n      }\n    }\n  }\n\n  ","\n"])),j.S),S=(0,x.ZP)(f.M$).withConfig({displayName:"SidebarResourcesSection__ContextResourceHeader",componentId:"sc-2jw6y4-0"})(["font-size:16px;margin:4px 0;"]),C=x.ZP.div.withConfig({displayName:"SidebarResourcesSection__ContextResourceContainer",componentId:"sc-2jw6y4-1"})(["display:flex;align-items:flex-start;& h4{margin-top:-2px;}& ","{margin-right:8px;}"],g.a1),N=function(e){var n=e.container,t=e.repoAddress,r=(0,d.vl)().options,i=!1,o=!1;if("PipelineSnapshot"===n.__typename){var a=n.pipelineSnapshotId,m=n.parentSnapshotId,x=t?(0,d.qz)(r,t):r.find((function(e){return(0,p.h)(e,n.name)})),g=x&&(0,p.h)(x,n.name);i=!!g&&!g.isJob,o=(null===g||void 0===g?void 0:g.pipelineSnapshotId)!==a&&(null===g||void 0===g?void 0:g.pipelineSnapshotId)!==m}return(0,w.jsxs)("div",{children:[(0,w.jsxs)(s.x,{padding:{vertical:16,horizontal:24},children:[(0,w.jsxs)(f.P3,{children:["Graph"===n.__typename?"Graph":i?"Pipeline":"Job",o?" Snapshot":""]}),(0,w.jsx)(f.R8,{children:(0,c.By)(n.name)})]}),(0,w.jsx)(f.pC,{title:"Description",children:(0,w.jsx)(s.x,{padding:{vertical:16,horizontal:24},children:(0,w.jsx)(h.d,{description:n.description||"No description provided"})})}),"PipelineSnapshot"===n.__typename&&(0,w.jsx)(f.pC,{title:i?"Modes":"Resources",collapsedByDefault:!0,children:(0,w.jsx)(s.x,{padding:{vertical:16,horizontal:24},children:n.modes.map((function(e){return(0,w.jsx)(b,{mode:e,showModeName:i},e.name)}))})}),"PipelineSnapshot"===n.__typename&&(0,w.jsx)(f.pC,{title:"Metadata",children:(0,w.jsx)(s.x,{padding:{vertical:16,horizontal:24},children:(0,w.jsx)(l.nZ,{rows:n.metadataEntries.map((function(e){return{key:e.label,value:(0,w.jsx)(u.BL,{entry:e})}}))})})})]})},E=(0,a.Ps)(i||(i=(0,o.Z)(["\n  fragment SidebarRootContainerFragment on SolidContainer {\n    id\n    name\n    description\n    modes {\n      id\n      ...SidebarResourcesSectionFragment\n    }\n    ... on PipelineSnapshot {\n      pipelineSnapshotId\n      parentSnapshotId\n      metadataEntries {\n        ...MetadataEntryFragment\n      }\n    }\n  }\n  ","\n  ","\n"])),u.it,k)},23496:function(e,n,t){t.d(n,{I:function(){return E},u:function(){return _}});var r,i=t(19065),o=t(99500),a=t(59019),s=t(922),l=t(3159),c=t(32030),u=t(71725),d=t(89279),p=t(7838),h=t(8546),f=t(325),m=t(74549),x=t(76341),g=t(39061),y=t(77171),v=t(66941),j=t(53218),w=t(33774),b=t(95924),k=t(10922),S=t(53857),C=t(36758),N=t(32289),E=function(e){var n=e.definition,t=e.getInvocations,r=e.showingSubgraph,i=e.onClickInvocation,o=e.repoAddress,s=(0,j.D)(n.metadata),l="CompositeSolidDefinition"===n.__typename,h="SolidDefinition"===n.__typename?n.configField:null,f={},m={};r&&"CompositeSolidDefinition"===n.__typename&&(n.inputMappings.forEach((function(e){return f[e.definition.name]=[].concat((0,a.Z)(f[e.definition.name]||[]),[e.mappedInput])})),n.outputMappings.forEach((function(e){return m[e.definition.name]=[].concat((0,a.Z)(m[e.definition.name]||[]),[e.mappedOutput])})));var w=null;return"SolidDefinition"===n.__typename&&(w=n.requiredResources),(0,N.jsxs)("div",{children:[(0,N.jsx)(S.pC,{title:"Definition",children:(0,N.jsxs)(c.x,{padding:{vertical:16,horizontal:24},children:[(0,N.jsx)(S.P3,{children:l?"Graph":"Op"}),(0,N.jsx)(S.R8,{children:(0,x.By)(n.name)}),(0,N.jsx)(v.z,{definition:n})]})}),n.description&&(0,N.jsx)(S.pC,{title:"Description",children:(0,N.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:(0,N.jsx)(k.d,{description:n.description})})}),n.metadata&&s&&s.SidebarComponent&&(0,N.jsx)(S.pC,{title:"Metadata",children:(0,N.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:(0,N.jsx)(s.SidebarComponent,{definition:n,repoAddress:o})})}),h&&(0,N.jsx)(S.pC,{title:"Config",children:(0,N.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:(0,N.jsx)(u.L,{type:h.configType,typesInScope:h.configType.recursiveConfigTypes})})}),w&&(0,N.jsx)(S.pC,{title:"Required Resources",children:(0,N.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:(0,a.Z)(w).sort().map((function(e){return(0,N.jsxs)(C.b1,{children:[(0,N.jsx)(d.JO,{name:"resource",color:p.w.Gray700}),(0,N.jsx)(C.bZ,{children:e.resourceKey})]},e.resourceKey)}))})}),(0,N.jsx)(S.pC,{title:"Inputs",children:(0,N.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:n.inputDefinitions.map((function(e,n){return(0,N.jsxs)(S.JB,{children:[(0,N.jsx)(S.Pb,{children:(0,x.By)(e.name)}),(0,N.jsx)(C.f3,{children:(0,N.jsx)(b.g,{type:e.type})}),(0,N.jsx)(k.d,{description:e.description}),(0,N.jsx)(C.UX,{title:"Mapped to:",items:f[e.name]})]},n)}))})}),(0,N.jsx)(S.pC,{title:"Outputs",children:(0,N.jsx)(c.x,{padding:{vertical:16,horizontal:24},children:n.outputDefinitions.map((function(e,n){return(0,N.jsxs)(S.JB,{children:[(0,N.jsxs)(S.Pb,{children:[(0,x.By)(e.name),e.isDynamic&&(0,N.jsx)("span",{title:"DynamicOutput",children:"[*]"})]}),(0,N.jsx)(C.f3,{children:(0,N.jsx)(b.g,{type:e.type})}),(0,N.jsx)(C.UX,{title:"Mapped from:",items:m[e.name]}),(0,N.jsx)(k.d,{description:e.description})]},n)}))})}),n.assetNodes.length>0&&(0,N.jsx)(S.pC,{title:"Yielded Assets",children:n.assetNodes.map((function(e){return(0,N.jsxs)(Z,{to:(0,y.p)(e.assetKey),children:[(0,N.jsx)(d.JO,{name:"asset"})," ",(0,g.ll)(e.assetKey)]},e.id)}))}),t&&(0,N.jsx)(S.pC,{title:"All Invocations",children:(0,N.jsx)(I,{invocations:t(n.name),onClickInvocation:i})})]})},_=(0,l.Ps)(r||(r=(0,o.Z)(["\n  fragment SidebarOpDefinitionFragment on ISolidDefinition {\n    ...OpTypeSignatureFragment\n    __typename\n    name\n    description\n    metadata {\n      key\n      value\n    }\n    assetNodes {\n      id\n      assetKey {\n        path\n      }\n    }\n    outputDefinitions {\n      name\n      description\n      isDynamic\n      type {\n        ...DagsterTypeWithTooltipFragment\n      }\n    }\n    inputDefinitions {\n      name\n      description\n      type {\n        ...DagsterTypeWithTooltipFragment\n      }\n    }\n    ... on SolidDefinition {\n      requiredResources {\n        resourceKey\n      }\n      configField {\n        configType {\n          ...ConfigTypeSchemaFragment\n          recursiveConfigTypes {\n            ...ConfigTypeSchemaFragment\n          }\n        }\n      }\n    }\n    ... on CompositeSolidDefinition {\n      id\n      inputMappings {\n        definition {\n          name\n        }\n        mappedInput {\n          definition {\n            name\n          }\n          solid {\n            name\n          }\n        }\n      }\n      outputMappings {\n        definition {\n          name\n        }\n        mappedOutput {\n          definition {\n            name\n          }\n          solid {\n            name\n          }\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),b.B,v.C,w.S),I=function(e){var n=e.invocations,t=e.onClickInvocation,r=f.useState(!1),o=(0,i.Z)(r,2),a=o[0],s=o[1],l=n.filter((function(e){return!(0,g.pv)(e.pipelineName||"")})),c=a?l:l.slice(0,20);return(0,N.jsxs)(N.Fragment,{children:[c.map((function(e,n){return(0,N.jsx)(C.Kn,{invocation:e,onClick:function(){return t(e)}},n)})),c.length<l.length&&(0,N.jsx)(C.Sz,{onClick:function(){return s(!0)},children:"Show ".concat(n.length-c.length," More Invocations")})]})},Z=(0,s.ZP)(m.rU).withConfig({displayName:"SidebarOpDefinition__AssetNodeListItem",componentId:"sc-42lm98-0"})(["user-select:none;padding:12px 24px;cursor:pointer;border-bottom:1px solid ",";display:flex;gap:6px;&:last-child{border-bottom:none;}&:hover{background:",";}font-family:",";"],p.w.KeylineGray,p.w.Gray50,h.b.monospace)},36758:function(e,n,t){t.d(n,{Sz:function(){return y},f3:function(){return v},UX:function(){return w},Kn:function(){return b},uC:function(){return k},ep:function(){return S},bZ:function(){return C},b1:function(){return E},eK:function(){return _}});var r=t(81034),i=t(95764),o=t(922),a=t(33918),s=t(7838),l=t(12745),c=t(6466),u=t(89279),d=t(8546),p=(t(325),t(74549)),h=t(16521),f=t(33650),m=t(53857),x=t(32289),g=["label"],y=o.ZP.button.withConfig({displayName:"SidebarOpHelpers__ShowAllButton",componentId:"re3duj-0"})(["background:transparent;border:none;color:",";text-decoration:underline;padding-top:10px;font-size:0.9rem;"],s.w.Blue500),v=o.ZP.div.withConfig({displayName:"SidebarOpHelpers__TypeWrapper",componentId:"re3duj-1"})(["margin-bottom:10px;"]),j=function(e){return(0,x.jsx)(p.rU,{to:"./".concat(e.solid.name),children:(0,x.jsx)(l.EK,{children:(0,h.R)(e)})})},w=function(e){return e.items&&e.items.length?(0,x.jsxs)(a.xv,{children:[e.title,e.items.map((function(e,n){return(0,x.jsx)(j,(0,i.Z)({},e),n)}))]}):null},b=function(e){var n=e.invocation,t=n.handleID,r=n.pipelineName,i=t.split(".");return(0,x.jsxs)(Z,{onClick:e.onClick,children:[r&&(0,x.jsx)("div",{style:{color:s.w.Blue700},children:r}),(0,x.jsx)(f.E6,{stepKey:i.join(".")})]})},k=function(e){var n=e.from,t=e.to,r=e.isDynamic;return(0,x.jsxs)("tr",{children:[(0,x.jsx)(N,{children:"string"===typeof n?(0,x.jsx)(l.EK,{children:n}):(0,x.jsx)(j,(0,i.Z)({},n))}),(0,x.jsx)("td",{style:{whiteSpace:"nowrap",textAlign:"right"},children:(0,x.jsxs)(c.Z,{direction:"row",spacing:2,alignItems:"center",children:[r&&(0,x.jsx)(u.JO,{name:"op_dynamic",color:s.w.Gray700}),(0,x.jsx)(u.JO,{name:"arrow_forward",color:s.w.Gray700})]})}),(0,x.jsx)(N,{children:"string"===typeof t?(0,x.jsx)(l.EK,{children:t}):(0,x.jsx)(j,(0,i.Z)({},t))})]})},S=function(e){var n=e.label,t=(0,r.Z)(e,g);return(0,x.jsx)("tr",{children:(0,x.jsx)(I,(0,i.Z)((0,i.Z)({},t),{},{children:n}))})},C=(0,o.ZP)(m.M$).withConfig({displayName:"SidebarOpHelpers__ResourceHeader",componentId:"re3duj-2"})(["font-size:14px;"]),N=o.ZP.td.withConfig({displayName:"SidebarOpHelpers__Cell",componentId:"re3duj-3"})(["text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:0;width:48%;"]),E=o.ZP.div.withConfig({displayName:"SidebarOpHelpers__ResourceContainer",componentId:"re3duj-4"})(["display:flex;align-items:flex-start;& h4{margin-top:0;}& ","{margin-right:8px;}"],u.a1),_=o.ZP.table.withConfig({displayName:"SidebarOpHelpers__DependencyTable",componentId:"re3duj-5"})(["width:100%;"]),I=o.ZP.td.withConfig({displayName:"SidebarOpHelpers__DependencyHeaderCell",componentId:"re3duj-6"})(["font-size:0.7rem;color:",";"],s.w.Gray400),Z=o.ZP.div.withConfig({displayName:"SidebarOpHelpers__InvocationContainer",componentId:"re3duj-7"})(["user-select:none;padding:12px 24px;cursor:pointer;border-bottom:1px solid ",";&:last-child{border-bottom:none;}&:hover{background:",";}font-family:",";","{margin-left:-12px;}"],s.w.KeylineGray,s.w.Gray50,d.b.monospace,f.dE)},23196:function(e,n,t){t.d(n,{b:function(){return o}});var r=t(325),i=t(82348),o=function(e,n){var t=e.pipelineName,o=r.useMemo((function(){return n?"Job: ".concat(t):"Pipeline: ".concat(t)}),[n,t]);(0,i.j)(o)}},53218:function(e,n,t){t.d(n,{D:function(){return j}});var r={};t.r(r),t.d(r,{SidebarComponent:function(){return f}});var i={};t.r(i),t.d(i,{SidebarComponent:function(){return x}});var o={};t.r(o),t.d(o,{SidebarComponent:function(){return y}});var a=t(19065),s=t(75453),l=t(89279),c=t(8358),u=t(87490),d=t.n(u),p=t(325),h=t(32289),f=function(e){var n=p.useState(!1),t=(0,a.Z)(n,2),r=t[0],i=t[1];p.useEffect((function(){var e=function(){return i(!0)};return document.addEventListener("show-kind-info",e),function(){return document.removeEventListener("show-kind-info",e)}}),[]);var o=e.definition.metadata.filter((function(e){return"kind"!==e.key})).sort((function(e,n){return e.key.localeCompare(n.key)}));return 0===o.length?(0,h.jsx)("span",{}):(0,h.jsxs)("div",{children:[(0,h.jsx)(s.zx,{icon:(0,h.jsx)(l.JO,{name:"content_copy"}),onClick:function(){return i(!0)},children:"View metadata"}),(0,h.jsxs)(c.Vq,{title:"Metadata: ".concat(e.definition.name),isOpen:r,onClose:function(){return i(!1)},children:[(0,h.jsx)(c.a7,{children:(0,h.jsx)("div",{style:{maxHeight:400,overflow:"scroll"},children:(0,h.jsxs)("table",{className:"bp3-html-table bp3-html-table-striped",style:{width:"100%"},children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Key"}),(0,h.jsx)("th",{children:"Value"})]})}),(0,h.jsx)("tbody",{children:o.map((function(e){var n=e.key,t=e.value;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:d()(n)}),(0,h.jsx)("td",{children:(0,h.jsx)("code",{style:{whiteSpace:"pre-wrap"},children:t})})]},n)}))})]})})}),(0,h.jsx)(c.cN,{children:(0,h.jsx)(s.zx,{onClick:function(){return i(!1)},children:"Close"})})]})]})},m=t(52848),x=function(e){var n,t=p.useContext(m.I).rootServerURI,r=p.useState(!1),i=(0,a.Z)(r,2),o=i[0],u=i[1];p.useEffect((function(){var e=function(){return u(!0)};return document.addEventListener("show-kind-info",e),function(){return document.removeEventListener("show-kind-info",e)}}),[]);var d=e.definition.metadata.find((function(e){return"notebook_path"===e.key})),f=null===(n=e.repoAddress)||void 0===n?void 0:n.location;return d?(0,h.jsxs)("div",{children:[(0,h.jsx)(s.zx,{icon:(0,h.jsx)(l.JO,{name:"content_copy"}),onClick:function(){return u(!0)},children:"View Notebook"}),(0,h.jsxs)(c.Vq,{icon:"info",onClose:function(){return u(!1)},style:{width:"80vw",maxWidth:900},title:d.value.split("/").pop(),usePortal:!0,isOpen:o,children:[(0,h.jsx)(c.a7,{children:(0,h.jsx)("iframe",{title:d.value,src:"".concat(t,"/dagit/notebook?path=").concat(encodeURIComponent(d.value),"&repoLocName=").concat(f),sandbox:"",style:{border:0,background:"white"},seamless:!0,width:"100%",height:500})}),(0,h.jsx)(c.cN,{children:(0,h.jsx)(s.zx,{onClick:function(){return u(!1)},children:"Close"})})]})]}):(0,h.jsx)("span",{})},g=t(24818),y=function(e){var n=p.useState(!1),t=(0,a.Z)(n,2),r=t[0],i=t[1];p.useEffect((function(){var e=function(){return i(!0)};return document.addEventListener("show-kind-info",e),function(){return document.removeEventListener("show-kind-info",e)}}),[]);var o=e.definition.metadata.find((function(e){return"sql"===e.key}));return o?(0,h.jsxs)("div",{children:[(0,h.jsx)(s.zx,{icon:(0,h.jsx)(l.JO,{name:"content_copy"}),onClick:function(){return i(!0)},children:"View SQL"}),(0,h.jsxs)(c.Vq,{icon:"info",onClose:function(){return i(!1)},style:{width:"80vw",maxWidth:900},title:"SQL: ".concat(e.definition.name),isOpen:r,children:[(0,h.jsx)(g.NU,{options:{lineNumbers:!0,mode:"sql"},value:o.value}),(0,h.jsx)(c.cN,{topBorder:!0,children:(0,h.jsx)(s.zx,{intent:"primary",onClick:function(){return i(!1)},children:"Close"})})]})]}):(0,h.jsx)("span",{})},v={sql:o,ipynb:i,snowflake:o};function j(e){var n=e.find((function(e){return"kind"===e.key}));return n?v[n.value]||r:null}},6527:function(e,n,t){var r;t.d(n,{i:function(){return r},w:function(){return i}}),function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.CRITICAL="CRITICAL",e.EVENT="EVENT"}(r||(r={}));var i=["INFO","WARNING","ERROR","CRITICAL","EVENT"]},33650:function(e,n,t){t.d(n,{X2:function(){return w},Yw:function(){return b},E6:function(){return k},dE:function(){return S},pq:function(){return N},qH:function(){return _}});var r=t(19065),i=t(16798),o=t(922),a=t(7838),s=t(8546),l=t(11831),c=t(57753),u=t(41332),d=t.n(u),p=t(325),h=t(27601),f=t(74549),m=t(76341),x=t(37971),g=t(7489),y=t(6527),v=t(81912),j=t(32289),w=o.ZP.div.withConfig({displayName:"LogsRowComponents__Row",componentId:"sc-1hihxk4-0"})(["font-size:0.9em;width:100%;height:100%;max-height:17em;word-break:break-word;white-space:pre-wrap;font-family:",";display:flex;flex-direction:row;align-items:baseline;overflow:hidden;border-top:1px solid ",";background:",";&:hover{background:",";}color:",";"],s.b.monospace,a.w.KeylineGray,(function(e){var n=e.highlighted,t=e.level;return n?"#ffe39f":function(e){var n;return(n={},(0,i.Z)(n,y.i.DEBUG,a.w.White),(0,i.Z)(n,y.i.INFO,a.w.White),(0,i.Z)(n,y.i.EVENT,a.w.White),(0,i.Z)(n,y.i.WARNING,a.w.Yellow50),(0,i.Z)(n,y.i.ERROR,a.w.Red50),(0,i.Z)(n,y.i.CRITICAL,a.w.Red50),n)[e]}(t)}),(function(e){return e.highlighted?"#ffe39f":"white"}),(function(e){var n;return(n={},(0,i.Z)(n,y.i.DEBUG,a.w.Gray400),(0,i.Z)(n,y.i.INFO,a.w.Gray900),(0,i.Z)(n,y.i.EVENT,a.w.Gray900),(0,i.Z)(n,y.i.WARNING,a.w.Yellow700),(0,i.Z)(n,y.i.ERROR,a.w.Red500),(0,i.Z)(n,y.i.CRITICAL,a.w.Red500),n)[e.level]})),b=o.ZP.div.withConfig({displayName:"LogsRowComponents__StructuredContent",componentId:"sc-1hihxk4-1"})(["background:rgba(255,255,255,0.5);color:",";box-sizing:border-box;border-left:1px solid ",";word-break:break-word;white-space:pre-wrap;font-family:",";flex:1;align-self:stretch;display:flex;flex-direction:row;align-items:baseline;"],a.w.Gray900,a.w.KeylineGray,s.b.monospace),k=function(e){var n=p.useContext(v.D7),t=String(e.stepKey).split(".");return(0,j.jsx)(S,{style:{width:n.solid},children:e.stepKey?t.map((function(e,n){return(0,j.jsxs)("div",{"data-tooltip":e,"data-tooltip-style":C,style:{marginLeft:Math.max(0,15*n-9),fontWeight:n===t.length-1?600:300},children:[n>0?"\u21b3":"",e.length>30-2*n?"".concat(e.substr(0,16-2*n),"\u2026").concat(e.substr(e.length-14)):e]},n)})):"-"})},S=o.ZP.div.withConfig({displayName:"LogsRowComponents__OpColumnContainer",componentId:"sc-1hihxk4-2"})(["width:250px;flex-shrink:0;padding:4px 12px;"]),C=JSON.stringify({fontSize:"0.9em",fontFamily:s.b.monospace,color:a.w.Dark,background:a.w.White,border:"1px solid ".concat(a.w.Gray100),top:-8,left:1}),N=p.memo((function(e){var n=e.time,t=e.runStartTime,i=e.stepStartTime,o=(0,h.TH)(),a=p.useContext(v.D7),u=p.useContext(x.j),y=(0,r.Z)(u,1)[0],w="string"===typeof n&&"number"===typeof t,b="".concat(o.pathname,"?").concat(d().stringify({focusedTime:e.time})),k=(0,m.XA)(Number(n)-(t||0)),S=(0,m.XA)(Number(n)-(i||0));return(0,j.jsx)(E,{style:{width:a.timestamp},children:(0,j.jsx)(l.u,{canShow:w,content:(0,j.jsx)(c.nZ,{spacing:0,dark:!0,rows:[{key:"Since start of run",value:(0,j.jsx)("span",{style:{fontFamily:s.b.monospace,fontSize:"13px"},children:k})},i?{key:"Since start of step",value:(0,j.jsx)("span",{style:{fontFamily:s.b.monospace,fontSize:"13px"},children:S})}:null]}),placement:"left",children:(0,j.jsx)(f.rU,{to:b,children:function(){if(n){var e=Number(n),t=navigator.language,r=new Date(e).toLocaleTimeString(t,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23",timeZone:"Automatic"===y?(0,g.cw)():y}),i=e%1e3/1e3;return"".concat(r).concat(i.toLocaleString(t,{minimumFractionDigits:3,maximumFractionDigits:3}).slice(1))}return""}()})})})})),E=o.ZP.div.withConfig({displayName:"LogsRowComponents__TimestampColumnContainer",componentId:"sc-1hihxk4-3"})(["flex-shrink:0;padding:4px 4px 4px 12px;a:link,a:visited,a:hover,a:active{color:",";}a:hover,a:active{text-decoration:underline;}"],a.w.Gray400),_=function(e){var n=p.useContext(v.D7);return(0,j.jsx)(I,{style:{width:n.eventType},children:e.children})},I=o.ZP.div.withConfig({displayName:"LogsRowComponents__EventTypeColumnContainer",componentId:"sc-1hihxk4-4"})(["flex-shrink:0;color:",";padding:4px;"],a.w.Gray400)},12244:function(e,n,t){t.d(n,{x:function(){return ee},S:function(){return X}});var r,i,o=t(57994),a=t(98907),s=t(64428),l=t(28463),c=t(99500),u=t(95764),d=t(922),p=t(3159),h=t(7838),f=t(89646),m=t(325),x=t(2652),g=t(95806),y=t(32030),v=t(14156),j=t(12436),w=t(47072),b=t(4735),k=t(5484),S=t(32289),C=d.ZP.div.withConfig({displayName:"CellTruncationProvider__OverflowFade",componentId:"izjhhp-0"})(["position:absolute;bottom:0;left:0;right:0;height:40px;user-select:none;pointer-events:none;background:linear-gradient(to bottom,rgba(245,248,250,0) 0%,rgba(245,248,250,255) 100%);"]),N=d.ZP.div.withConfig({displayName:"CellTruncationProvider__OverflowButtonContainer",componentId:"izjhhp-1"})(["position:absolute;bottom:6px;left:0;right:0;display:flex;flex-direction:row;justify-content:center;"]),E=d.ZP.button.withConfig({displayName:"CellTruncationProvider__OverflowButton",componentId:"izjhhp-2"})(["border:0;cursor:pointer;user-select:none;font-size:12px;font-weight:500;background:rgba(100,100,100,0.7);border-radius:4px;line-height:32px;padding:0 12px;color:",";&:hover{background:rgba(100,100,100,0.85);}&:focus,&:active{outline:none;}&:active{background:rgba(0,0,0,0.7);}"],h.w.White),_=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={isOverflowing:!1},e.contentContainerRef=m.createRef(),e.onView=function(){var n=e.props.onExpand;n?n():e.defaultExpand()},e}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){this.detectOverflow()}},{key:"componentDidUpdate",value:function(){this.detectOverflow()}},{key:"detectOverflow",value:function(){var e=this.contentContainerRef.current&&this.contentContainerRef.current.firstElementChild;if(e){var n=e.scrollHeight>this.props.style.height;n!==this.state.isOverflowing&&this.setState({isOverflowing:n})}}},{key:"defaultExpand",value:function(){var e=this.contentContainerRef.current&&this.contentContainerRef.current.textContent;e&&(0,v._)({body:(0,S.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:e})})}},{key:"render",value:function(){var e=(0,u.Z)((0,u.Z)({},this.props.style),{},{overflow:"hidden"});return(0,S.jsxs)("div",{style:e,children:[(0,S.jsx)("div",{ref:this.contentContainerRef,children:this.props.children}),(this.state.isOverflowing||this.props.forceExpandability)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C,{}),(0,S.jsx)(N,{children:(0,S.jsx)(E,{onClick:this.onView,children:"View full message"})})]})]})}}]),t}(m.Component),I=t(33650),Z=t(54268),T=t(41332),P=t.n(T),R=t(74549),O=t(27601),D=t(76341),L=t(39061),A=t(77171),F=t(1557),M=function(e){var n,t=e.node,r=e.metadata,i=(0,O.TH)(),o=t.eventType;switch(t.__typename){case"ExecutionStepFailureEvent":return(0,S.jsx)(G,{eventType:o,error:t.error,metadataEntries:null===t||void 0===t||null===(n=t.failureMetadata)||void 0===n?void 0:n.metadataEntries,errorSource:t.errorSource,message:t.error?void 0:t.message});case"ExecutionStepUpForRetryEvent":return(0,S.jsx)(K,{error:t.error,message:t.message});case"ExecutionStepStartEvent":if(!t.stepKey||r.logCaptureSteps)return(0,S.jsx)(z,{message:t.message,eventType:o});var a=P().parse(i.search),s=(0,u.Z)((0,u.Z)({},a),{},{logType:"stdout",logs:"query:".concat(t.stepKey),selection:t.stepKey}),l="".concat(i.pathname,"?").concat(P().stringify(s));return(0,S.jsx)(z,{message:t.message,eventType:o,children:(0,S.jsx)(b.Ij,{rows:[{label:"step_logs",item:(0,S.jsx)(R.rU,{to:l,style:{color:"inherit"},children:"View Raw Step Output"})}]})});case"ExecutionStepSkippedEvent":return(0,S.jsx)(z,{message:t.message,eventType:o,eventColor:"rgba(173, 185, 152, 0.3)"});case"ExecutionStepRestartEvent":case"RunStartEvent":case"RunEnqueuedEvent":case"RunDequeuedEvent":case"RunStartingEvent":case"RunCancelingEvent":case"ResourceInitStartedEvent":case"ResourceInitSuccessEvent":case"StepWorkerStartedEvent":case"StepWorkerStartingEvent":return(0,S.jsx)(z,{message:t.message,eventType:o});case"ExecutionStepSuccessEvent":case"RunSuccessEvent":return(0,S.jsx)(z,{message:t.message,eventType:o,eventIntent:"success"});case"ExecutionStepInputEvent":return(0,S.jsx)(z,{message:t.message+(t.typeCheck.description?" "+t.typeCheck.description:""),eventType:o,eventIntent:t.typeCheck.success?"success":"warning",children:(0,S.jsx)(b.gD,{entries:t.typeCheck.metadataEntries})});case"ExecutionStepOutputEvent":return(0,S.jsx)(z,{message:t.message+(t.typeCheck.description?" "+t.typeCheck.description:""),eventType:o,eventIntent:t.typeCheck.success?"success":"warning",children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.gD,{entries:t.typeCheck.metadataEntries}),(0,S.jsx)(b.gD,{entries:t.metadataEntries})]})});case"StepExpectationResultEvent":return(0,S.jsx)(z,{message:t.message,eventType:o,eventIntent:t.expectationResult.success?"success":"warning",children:(0,S.jsx)(b.gD,{entries:t.expectationResult.metadataEntries})});case"MaterializationEvent":return(0,S.jsx)(U,{message:t.message,assetKey:t.assetKey,metadataEntries:t.metadataEntries,eventType:o,timestamp:t.timestamp});case"ObservationEvent":return(0,S.jsx)(U,{message:"",assetKey:t.assetKey,metadataEntries:t.metadataEntries,eventType:o,timestamp:t.timestamp});case"AssetMaterializationPlannedEvent":case"HookCompletedEvent":case"HookSkippedEvent":case"AlertStartEvent":case"AlertSuccessEvent":return(0,S.jsx)(z,{eventType:o,message:t.message});case"ObjectStoreOperationEvent":return(0,S.jsx)(z,{message:t.message,eventType:o,children:(0,S.jsx)(b.gD,{entries:t.operationResult.metadataEntries})});case"HandledOutputEvent":case"LoadedInputEvent":return(0,S.jsx)(z,{message:t.message,eventType:o,children:(0,S.jsx)(b.gD,{entries:t.metadataEntries})});case"HookErroredEvent":return(0,S.jsx)(G,{eventType:o,error:t.error});case"AlertFailureEvent":return(0,S.jsx)(z,{eventType:o,message:t.message,eventIntent:"warning"});case"ResourceInitFailureEvent":case"RunFailureEvent":return t.error?(0,S.jsx)(G,{message:t.message,error:t.error,eventType:o}):(0,S.jsx)(z,{message:t.message,eventType:o,eventIntent:"danger"});case"RunCanceledEvent":return(0,S.jsx)(G,{message:t.message,eventType:o});case"EngineEvent":return t.error?(0,S.jsx)(G,{message:t.message,error:t.error,eventType:o}):(0,S.jsx)(z,{message:t.message,eventType:o,eventColor:"rgba(27,164,206,0.2)",children:(0,S.jsx)(b.gD,{entries:t.metadataEntries})});case"LogMessageEvent":return(0,S.jsx)(z,{message:t.message});case"LogsCapturedEvent":var c=P().parse(i.search,{ignoreQueryPrefix:!0}),d=(0,u.Z)((0,u.Z)({},c),{},{logType:"stdout",logKey:t.stepKey}),p="".concat(i.pathname,"?").concat(P().stringify(d)),h=(0,S.jsx)(R.rU,{to:p,style:{color:"inherit"},children:"View stdout / stderr"}),f=t.stepKey?[{label:"captured_logs",item:h}]:[{label:"step_keys",item:(0,S.jsx)(S.Fragment,{children:JSON.stringify(t.stepKeys)})},{label:"captured_logs",item:h}];return(0,S.jsx)(z,{eventType:o,message:t.message,children:(0,S.jsx)(b.Ij,{rows:f})});default:return(0,D.UT)(t)}},z=function(e){var n=e.message,t=e.eventType,r=e.eventColor,i=e.eventIntent,o=e.children;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I.qH,{children:t&&(0,S.jsx)(Z.V,{intent:i,style:r?{fontSize:"0.9em",color:"black",background:r}:{fontSize:"0.9em"},children:(0,F.v)(t)})}),(0,S.jsxs)(y.x,{padding:{horizontal:12},style:{flex:1},children:[n,o]})]})},G=function(e){var n=e.message,t=e.error,r=e.errorSource,i=e.eventType,o=e.metadataEntries,a=null,s=null,l=null,c=null;return n&&(a=(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{children:n}),(0,S.jsx)("br",{})]})),t&&(s=(0,S.jsx)("span",{style:{color:h.w.Red500},children:"".concat(t.message)}),!t.stack.length||r===k.zH.USER_CODE_ERROR&&t.causes.length||(l=(0,S.jsx)("span",{style:{color:h.w.Red500},children:"\nStack Trace:\n".concat(t.stack)})),t.causes.length&&(c=t.causes.map((function(e){return(0,S.jsxs)(S.Fragment,{children:["The above exception was caused by the following exception:\n",(0,S.jsx)("span",{style:{color:h.w.Red500},children:"".concat(e.message)}),null!==e&&void 0!==e&&e.stack.length?(0,S.jsx)("span",{style:{color:h.w.Red500},children:"\nStack Trace:\n".concat(e.stack)}):null]})})))),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I.qH,{children:(0,S.jsx)(Z.V,{minimal:!0,intent:"danger",children:(0,F.v)(i)})}),(0,S.jsxs)(y.x,{padding:{horizontal:12},style:{flex:1},children:[a,s,(0,S.jsx)(b.gD,{entries:o}),l,c]})]})},K=function(e){var n=e.message,t=e.error,r=null,i=null,o=null,a=null;return n&&(r=(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("span",{children:n}),(0,S.jsx)("br",{})]})),t&&(t.causes.length?i=(0,S.jsx)(S.Fragment,{children:t.causes.map((function(e,n){return(0,S.jsxs)(S.Fragment,{children:[0===n?"The retry request was caused by the following exception:\n":"The above exception was caused by the following exception:\n",(0,S.jsx)("span",{style:{color:h.w.Red500},children:"".concat(e.message)}),(0,S.jsx)("span",{style:{color:h.w.Red500},children:"\nStack Trace:\n".concat(e.stack)})]})}))}):(o=(0,S.jsx)("span",{style:{color:h.w.Red500},children:"".concat(t.message)}),a=(0,S.jsx)("span",{style:{color:h.w.Red500},children:"\nStack Trace:\n".concat(t.stack)}))),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I.qH,{children:(0,S.jsx)(Z.V,{minimal:!0,intent:"warning",children:(0,F.v)(k.i3.STEP_UP_FOR_RETRY)})}),(0,S.jsxs)(y.x,{padding:{horizontal:12},style:{flex:1},children:[r,o,a,i]})]})},U=function(e){var n=e.message,t=e.assetKey,r=e.metadataEntries,i=e.eventType,o=e.timestamp;if(!t)return(0,S.jsx)(z,{message:n,eventType:i,children:(0,S.jsx)(b.gD,{entries:r})});var a=(0,A.p)(t,{asOf:o}),s=(0,S.jsxs)("span",{style:{marginLeft:10},children:["[",(0,S.jsx)(b.aw,{to:a,children:"View Asset"}),"]"]});return(0,S.jsx)(z,{message:n,eventType:i,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.Ij,{rows:[{label:"asset_key",item:(0,S.jsxs)(S.Fragment,{children:[(0,L.ll)(t),s]})}],styles:{paddingBottom:0}}),(0,S.jsx)(b.gD,{entries:r})]})})},B=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).onExpand=function(){var n=e.props,t=n.node,r=n.metadata;"ExecutionStepFailureEvent"===t.__typename?(0,v._)({title:"Error",body:(0,S.jsx)(j.T9,{error:t.error?t.error:t,failureMetadata:t.failureMetadata,errorSource:t.errorSource})}):"ExecutionStepUpForRetryEvent"===t.__typename?(0,v._)({title:"Step Retry",body:(0,S.jsx)(j.T9,{error:t.error?t.error:t})}):"EngineEvent"===t.__typename&&t.error||"RunFailureEvent"===t.__typename&&t.error||"HookErroredEvent"===t.__typename||"ResourceInitFailureEvent"===t.__typename?(0,v._)({title:"Error",body:(0,S.jsx)(j.T9,{error:t.error?t.error:t})}):(0,v._)({title:t.stepKey||"Info",body:(0,S.jsx)(I.Yw,{children:(0,S.jsx)(M,{node:t,metadata:r})})})},e}return(0,a.Z)(t,[{key:"render",value:function(){return(0,S.jsx)(_,{style:this.props.style,onExpand:this.onExpand,children:(0,S.jsx)(V,{node:this.props.node,metadata:this.props.metadata,highlighted:this.props.highlighted})})}}]),t}(m.Component),$=(0,p.Ps)(r||(r=(0,c.Z)(["\n  fragment LogsRowStructuredFragment on DagsterRunEvent {\n    __typename\n    ... on MessageEvent {\n      message\n      eventType\n      timestamp\n      level\n      stepKey\n    }\n    ... on DisplayableEvent {\n      label\n      description\n      metadataEntries {\n        ...MetadataEntryFragment\n      }\n    }\n    ... on MarkerEvent {\n      markerStart\n      markerEnd\n    }\n    ... on ErrorEvent {\n      error {\n        ...PythonErrorFragment\n      }\n    }\n    ... on MaterializationEvent {\n      assetKey {\n        path\n      }\n    }\n    ... on ObservationEvent {\n      assetKey {\n        path\n      }\n    }\n    ... on ExecutionStepFailureEvent {\n      errorSource\n      failureMetadata {\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on ExecutionStepInputEvent {\n      inputName\n      typeCheck {\n        label\n        description\n        success\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on ExecutionStepOutputEvent {\n      outputName\n      typeCheck {\n        label\n        description\n        success\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on StepExpectationResultEvent {\n      expectationResult {\n        success\n        label\n        description\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on ObjectStoreOperationEvent {\n      operationResult {\n        op\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on HandledOutputEvent {\n      outputName\n      managerKey\n    }\n    ... on LoadedInputEvent {\n      inputName\n      managerKey\n      upstreamOutputName\n      upstreamStepKey\n    }\n    ... on LogsCapturedEvent {\n      logKey\n      stepKeys\n    }\n  }\n  ","\n  ","\n"])),b.it,j.Bq),V=m.memo((function(e){var n=e.node,t=e.metadata,r=e.highlighted,i=n.stepKey,o=i?t.steps[i]:null,a=null===o||void 0===o?void 0:o.start;return(0,S.jsxs)(I.X2,{level:k.in.INFO,onMouseEnter:function(){return(0,w.kZ)(n.timestamp)},onMouseLeave:function(){return(0,w.kZ)(null)},highlighted:r,children:[(0,S.jsx)(I.E6,{stepKey:"stepKey"in n&&n.stepKey}),(0,S.jsx)(I.Yw,{children:(0,S.jsx)(M,{node:n,metadata:t})}),(0,S.jsx)(I.pq,{time:"timestamp"in n?n.timestamp:null,runStartTime:t.startedPipelineAt,stepStartTime:a})]})}));V.displayName="StructuredMemoizedContent";var q=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).onExpand=function(){(0,v._)({title:"Log",body:(0,S.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:e.props.node.message})})},e}return(0,a.Z)(t,[{key:"render",value:function(){return(0,S.jsx)(_,{style:this.props.style,onExpand:this.onExpand,children:(0,S.jsx)(W,{node:this.props.node,highlighted:this.props.highlighted,metadata:this.props.metadata})})}}]),t}(m.Component),H=(0,p.Ps)(i||(i=(0,c.Z)(["\n  fragment LogsRowUnstructuredFragment on DagsterRunEvent {\n    __typename\n    ... on MessageEvent {\n      message\n      timestamp\n      level\n      stepKey\n    }\n  }\n"]))),W=m.memo((function(e){var n=e.node,t=e.highlighted,r=e.metadata,i=n.stepKey,o=i?r.steps[i]:null,a=null===o||void 0===o?void 0:o.start;return(0,S.jsxs)(I.X2,{level:n.level,onMouseEnter:function(){return(0,w.kZ)(n.timestamp)},onMouseLeave:function(){return(0,w.kZ)(null)},highlighted:t,children:[(0,S.jsx)(I.E6,{stepKey:n.stepKey}),(0,S.jsx)(I.qH,{children:(0,S.jsx)("span",{style:{marginLeft:8},children:n.level})}),(0,S.jsx)(y.x,{padding:{horizontal:12},style:{flex:1},children:n.message}),(0,S.jsx)(I.pq,{time:n.timestamp,runStartTime:r.startedPipelineAt,stepStartTime:a})]})}));W.displayName="UnstructuredMemoizedContent";var J,Y=t(81912),Q=t(98834);var X=function(e){var n=e.filterKey,t=e.filterStepKeys,r=e.metadata,i=e.filter,o=e.logs,a=m.useRef(null);return(0,S.jsxs)(Y.bu,{onWidthsChanged:function(){return a.current&&a.current.didResize()},children:[(0,S.jsx)(Y.PM,{}),(0,S.jsx)("div",{style:{flex:1,minHeight:0,marginTop:-1},children:(0,S.jsx)(te,{children:function(e){var s=e.width,l=e.height;return(0,S.jsx)(ne,(0,u.Z)({width:s,height:l,ref:a,filterKey:n,loading:o.loading,metadata:r,focusedTime:i.focusedTime},function(e,n,t){var r=e.allNodes.filter((function(e){if("AssetMaterializationPlannedEvent"===e.__typename)return!1;var t=(0,Q.m)(e);return!!n.levels[t]&&!(n.sinceTime&&Number(e.timestamp)<n.sinceTime)})),i=!(!n.logQuery.length||""===n.logQuery[0].value),o=i?r.filter((function(e){return n.logQuery.length>0&&n.logQuery.every((function(n){return"query"===n.token?e.stepKey&&t.includes(e.stepKey):"step"===n.token?e.stepKey&&e.stepKey===n.value:"type"===n.token?e.eventType&&n.value===(0,F.v)(e.eventType):e.message.toLowerCase().includes(n.value.toLowerCase())}))})):[];return{filteredNodes:i&&n.hideNonMatches?o:r,textMatchNodes:o}}(o,i,t)))}})})]})},ee=(0,p.Ps)(J||(J=(0,c.Z)(["\n  fragment LogsScrollingTableMessageFragment on DagsterRunEvent {\n    __typename\n    ...LogsRowStructuredFragment\n    ...LogsRowUnstructuredFragment\n  }\n\n  ","\n  ","\n"])),$,H),ne=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).list=m.createRef(),e.cache=new g.t1({defaultHeight:30,fixedWidth:!0,keyMapper:function(n){return e.props.filteredNodes?e.props.filteredNodes[n].clientsideKey:""}}),e.isAtBottomOrZero=!0,e.scrollToBottomObserver=null,e.onScroll=function(n){var t=n.scrollTop,r=n.scrollHeight,i=n.clientHeight,o=0===t&&r<=i,a=r-i-t<5;e.isAtBottomOrZero=o||a},e.scrollToTime=function(n){if(e.props.filteredNodes&&e.list.current){e.isAtBottomOrZero=!1;var t={index:e.props.filteredNodes.findIndex((function(e){return Number(e.timestamp)>=n})),alignment:"center"};-1===t.index&&(t.index=e.props.filteredNodes.length-1);for(var r=0,i=0;r!==e.list.current.getOffsetForRow(t)&&(r=e.list.current.getOffsetForRow(t),e.list.current.scrollToPosition(r),!((i+=1)>20)););}},e.rowRenderer=function(n){var t,r=n.parent,i=n.index,o=n.style;if(e.props.filteredNodes){var a=e.props.filteredNodes[i],s=Number(a.timestamp)===e.props.focusedTime,l=!(null===(t=e.props.textMatchNodes)||void 0===t||!t.includes(a)),c=e.props.metadata;if(!a)return(0,S.jsx)("span",{});var d=i===e.props.filteredNodes.length-1?{borderBottom:"1px solid ".concat(h.w.Gray100)}:{};return(0,S.jsx)(g.Z8,{cache:e.cache,index:i,parent:r,children:"LogMessageEvent"===a.__typename?(0,S.jsx)(q,{node:a,metadata:c,style:(0,u.Z)((0,u.Z)({},o),{},{width:e.props.width},d),highlighted:l||s}):(0,S.jsx)(B,{node:a,metadata:c,style:(0,u.Z)((0,u.Z)({},o),{},{width:e.props.width},d),highlighted:l||s})},a.clientsideKey)}},e.noContentRenderer=function(){return e.props.filteredNodes?(0,S.jsx)(f.t,{icon:"no-results",title:"No logs to display"}):(0,S.jsx)("span",{})},e}return(0,a.Z)(t,[{key:"listEl",get:function(){var e=this.list.current&&x.findDOMNode(this.list.current);return e instanceof HTMLElement?e:null}},{key:"componentDidMount",value:function(){var e=this;this.attachScrollToBottomObserver(),this.props.focusedTime&&window.requestAnimationFrame((function(){e.scrollToTime(e.props.focusedTime)}))}},{key:"componentDidUpdate",value:function(e){var n,t,r=this;this.list.current&&(this.props.width!==e.width&&this.didResize(),this.props.filterKey!==e.filterKey&&this.list.current.recomputeGridSize(),this.props.focusedTime&&(null===(n=this.props.filteredNodes)||void 0===n?void 0:n.length)!==(null===(t=e.filteredNodes)||void 0===t?void 0:t.length)&&window.requestAnimationFrame((function(){r.scrollToTime(r.props.focusedTime)})))}},{key:"componentWillUnmount",value:function(){this.scrollToBottomObserver&&this.scrollToBottomObserver.disconnect()}},{key:"didResize",value:function(){this.cache.clearAll(),this.forceUpdate()}},{key:"attachScrollToBottomObserver",value:function(){var e=this,n=this.listEl;if(n){var t=null;this.scrollToBottomObserver=new MutationObserver((function(){var r=n.querySelector("[role=rowgroup]");r?r.style.height!==t&&e.isAtBottomOrZero&&(t=r.style.height,n.scrollTop=n.scrollHeight-n.clientHeight):t=null})),this.scrollToBottomObserver.observe(n,{attributes:!0,subtree:!0})}else console.warn("No container, LogsScrollingTable must render listEl")}},{key:"render",value:function(){var e=this.props,n=e.filteredNodes,t=e.height,r=e.loading,i=e.width;return(0,S.jsxs)("div",{children:[r?(0,S.jsx)(re,{children:(0,S.jsx)(f.t,{icon:"spinner",title:"Fetching logs..."})}):null,(0,S.jsx)(g.aV,{ref:this.list,deferredMeasurementCache:this.cache,rowCount:(null===n||void 0===n?void 0:n.length)||0,noContentRenderer:this.noContentRenderer,rowHeight:this.cache.rowHeight,rowRenderer:this.rowRenderer,width:i,height:t,overscanRowCount:10,style:{paddingBottom:50},onScroll:this.onScroll})]})}}]),t}(m.Component),te=function(e){(0,s.Z)(t,e);var n=(0,l.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=n.call.apply(n,[this].concat(i))).state={width:0,height:0},e.resizeObserver=void 0,e}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){var e=this;this.measure();var n=x.findDOMNode(this);if(n&&n instanceof HTMLElement&&"ResizeObserver"in window){var t=window.ResizeObserver;this.resizeObserver=new t((function(n){e.setState({width:n[0].contentRect.width,height:n[0].contentRect.height})})),this.resizeObserver.observe(n)}}},{key:"componentDidUpdate",value:function(){this.measure()}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"measure",value:function(){var e=x.findDOMNode(this);e&&e instanceof HTMLElement&&(e.clientWidth===this.state.width&&e.clientHeight===this.state.height||this.setState({width:e.clientWidth,height:e.clientHeight}))}},{key:"render",value:function(){return(0,S.jsx)("div",{style:{width:"100%",height:"100%"},children:this.props.children(this.state)})}}]),t}(m.Component),re=d.ZP.div.withConfig({displayName:"LogsScrollingTable__ListEmptyState",componentId:"sc-3re64b-0"})(["background-color:rgba(255,255,255,0.7);z-index:100;position:absolute;width:100%;height:calc(100% - 50px);"])},81912:function(e,n,t){t.d(n,{D7:function(){return m},bu:function(){return x},PM:function(){return y}});var r=t(57994),i=t(98907),o=t(64428),a=t(28463),s=t(95764),l=t(922),c=t(7838),u=t(325),d=t(76314),p=t(32289),h="ColumnWidths",f=Object.assign({eventType:140,solid:150,timestamp:117},(0,d.n)(h)),m=u.createContext((0,s.Z)((0,s.Z)({},f),{},{onChange:function(e){}})),x=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state=f,e.onWidthsChangedFromContext=function(n){window.localStorage.setItem(h,JSON.stringify(n)),e.props.onWidthsChanged(n),e.setState(n)},e}return(0,i.Z)(t,[{key:"render",value:function(){return(0,p.jsx)(m.Provider,{value:(0,s.Z)((0,s.Z)({},this.state),{},{onChange:this.onWidthsChangedFromContext}),children:this.props.children})}}]),t}(u.Component),g=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={isDragging:!1,width:0,screenX:0},e.onMouseDown=function(n){var t=e.props.width;e.setState({isDragging:!0,screenX:n.screenX,width:t}),document.addEventListener("mousemove",e.onMouseMove),document.addEventListener("mouseup",e.onMouseUp)},e.onMouseMove=function(n){var t=e.props,r=t.onResize,i=t.handleSide,o=e.state,a=o.isDragging,s=o.width,l=o.screenX;if(n.screenX&&a&&r){var c="left"===i?-1:1;r(Math.max(40,s+(n.screenX-l)*c))}},e.onMouseUp=function(){e.state.isDragging&&e.setState({isDragging:!1}),document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp)},e}return(0,i.Z)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=!!this.props.onResize;return(0,p.jsxs)(j,{style:{width:this.props.width},children:[(0,p.jsx)(w,{onMouseDown:e?this.onMouseDown:void 0,isDraggable:e,isDragging:this.state.isDragging,side:this.props.handleSide||"right",children:(0,p.jsx)("div",{})}),(0,p.jsx)(b,{children:this.props.children})]})}}]),t}(u.Component),y=function(){var e=u.useContext(m);return(0,p.jsxs)(v,{children:[(0,p.jsx)(g,{width:e.solid,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{solid:n}))},children:"Op"}),(0,p.jsx)(g,{width:e.eventType,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{eventType:n}))},children:"Event Type"}),(0,p.jsx)(j,{style:{flex:1},children:"Info"}),(0,p.jsx)(g,{handleSide:"left",width:e.timestamp,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{timestamp:n}))},children:"Timestamp"})]})},v=l.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeadersContainer",componentId:"sc-1br1l7w-0"})(["display:flex;color:",";text-transform:uppercase;font-size:12px;border-bottom:1px solid ",";z-index:2;"],c.w.Gray400,c.w.KeylineGray),j=l.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderContainer",componentId:"sc-1br1l7w-1"})(["flex-shrink:0;position:relative;user-select:none;display:inline-block;padding:0 12px;line-height:32px;"]),w=l.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderDragHandle",componentId:"sc-1br1l7w-2"})(["width:1px;height:20000px;position:absolute;cursor:",";z-index:2;"," padding:0 2px;& > div{width:1px;height:100%;background:",";}"],(function(e){return e.isDraggable?"ew-resize":"default"}),(function(e){return"right"===e.side?"right: -2px;":"left: -2px;"}),(function(e){return e.isDragging?c.w.Gray400:c.w.KeylineGray})),b=l.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderLabel",componentId:"sc-1br1l7w-3"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"])},60057:function(e,n,t){t.d(n,{c:function(){return a}});var r=t(325),i=t(27601),o=t(32289),a=function(e){return r.useEffect((function(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[]),(0,o.jsx)(i.NL,{message:e.message})}},23848:function(e,n,t){t.d(n,{C:function(){return xe},G:function(){return me}});var r,i=t(99500),o=t(47427),a=t(59019),s=t(16798),l=t(95764),c=t(19065),u=t(73701),d=t(3159),p=t(325),h=t(81745),f=t(29440),m=t(5484),x=t(50741),g=t(37099),y=t(33902),v=t(25582),j=t(34653),w=t(922),b=t(32030),k=t(11831),S=t(54268),C=t(7838),N=t(8546),E=t(762),_=t(89646),I=t(12745),Z=t(74549),T=t(37971),P=t(7489),R=t(68156),O=t(71824),D=t(36114),L=t(35815),A=t(59549),F=t(32460),M=function(e,n){return!(e.end<n.start||n.end<e.start)},z=function(e,n,t,r){var i=e.left,o=e.left+Math.max(e.width,t),a=n.left,s=n.left+Math.max(n.width,t),l=Math.min(e.left,n.left),c=Math.max(e.left+Math.max(e.width,t),n.left+Math.max(n.width,t));return M({start:i,end:o},{start:a,end:s})&&(l>r||c<r)},G=t(32289),K=32,U=42,B=36e5,$=function(e){var n=e.bucketByRepo,t=void 0!==n&&n,r=e.jobs,i=e.range,o=p.useState(null),u=(0,c.Z)(o,2),d=u[0],h=u[1],f=(0,O.N)("timeline-expansion-state"),m=f.expandedKeys,x=f.onToggle,g=p.useRef(null),v=p.useCallback((function(e){var n;e?(g.current=new ResizeObserver((function(e){var n=e[0];h(n.contentRect.width)})),g.current.observe(e)):null===(n=g.current)||void 0===n||n.disconnect()}),[]);if(!d||!r.length)return(0,G.jsx)(ae,{$height:182,ref:v,children:d?(0,G.jsx)(oe,{}):null});if(!t){var j=K*(r.length||1);return(0,G.jsxs)(ae,{$height:U+j,ref:v,children:[(0,G.jsx)(J,{interval:B,range:i,height:j}),(0,G.jsx)("div",{children:r.map((function(e,n){return(0,G.jsx)(ie,{job:e,top:n*K+U,range:i,width:d},e.key)}))})]})}var w=r.reduce((function(e,n){var t=n.repoAddress,r=(0,y.l)(t),i=e[r]||[];return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},r,[].concat((0,a.Z)(i),[n])))}),{}),b=Object.keys(w).sort((function(e,n){return e.toLocaleLowerCase().localeCompare(n.toLocaleLowerCase())})),k=U,S=b.filter((function(e){return m.includes(e)})).reduce((function(e,n){return e+w[n].length}),0),C=b.length*L.l+K*S,N=function(e){var n=new Set,t=new Set;return e.forEach((function(e){n.has(e)?t.add(e):n.add(e)})),t}(b.map((function(e){var n;return(null===(n=(0,D.g)(e))||void 0===n?void 0:n.name)||""})));return(0,G.jsxs)(ae,{$height:U+C,ref:v,children:[(0,G.jsx)(J,{interval:B,range:i,height:C}),b.map((function(e){var n,t=null===(n=(0,D.g)(e))||void 0===n?void 0:n.name,r=w[e],o=k,a=m.includes(e);return k=o+L.l+(a?r.length*K:0),(0,G.jsx)(V,{expanded:a,range:i,top:o,repoKey:e,isDuplicateRepoName:!(!t||!N.has(t)),jobs:w[e],onToggle:x,width:d},e)}))]})},V=function(e){var n=e.expanded,t=e.onToggle,r=e.repoKey,i=e.isDuplicateRepoName,o=e.jobs,a=e.range,s=e.top,l=e.width,c=(0,D.g)(r),u=(null===c||void 0===c?void 0:c.name)||"Unknown repo",d=(null===c||void 0===c?void 0:c.location)||"Unknown location",h=p.useCallback((function(){c&&t(c)}),[t,c]);return(0,G.jsxs)("div",{children:[(0,G.jsx)(W,{$top:s,children:(0,G.jsx)(L.L,{expanded:n,repoName:u,repoLocation:d,onClick:h,showLocation:i,rightElement:(0,G.jsx)(q,{jobs:o})})}),n?o.map((function(e,n){return(0,G.jsx)(ie,{job:e,top:s+L.l+n*K,range:a,width:l},e.key)})):null]})},q=p.memo((function(e){var n=e.jobs,t=p.useMemo((function(){var e=0,t=0,r=0;return n.forEach((function(n){n.runs.forEach((function(n){var i=n.status;"SCHEDULED"!==i&&(j.Ys.has(i)?e++:j.hd.has(i)?t++:j._m.has(i)&&r++)}))})),{inProgressCount:e,failedCount:t,succeededCount:r}}),[n]),r=t.inProgressCount,i=t.failedCount,o=t.succeededCount,a=1===r?"1 run in progress":"".concat(r," runs in progress"),s=1===o?"1 run succeeded":"".concat(o," runs succeeded"),l=1===i?"1 run failed":"".concat(i," runs failed");return(0,G.jsxs)(b.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[r>0?(0,G.jsx)(k.u,{content:(0,G.jsx)(H,{children:a}),placement:"top",children:(0,G.jsx)(S.V,{intent:"primary",children:r})}):null,o>0?(0,G.jsx)(k.u,{content:(0,G.jsx)(H,{children:s}),placement:"top",children:(0,G.jsx)(S.V,{intent:"success",children:o})}):null,i>0?(0,G.jsx)(k.u,{content:(0,G.jsx)(H,{children:l}),placement:"top",children:(0,G.jsx)(S.V,{intent:"danger",children:i})}):null]})})),H=w.ZP.span.withConfig({displayName:"RunTimeline__StatusSpan",componentId:"sc-1k6kbha-0"})(["white-space:nowrap;"]),W=w.ZP.div.withConfig({displayName:"RunTimeline__SectionHeaderContainer",componentId:"sc-1k6kbha-1"})(["position:absolute;top:0;left:0;right:0;",""],(function(e){var n=e.$top;return"transform: translateY(".concat(n,"px);")})),J=function(e){var n=e.interval,t=e.range,r=e.height,i=(0,c.Z)(t,2),o=i[0],s=i[1],l=navigator.language,u=p.useContext(T.j),d=(0,c.Z)(u,1)[0],h=p.useMemo((function(){var e=s-o,t=o-o%n,r=Math.ceil(e/n)+1;return(0,a.Z)(new Array(r)).map((function(r,i){var a=t+i*n,s=new Date(a);return{label:s.toLocaleString(l,{hour:"2-digit",timeZone:"Automatic"===d?(0,P.cw)():d}),key:s.toString(),left:(a-o)/e*100}})).filter((function(e){return e.left>0}))}),[s,o,n,l,d]),f=Date.now(),m="".concat(((f-o)/(s-o)*100).toPrecision(3),"%");return(0,G.jsxs)(Y,{style:{height:"".concat(r,"px")},children:[(0,G.jsx)(Q,{children:h.map((function(e){return(0,G.jsx)(X,{style:{left:"".concat(e.left.toPrecision(3),"%")},children:e.label},e.key)}))}),(0,G.jsxs)(ee,{children:[(0,G.jsx)(ne,{style:{left:0,backgroundColor:C.w.Gray200}}),h.map((function(e){return(0,G.jsx)(ne,{style:{left:"".concat(e.left.toPrecision(3),"%")}},e.key)})),f>=o&&f<=s?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(te,{style:{left:m},children:"Now"}),(0,G.jsx)(ne,{style:{left:m,backgroundColor:C.w.Blue500,zIndex:1}})]}):null]})]})},Y=w.ZP.div.withConfig({displayName:"RunTimeline__DividerContainer",componentId:"sc-1k6kbha-2"})(["position:absolute;top:0;left:","px;right:0;font-family:",";color:",";"],320,N.b.monospace,C.w.Gray400),Q=w.ZP.div.withConfig({displayName:"RunTimeline__DividerLabels",componentId:"sc-1k6kbha-3"})(["display:flex;align-items:center;height:","px;position:relative;user-select:none;width:100%;"],U),X=w.ZP.div.withConfig({displayName:"RunTimeline__DividerLabel",componentId:"sc-1k6kbha-4"})(["position:absolute;transform:translateX(-50%);white-space:nowrap;"]),ee=w.ZP.div.withConfig({displayName:"RunTimeline__DividerLines",componentId:"sc-1k6kbha-5"})(["height:100%;position:relative;width:100%;box-shadow:inset 1px 0 0 ",",inset -1px 0 0 ",";"],C.w.KeylineGray,C.w.KeylineGray),ne=w.ZP.div.withConfig({displayName:"RunTimeline__DividerLine",componentId:"sc-1k6kbha-6"})(["background-color:",";height:100%;position:absolute;top:0;width:1px;"],C.w.KeylineGray),te=w.ZP.div.withConfig({displayName:"RunTimeline__NowMarker",componentId:"sc-1k6kbha-7"})(["background-color:",";border-radius:1px;color:",";cursor:default;font-size:12px;line-height:12px;margin-left:-12px;padding:1px 4px;position:absolute;top:-14px;user-select:none;"],C.w.Blue500,C.w.White),re=function(e){var n=!1,t=!1,r=!1,i=!1,o=!1;return e.forEach((function(e){var a=e.status;"SCHEDULED"===a?o=!0:j.sy.has(a)?t=!0:j.Ys.has(a)?n=!0:j.hd.has(a)?r=!0:j._m.has(a)&&(i=!0)})),t?C.w.Blue200:n?C.w.Blue500:r?C.w.Red500:i?C.w.Green500:o?C.w.Blue200:C.w.Gray500},ie=function(e){var n=e.job,t=e.top,r=e.range,i=e.width,o=(0,c.Z)(r,2),s=o[0],l=o[1],u=i-320,d=n.runs,h=p.useMemo((function(){var e=function(e){for(var n=e.runs,t=e.start,r=e.end,i=e.width,o=e.minChunkWidth,s=e.minMultipleWidth,l=r-t,c=(Date.now()-t)/(r-t)*i,u=n.map((function(e){var n=e.startTime,r=e.endTime||Date.now();return{runs:[e],startTime:n,endTime:r,left:Math.max(0,Math.floor((n-t)/l*i)),width:Math.max(o,Math.min(Math.ceil((r-n)/l*i),Math.ceil((r-t)/l*i)))}})).sort((function(e,n){return n.left-e.left})),d=[];u.length;){var p=u.shift(),h=u[0];if(p)if(h&&z(p,h,s,c)){u.shift(),p.runs=[].concat((0,a.Z)(p.runs),(0,a.Z)(h.runs)),p.startTime=Math.min(p.startTime,h.startTime),p.endTime=Math.max(p.endTime,h.endTime);var f=Math.max(p.left+s,p.left+p.width,h.left+h.width),m=Math.min(p.left,h.left);p.width=f-m,p.left=m,u.unshift(p)}else d.push(p)}return d}({runs:d,start:s,end:l,width:u,minChunkWidth:2,minMultipleWidth:16});return e}),[d,s,l,u]);return n.runs.length?(0,G.jsxs)(se,{$top:t,children:[(0,G.jsx)(le,{children:(0,G.jsx)(Z.rU,{to:n.path,children:n.jobName})}),(0,G.jsx)(ce,{children:h.map((function(e){var t=e.left,r=e.width,i=e.runs.length;return(0,G.jsx)(ue,{$color:re(e.runs),$multiple:i>1,style:{left:"".concat(t,"px"),width:"".concat(r,"px")},children:(0,G.jsx)(E.J,{content:(0,G.jsx)(pe,{job:n,batch:e}),position:"top",interactionKind:"hover",className:"chunk-popover-target",children:(0,G.jsx)(b.x,{flex:{direction:"row",justifyContent:"center",alignItems:"center"},style:{height:"100%"},children:i>1?(0,G.jsx)(de,{children:e.runs.length}):null})})},e.runs[0].id)}))})]}):null},oe=function(){return(0,G.jsx)(b.x,{padding:48,children:(0,G.jsx)(_.t,{icon:"schedule",title:"No runs found",description:"No runs or upcoming runs found for this time window"})})},ae=w.ZP.div.withConfig({displayName:"RunTimeline__Timeline",componentId:"sc-1k6kbha-8"})([""," position:relative;"],(function(e){var n=e.$height;return"height: ".concat(n,"px;")})),se=w.ZP.div.withConfig({displayName:"RunTimeline__Row",componentId:"sc-1k6kbha-9"})(["align-items:center;box-shadow:inset 0 -1px 0 ",";display:flex;flex-direction:row;width:100%;height:","px;padding:1px 0;position:absolute;left:0;top:0;",":first-child,:hover{box-shadow:inset 0 1px 0 ",",inset 0 -1px 0 ",";}:hover{background-color:",";}"],C.w.KeylineGray,33,(function(e){var n=e.$top;return"transform: translateY(".concat(n,"px);")}),C.w.KeylineGray,C.w.KeylineGray,C.w.Gray10),le=w.ZP.div.withConfig({displayName:"RunTimeline__JobName",componentId:"sc-1k6kbha-10"})(["align-items:center;display:flex;font-size:13px;justify-content:space-between;line-height:16px;overflow:hidden;padding:0 12px 0 24px;text-overflow:ellipsis;white-space:nowrap;width:","px;"],320),ce=w.ZP.div.withConfig({displayName:"RunTimeline__RunChunks",componentId:"sc-1k6kbha-11"})(["flex:1;position:relative;height:","px;"],K),ue=w.ZP.div.withConfig({displayName:"RunTimeline__RunChunk",componentId:"sc-1k6kbha-12"})(["align-items:center;background-color:",";border-radius:2px;height:","px;position:absolute;top:2px;",";transition:background-color 300ms linear,width 300ms ease-in-out;.chunk-popover-target{display:block;height:100%;width:100%;}"],(function(e){return e.$color}),28,(function(e){return e.$multiple?"min-width: ".concat(16,"px"):null})),de=w.ZP.div.withConfig({displayName:"RunTimeline__BatchCount",componentId:"sc-1k6kbha-13"})(["color:",";cursor:default;font-family:",";font-size:12px;user-select:none;"],C.w.White,N.b.monospace),pe=function(e){var n=e.job,t=e.batch,r=t.runs.slice(0,50),i=t.runs.length-r.length;return(0,G.jsxs)(b.x,{style:{width:"260px"},children:[(0,G.jsx)(b.x,{padding:12,border:{side:"bottom",width:1,color:C.w.KeylineGray},children:(0,G.jsx)(he,{children:n.jobName})}),(0,G.jsx)("div",{style:{maxHeight:"240px",overflowY:"auto"},children:r.map((function(e,n){return(0,G.jsxs)(b.x,{border:n>0?{side:"top",width:1,color:C.w.KeylineGray}:null,flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},padding:{vertical:8,horizontal:12},children:[(0,G.jsxs)(b.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,G.jsx)(A.O_,{status:e.status,size:8}),"SCHEDULED"===e.status?"Scheduled":(0,G.jsx)(Z.rU,{to:"/instance/runs/".concat(e.id),children:(0,G.jsx)(I.fv,{children:e.id.slice(0,8)})})]}),(0,G.jsx)(I.fv,{children:"SCHEDULED"===e.status?(0,G.jsx)(R.v,{timestamp:e.startTime/1e3}):(0,G.jsx)(F.Q,{startUnix:e.startTime/1e3,endUnix:e.endTime/1e3})})]},e.id)}))}),i>0?(0,G.jsx)(b.x,{padding:12,border:{side:"top",width:1,color:C.w.KeylineGray},children:(0,G.jsxs)(Z.rU,{to:"".concat(n.path,"runs"),children:["+ ",i," more"]})}):null]})},he=w.ZP.strong.withConfig({displayName:"RunTimeline__HoverContentJobName",componentId:"sc-1k6kbha-14"})(["display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;"]),fe=t(55752),me=function(e,n){return"".concat(n,"-").concat((0,y.l)(e))},xe=function(e){var n=e.range,t=e.jobs,r=e.hourWindow,i=(0,c.Z)(n,2),d=i[0],f=i[1],y=p.useState([]),w=(0,c.Z)(y,2),b=w[0],k=w[1],S=p.useState(),C=(0,c.Z)(S,2),N=C[0],E=C[1],_=(0,h.gV)().flagRunBucketing,I=(0,u.a)(ge,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{inProgressFilter:{statuses:[m.VO.CANCELING,m.VO.STARTED],createdBefore:f/1e3},terminatedFilter:{statuses:Array.from(j.cv),createdBefore:f/1e3,updatedAfter:d/1e3}}}),Z=I.data,T=I.loading,P=p.useMemo((function(){return t.reduce((function(e,n){return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},n.key,n))}),{})}),[t]);return p.useEffect((function(){if(!T){var e=Z||{},n=e.unterminated,t=e.terminated,i=e.workspaceOrError,c={},u=Date.now();[].concat((0,a.Z)("Runs"===(null===n||void 0===n?void 0:n.__typename)?n.results:[]),(0,a.Z)("Runs"===(null===t||void 0===t?void 0:t.__typename)?t.results:[])).forEach((function(e){e.startTime&&M({start:d,end:f},{start:1e3*e.startTime,end:e.endTime?1e3*e.endTime:u})&&(c[e.pipelineName]=[].concat((0,a.Z)(c[e.pipelineName]||[]),[{id:e.id,status:e.status,startTime:1e3*e.startTime,endTime:e.endTime?1e3*e.endTime:u}]))}));var p=[];if(i&&"Workspace"===i.__typename){var h,x=(0,o.Z)(i.locationEntries);try{for(x.s();!(h=x.n()).done;){var y,j=h.value;if("WorkspaceLocationEntry"===j.__typename&&"RepositoryLocation"===(null===(y=j.locationOrLoadError)||void 0===y?void 0:y.__typename)){var w,b=(0,o.Z)(j.locationOrLoadError.repositories);try{for(b.s();!(w=b.n()).done;){var S,C=w.value,N=(0,g.k)(C.name,j.locationOrLoadError.name),_=(0,o.Z)(C.pipelines);try{var I=function(){var e=S.value,n=me(N,e.name);if(!(n in P))return"continue";var t,r=(C.schedules||[]).filter((function(n){return n.pipelineName===e.name})),i=[],s=(0,o.Z)(r);try{var l=function(){var e=t.value;e.scheduleState.status===m.yn.RUNNING&&e.futureTicks.results.forEach((function(n){var t=n.timestamp,r=1e3*t;M({start:d,end:f},{start:r,end:r})&&i.push({id:"".concat(e.pipelineName,"-future-run-").concat(t),status:"SCHEDULED",startTime:r,endTime:r+1e4})}))};for(s.s();!(t=s.n()).done;)l()}catch(h){s.e(h)}finally{s.f()}var u=c[e.name]||[];(i.length||u.length)&&p.push({key:n,jobName:e.name,repoAddress:N,path:(0,v.jT)({repoName:N.name,repoLocation:N.location,pipelineName:e.name,isJob:e.isJob}),runs:[].concat((0,a.Z)(u),i)})};for(_.s();!(S=_.n()).done;)I()}catch(O){_.e(O)}finally{_.f()}}}catch(O){b.e(O)}finally{b.f()}}}}catch(O){x.e(O)}finally{x.f()}}var R=p.reduce((function(e,n){var t=n.runs.map((function(e){return e.startTime}));return(0,l.Z)((0,l.Z)({},e),{},(0,s.Z)({},n.key,Math.min.apply(Math,(0,a.Z)(t))))}),{});k(p.sort((function(e,n){return R[e.key]-R[n.key]}))),E(r)}}),[Z,d,f,T,P,r]),T&&r!==N?(0,G.jsx)(x.T,{purpose:"section"}):(0,G.jsx)($,{range:[d,f],jobs:b,bucketByRepo:_})},ge=(0,d.Ps)(r||(r=(0,i.Z)(["\n  query RunTimelineQuery($inProgressFilter: RunsFilter!, $terminatedFilter: RunsFilter!) {\n    unterminated: runsOrError(filter: $inProgressFilter) {\n      ... on Runs {\n        results {\n          id\n          pipelineName\n          ...RunTimeFragment\n        }\n      }\n    }\n    terminated: runsOrError(filter: $terminatedFilter) {\n      ... on Runs {\n        results {\n          id\n          pipelineName\n          ...RunTimeFragment\n        }\n      }\n    }\n    workspaceOrError {\n      ... on Workspace {\n        locationEntries {\n          id\n          name\n          loadStatus\n          displayMetadata {\n            key\n            value\n          }\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                pipelines {\n                  id\n                  name\n                  isJob\n                }\n                schedules {\n                  id\n                  name\n                  pipelineName\n                  scheduleState {\n                    id\n                    status\n                  }\n                  ...ScheduleFutureTicksFragment\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"])),fe.$X,f.q)},35815:function(e,n,t){t.d(n,{l:function(){return l},L:function(){return c}});var r=t(922),i=t(32030),o=t(89279),a=t(7838),s=(t(325),t(32289)),l=32,c=function(e){var n=e.expanded,t=e.onClick,r=e.repoName,l=e.repoLocation,c=e.showLocation,h=e.rightElement;return(0,s.jsx)(u,{$open:n,onClick:t,children:(0,s.jsxs)(i.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{left:20,right:20},children:[(0,s.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[(0,s.jsx)(o.JO,{name:"folder",color:a.w.Dark}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d,{children:r}),c?(0,s.jsx)(p,{children:"@".concat(l)}):null]})]}),(0,s.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[h,(0,s.jsx)(i.x,{margin:{top:2},children:(0,s.jsx)(o.JO,{name:"arrow_drop_down"})})]})]})})},u=r.ZP.button.withConfig({displayName:"RepoSectionHeader__SectionHeaderButton",componentId:"sc-1b0a72j-0"})(["background-color:",";border:0;box-shadow:inset 0px -1px 0 ",",inset 0px 1px 0 ",";cursor:pointer;display:block;width:100%;margin:0;height:","px;text-align:left;:focus,:active{outline:none;}:hover{background-color:",";}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],a.w.Gray50,a.w.KeylineGray,a.w.KeylineGray,l,a.w.Gray100,o.a1,(function(e){return e.$open?null:"transform: rotate(-90deg);"})),d=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoName",componentId:"sc-1b0a72j-1"})(["font-weight:600;"]),p=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoLocation",componentId:"sc-1b0a72j-2"})(["font-weight:400;color:",";"],a.w.Gray700)},3148:function(e,n,t){t.d(n,{jT:function(){return b},EP:function(){return S},VM:function(){return C},NX:function(){return N}});var r=t(95764),i=t(16798),o=t(19065),a=t(75453),s=t(89279),l=t(6466),c=t(32030),u=t(325),d=t(13065),p=t(25496),h=t(63579),f=t(36523),m=t(37099),x=t(39956),g=t(40355),y=t(34653),v=t(28064),j=t(38568),w=t(32289),b=function(e){var n=e.run,t=n.id,r=n.canTerminate,l=u.useState(!1),c=(0,o.Z)(l,2),p=c[0],h=c[1],f=u.useCallback((function(){return h(!1)}),[]),m=u.useCallback((function(e){var n=e.errors,r=t&&n[t];r&&"message"in r&&d.L.show({message:r.message,icon:"error",intent:"danger"})}),[t]);return t?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.zx,{icon:(0,w.jsx)(s.JO,{name:"cancel"}),intent:"danger",disabled:p,onClick:function(){return h(!0)},children:"Terminate"}),(0,w.jsx)(j.A,{isOpen:p,onClose:f,onComplete:m,selectedRuns:(0,i.Z)({},t,r)})]}):null};function k(e,n){var t=e.keys.map((function(e){var t;return e&&(null===(t=n.steps[e])||void 0===t?void 0:t.state)||g.TN.PREPARING}));return(0,r.Z)((0,r.Z)({},e),{},{present:e.keys.length>0,failed:e.keys.length&&t.includes(g.TN.FAILED),finished:t.every((function(e){return[g.TN.FAILED,g.TN.SUCCEEDED].includes(e)}))})}var S=function(e){return y.cv.has(e.status)},C=function(e){return e.executionPlan&&y.hd.has(e.status)},N=function(e){var n,t,r=e.metadata,i=e.graph,o=e.onLaunch,a=e.run,s=null===a||void 0===a||null===(n=a.executionPlan)||void 0===n?void 0:n.artifactsPersisted,u=(0,h.TE)().canLaunchPipelineReexecution,d=function(e){var n,t,r=(0,x._)(e);if(!e)return null;if(!e.pipelineSnapshotId)return{icon:"error",tooltip:'"'.concat(e.pipelineName,'" could not be found.'),disabled:!0};if(r){var i=r.type;return"origin-and-snapshot"===i?null:"origin-only"===i?{icon:"warning",tooltip:'The workspace version of "'.concat(e.pipelineName,'" may be different than the one used for the original run.'),disabled:!1}:"snapshot-only"===i?{icon:"warning",tooltip:(0,w.jsxs)(l.Z,{direction:"column",spacing:4,children:[(0,w.jsx)("div",{children:'The original run loaded "'.concat(e.pipelineName,'" from a different repository.')}),e.repositoryOrigin?(0,w.jsxs)("div",{children:["Original repository:"," ",(0,w.jsxs)("strong",{children:[e.repositoryOrigin.repositoryName,"@",e.repositoryOrigin.repositoryLocationName]})]}):null]}),disabled:!1}:{icon:"warning",tooltip:'The pipeline "'.concat(e.pipelineName,'" may be a different version from the original pipeline run.'),disabled:!1}}var o=null===(n=e.repositoryOrigin)||void 0===n?void 0:n.repositoryName,a=null===(t=e.repositoryOrigin)||void 0===t?void 0:t.repositoryLocationName;return{icon:"error",tooltip:(0,w.jsxs)(l.Z,{direction:"column",spacing:8,children:[(0,w.jsx)("div",{children:'"'.concat(e.pipelineName,'" is not available in the current workspace.')}),o&&a?(0,w.jsx)("div",{children:"Load repository ".concat((0,m.i)(o,a)," and try again.")}):null]}),disabled:!0}}(a),g=k(e.selection,r),j=function(e,n,t){var r=e.tags.find((function(e){return e.key===v.H.StepSelection}));return r?k({keys:(0,p.V)(n,r.value).all.map((function(e){return e.name})),query:r.value},t):null}(a,i,r),N=null===(t=a.tags)||void 0===t?void 0:t.some((function(e){return e.key===v.H.IsResumeRetry&&"true"===e.value})),_={icon:"cached",scope:"*",title:"All steps in root run",tooltip:"Re-execute the pipeline run from scratch",disabled:!S(a),onClick:function(){return o({type:"all"})}},I={icon:"linear_scale",scope:(null===j||void 0===j?void 0:j.query)||"*",title:"Same steps",disabled:!j||!(j.finished||j.failed),tooltip:(0,w.jsxs)("div",{children:[j&&j.present?j.finished?"Re-execute the same step subset used for this run:":"Wait for all of the steps to finish to re-execute the same subset.":"Re-executes the same step subset used for this run if one was present.",(0,w.jsx)(E,{selection:j})]}),onClick:function(){return o({type:"selection",selection:j})}},Z={icon:"op",scope:g.query,title:g.keys.length>1?"Selected steps":"Selected step",disabled:!g.present||!(g.finished||g.failed),tooltip:(0,w.jsxs)("div",{children:[g.present?g.finished?"Re-execute the selected steps with existing configuration:":"Wait for the steps to finish to re-execute them.":"Select a step or type a step subset to re-execute.",(0,w.jsx)(E,{selection:g})]}),onClick:function(){return o({type:"selection",selection:g})}},T={icon:"arrow_forward",title:"From selected",disabled:!S(a)||1!==g.keys.length,tooltip:"Re-execute the pipeline downstream from the selected steps",onClick:function(){if(!a.executionPlan)return console.warn("Run execution plan must be present to launch from-selected execution"),Promise.resolve();var e=g.keys.map((function(e){return"".concat(e,"*")})).join(","),n=(0,p.V)(i,e).all.map((function(e){return e.name}));return o({type:"selection",selection:{keys:n,query:e}})}},P=C(a),R={icon:"arrow_forward",title:"From failure",disabled:!P,tooltip:P?"Retry the pipeline run, skipping steps that completed successfully":"Retry is only enabled when the pipeline has failed.",onClick:function(){return o({type:"from-failure"})}};s||[Z,I,R,T].forEach((function(e){e.disabled=!0,e.title="Retry and re-execute are only enabled on persistent storage. Try rerunning with a different storage configuration."}));var O=[_,I,Z,T,R],D=g.present?Z:P&&N?R:null!==j&&void 0!==j&&j.present?I:null,L=s&&D?D:_;return(0,w.jsxs)(l.Z,{direction:"row",spacing:8,children:[(0,w.jsx)(c.x,{flex:{direction:"row"},children:(0,w.jsx)(f.D,{runCount:1,primary:L,options:O,title:"*"===L.scope?"Re-execute all (*)":L.scope?"Re-execute (".concat(L.scope,")"):"Re-execute ".concat(L.title),tooltip:null!==d&&void 0!==d&&d.tooltip?null===d||void 0===d?void 0:d.tooltip:u.enabled?void 0:u.disabledReason,icon:null===d||void 0===d?void 0:d.icon,disabled:(null===d||void 0===d?void 0:d.disabled)||!u.enabled})}),y.cv.has(a.status)?null:(0,w.jsx)(b,{run:a})]})};var E=function(e){var n=e.selection;return(0,w.jsx)("div",{style:{paddingLeft:"10px"},children:((null===n||void 0===n?void 0:n.keys)||[]).map((function(e){return(0,w.jsx)("span",{style:{display:"block"},children:"* ".concat(e)},e)}))})}},27457:function(e,n,t){t.d(n,{k:function(){return g}});var r=t(19065),i=t(54268),o=t(60652),a=t(8358),s=t(32030),l=t(7838),c=t(55113),u=t(75453),d=t(89279),p=t(325),h=t(74549),f=t(39061),m=t(77171),x=t(32289),g=p.memo((function(e){var n=e.assetKeys,t=e.clickableTags,g=p.useState(!1),y=(0,r.Z)(g,2),v=y[0],j=y[1];if(!n||!n.length)return null;var w=n.length,b=w<=3?n:[],k=w-b.length;return t?(0,x.jsxs)(x.Fragment,{children:[b.map((function(e,n){return(0,x.jsx)(h.rU,{to:(0,m.p)(e),children:(0,x.jsx)(i.V,{intent:"none",interactive:!0,icon:"asset",children:(0,f.ll)(e)})},"".concat((0,f.Je)(e),"-").concat(n))})),k>0&&(0,x.jsx)(o.Z,{onClick:function(){return j(!0)},children:(0,x.jsxs)(i.V,{intent:"none",icon:"asset",children:[k," assets"]})}),(0,x.jsxs)(a.Vq,{title:"Assets in Run",onClose:function(){return j(!1)},style:{minWidth:"400px",maxWidth:"80vw",maxHeight:"70vh"},isOpen:v,children:[v?(0,x.jsx)(s.x,{padding:{bottom:12},border:{side:"bottom",color:l.w.KeylineGray,width:1},style:{overflowY:"auto"},background:l.w.White,children:(0,x.jsxs)(c.i,{children:[(0,x.jsx)("thead",{children:(0,x.jsx)("tr",{children:(0,x.jsx)("th",{children:"Asset key"})})}),(0,x.jsx)("tbody",{children:n.map((function(e,n){return(0,x.jsx)("tr",{children:(0,x.jsx)("td",{children:(0,x.jsx)(h.rU,{to:(0,m.p)(e),children:(0,f.ll)(e)},(0,f.Je)(e))})},"".concat((0,f.Je)(e),"-").concat(n))}))})]})}):null,(0,x.jsx)(a.cN,{children:(0,x.jsx)(u.zx,{intent:"primary",autoFocus:!0,onClick:function(){return j(!1)},children:"OK"})})]})]}):(0,x.jsxs)(s.x,{flex:{direction:"row",gap:8,wrap:"wrap",alignItems:"center"},children:[(0,x.jsx)(d.JO,{color:l.w.Gray400,name:"asset",size:16}),"".concat(b.map(f.ll).join(", ")).concat(k>0?" + ".concat(k," more"):"")]})}))},3660:function(e,n,t){t.d(n,{A:function(){return r}});var r=t(325).createContext(undefined)},57876:function(e,n,t){t.d(n,{Z0:function(){return Z},lc:function(){return R},Up:function(){return O},Ac:function(){return D}});var r,i=t(99500),o=t(19065),a=t(3159),s=t(7838),l=t(57753),c=t(6466),u=t(89279),d=t(75453),p=t(762),h=t(8412),f=t(11831),m=t(8358),x=t(32030),g=t(12745),y=t(24818),v=t(325),j=t(52848),w=t(13065),b=t(9429),k=t(68156),S=t(5484),C=t(28797),N=t(25582),E=t(80342),_=t(32460),I=t(32289),Z=function(e){switch(e){case S.VO.QUEUED:return"Queued";case S.VO.CANCELED:return"Canceled";case S.VO.CANCELING:return"Canceling\u2026";case S.VO.FAILURE:return"Failed";case S.VO.NOT_STARTED:return"Waiting to start\u2026";case S.VO.STARTED:return"Started\u2026";case S.VO.STARTING:return"Starting\u2026";case S.VO.SUCCESS:return"Succeeded";default:return"None"}},T=function(e){var n=e.loading,t=e.children;return n?(0,I.jsx)("div",{style:{color:s.w.Gray400},children:"Loading\u2026"}):(0,I.jsx)("div",{children:t()})},P={showSeconds:!0,showTimezone:!1},R=function(e){var n=e.loading,t=e.run;return(0,I.jsx)(l.nZ,{spacing:0,rows:[{key:"Started",value:(0,I.jsx)(T,{loading:n,children:function(){return null!==t&&void 0!==t&&t.startTime?(0,I.jsx)(k.v,{timestamp:t.startTime,timeFormat:P}):(0,I.jsx)("div",{style:{color:s.w.Gray400},children:Z(null===t||void 0===t?void 0:t.status)})}})},{key:"Ended",value:(0,I.jsx)(T,{loading:n,children:function(){return null!==t&&void 0!==t&&t.endTime?(0,I.jsx)(k.v,{timestamp:t.endTime,timeFormat:P}):(0,I.jsx)("div",{style:{color:s.w.Gray400},children:Z(null===t||void 0===t?void 0:t.status)})}})},{key:"Duration",value:(0,I.jsx)(T,{loading:n,children:function(){return null!==t&&void 0!==t&&t.startTime?(0,I.jsx)(_.Q,{startUnix:t.startTime,endUnix:t.endTime}):(0,I.jsx)("div",{style:{color:s.w.Gray400},children:Z(null===t||void 0===t?void 0:t.status)})}})}]})},O=function(e){var n,t,r=e.run,i=e.isJob,a=v.useState(!1),l=(0,o.Z)(a,2),k=l[0],S=l[1],_=v.useContext(j.I).rootServerURI,Z=r.runConfigYaml,T=(0,b.m)();return(0,I.jsxs)("div",{children:[(0,I.jsxs)(c.Z,{direction:"row",spacing:8,children:[(0,I.jsx)(C.A,{icon:(0,I.jsx)(u.JO,{name:"edit"}),to:(0,N.$O)({id:r.id,repositoryName:null===(n=r.repositoryOrigin)||void 0===n?void 0:n.repositoryName,repositoryLocationName:null===(t=r.repositoryOrigin)||void 0===t?void 0:t.repositoryLocationName,pipelineName:r.pipelineName,isJob:i}),children:"Open in Launchpad"}),(0,I.jsx)(d.zx,{icon:(0,I.jsx)(u.JO,{name:"tag"}),onClick:function(){return S(!0)},children:"View tags and config"}),(0,I.jsx)(p.J,{position:"bottom-right",content:(0,I.jsx)(h.v2,{children:(0,I.jsx)(f.u,{content:"Loadable in dagit-debug",position:"bottom-right",targetTagName:"div",children:(0,I.jsx)(h.sN,{text:"Download debug file",icon:(0,I.jsx)(u.JO,{name:"download_for_offline"}),onClick:function(){return window.open("".concat(_,"/download_debug/").concat(r.runId))}})})}),children:(0,I.jsx)(d.zx,{icon:(0,I.jsx)(u.JO,{name:"expand_more"})})})]}),(0,I.jsxs)(m.Vq,{isOpen:k,onClose:function(){return S(!1)},style:{width:"800px"},title:"Run configuration",children:[(0,I.jsxs)(x.x,{flex:{direction:"column",gap:20},children:[(0,I.jsxs)(x.x,{flex:{direction:"column",gap:12},padding:{top:16,horizontal:24},children:[(0,I.jsx)(g.pm,{children:"Tags"}),(0,I.jsx)("div",{children:(0,I.jsx)(E.Qq,{tags:r.tags,mode:i?null:r.mode})})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)(x.x,{border:{side:"bottom",width:1,color:s.w.KeylineGray},padding:{left:24,bottom:16},children:(0,I.jsx)(g.pm,{children:"Config"})}),(0,I.jsx)(y.NU,{value:Z,options:{lineNumbers:!0,mode:"yaml"}})]})]}),(0,I.jsxs)(m.cN,{topBorder:!0,children:[(0,I.jsx)(d.zx,{onClick:function(){return T(Z),void w.L.show({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"})},intent:"none",children:"Copy config"}),(0,I.jsx)(d.zx,{onClick:function(){return S(!1)},intent:"primary",children:"OK"})]})]})]})},D=(0,a.Ps)(r||(r=(0,i.Z)(["\n  fragment RunDetailsFragment on Run {\n    id\n    startTime\n    endTime\n    status\n  }\n"])))},92497:function(e,n,t){t.d(n,{L:function(){return h},O:function(){return f}});var r,i,o,a=t(99500),s=t(3159),l=t(12436),c=t(41302),u=t(12244),d=t(57876),p=t(40355),h=(0,s.Ps)(r||(r=(0,a.Z)(["\n  fragment RunFragmentForRepositoryMatch on Run {\n    id\n    pipelineName\n    pipelineSnapshotId\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n  }\n"]))),f={RunFragment:(0,s.Ps)(i||(i=(0,a.Z)(["\n    fragment RunFragment on Run {\n      id\n      runConfigYaml\n      runId\n      canTerminate\n      status\n      mode\n      tags {\n        key\n        value\n      }\n      assets {\n        id\n        key {\n          path\n        }\n      }\n      rootRunId\n      parentRunId\n      pipelineName\n      solidSelection\n      assetSelection {\n        ... on AssetKey {\n          path\n        }\n      }\n      pipelineSnapshotId\n      executionPlan {\n        artifactsPersisted\n        ...ExecutionPlanToGraphFragment\n      }\n      stepKeysToExecute\n      ...RunFragmentForRepositoryMatch\n      ...RunDetailsFragment\n      updateTime\n      stepStats {\n        stepKey\n        status\n        startTime\n        endTime\n        attempts {\n          startTime\n          endTime\n        }\n        markers {\n          startTime\n          endTime\n        }\n      }\n    }\n\n    ","\n    ","\n    ","\n  "])),c.$,h,d.Ac),RunDagsterRunEventFragment:(0,s.Ps)(o||(o=(0,a.Z)(["\n    fragment RunDagsterRunEventFragment on DagsterRunEvent {\n      ... on MessageEvent {\n        message\n        timestamp\n        level\n        stepKey\n      }\n\n      ...LogsScrollingTableMessageFragment\n      ...RunMetadataProviderMessageFragment\n    }\n\n    ","\n    ","\n    ","\n  "])),p.Nb,u.x,l.Bq)}},40355:function(e,n,t){t.d(n,{TN:function(){return i},PG:function(){return f},co:function(){return m},jp:function(){return y},Nb:function(){return v}});var r,i,o=t(99500),a=t(47427),s=t(3159),l=t(325),c=t(4735),u=t(5484),d=t(3660),p=t(32289);!function(e){e.PREPARING="preparing",e.RETRY_REQUESTED="retry-requested",e.RUNNING="running",e.SUCCEEDED="succeeded",e.SKIPPED="skipped",e.FAILED="failed",e.UNKNOWN="unknown"}(i||(i={}));var h=[i.RETRY_REQUESTED,i.SUCCEEDED,i.FAILED,i.UNKNOWN],f={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}},m=function(e){var n={};return e.forEach((function(e){return n[e]={logKey:e,stepKeys:[e]}})),n},x=function(e){return e?Math.floor(1e3*e):void 0};var g=function(e){switch(e){case u.SG.SUCCESS:return i.SUCCEEDED;case u.SG.FAILURE:return i.FAILED;case u.SG.SKIPPED:return i.SKIPPED;default:return i.UNKNOWN}};var y=function(e){var n=e.logs,t=e.children,r=l.useContext(d.A),o=l.useMemo((function(){return function(e){var n={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}};return e?(e.startTime&&(n.startedPipelineAt=x(e.startTime)),e.endTime&&(n.exitedAt=x(e.endTime)),e.stepStats.forEach((function(e){n.steps[e.stepKey]={state:g(e.status),start:x(e.startTime),end:x(e.endTime),transitions:[],attempts:e.attempts.map((function(n,t){return{start:x(n.startTime),end:x(n.endTime),exitState:t===e.attempts.length-1?g(e.status):i.RETRY_REQUESTED}})),markers:e.markers.map((function(e,n){return{start:x(e.startTime),end:x(e.endTime),key:"marker_".concat(n)}}))}})),n):n}(r)}),[r]),s=l.useMemo((function(){return n.loading?o:function(e){var n={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}},t=function(e,n){var t=e.find((function(e){return e.key===n&&!e.end}));return t||(t={key:n},e.unshift(t)),t},r=function(e,n,t){e.transitions.push({time:n,state:t}),e.state=t,e.attempts=[]};e.forEach((function(e){var o=Number.parseInt(e.timestamp,10);if(n.firstLogAt=n.firstLogAt?Math.min(n.firstLogAt,o):o,n.mostRecentLogAt=Math.max(n.mostRecentLogAt,o),"RunStartEvent"===e.__typename&&(n.startedPipelineAt=o),"RunFailureEvent"===e.__typename||"RunSuccessEvent"===e.__typename||"RunCanceledEvent"===e.__typename){n.exitedAt=o;for(var a=0,s=Object.values(n.steps);a<s.length;a++){var l=s[a];l.state===i.RUNNING&&r(l,o,i.UNKNOWN)}}if("EngineEvent"!==e.__typename&&"ResourceInitFailureEvent"!==e.__typename&&"ResourceInitStartedEvent"!==e.__typename&&"ResourceInitSuccessEvent"!==e.__typename&&"StepWorkerStartedEvent"!==e.__typename&&"StepWorkerStartingEvent"!==e.__typename||(e.markerStart&&(t(n.globalMarkers,e.markerStart).start=o),e.markerEnd&&(t(n.globalMarkers,e.markerEnd).end=o)),"LogsCapturedEvent"===e.__typename&&(n.logCaptureSteps||(n.logCaptureSteps={}),n.logCaptureSteps[e.logKey]={logKey:e.logKey,stepKeys:e.stepKeys||[],pid:String(e.pid)}),e.stepKey){var c=e.stepKey,u=n.steps[c]||{state:i.PREPARING,attempts:[],transitions:[{state:i.PREPARING,time:o}],start:void 0,end:void 0,markers:[]};if("ExecutionStepStartEvent"===e.__typename)r(u,o,i.RUNNING),u.start=o;else if("ExecutionStepSuccessEvent"===e.__typename)r(u,o,i.SUCCEEDED),u.end=Math.max(o,u.end||0);else if("ExecutionStepSkippedEvent"===e.__typename)r(u,o,i.SKIPPED);else if("ExecutionStepFailureEvent"===e.__typename)r(u,o,i.FAILED),u.end=Math.max(o,u.end||0);else if("ExecutionStepUpForRetryEvent"===e.__typename)r(u,o,i.RETRY_REQUESTED),r(u,o+1,i.PREPARING);else if("ExecutionStepRestartEvent"===e.__typename)r(u,o,i.RUNNING);else if("ObjectStoreOperationEvent"===e.__typename&&"CP_OBJECT"===e.operationResult.op)return;n.steps[c]=u}}));for(var o=0,s=Object.values(n.steps);o<s.length;o++){var l=s[o];l.transitions=l.transitions.sort((function(e,n){return e.time-n.time}));var c,u=null,d=(0,a.Z)(l.transitions);try{for(d.s();!(c=d.n()).done;){var p=c.value;u&&!u.end||p.state!==i.RUNNING||(u={start:p.time},l.attempts.push(u)),u&&h.includes(p.state)&&(u.end=p.time,u.exitState=p.state)}}catch(f){d.e(f)}finally{d.f()}}return n}(n.allNodes)}),[n,o]);return(0,p.jsx)(p.Fragment,{children:t(s)})},v=(0,s.Ps)(r||(r=(0,o.Z)(["\n  fragment RunMetadataProviderMessageFragment on DagsterRunEvent {\n    __typename\n    ... on MessageEvent {\n      message\n      timestamp\n      stepKey\n    }\n    ... on MarkerEvent {\n      markerStart\n      markerEnd\n    }\n    ... on ObjectStoreOperationEvent {\n      operationResult {\n        op\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on LogsCapturedEvent {\n      logKey\n      stepKeys\n      pid\n    }\n  }\n  ","\n"])),c.it)},57094:function(e,n,t){t.d(n,{F:function(){return h}});var r,i=t(99500),o=t(922),a=t(73701),s=t(3159),l=t(32030),c=t(34595),u=(t(325),t(74549)),d=t(12436),p=t(32289),h=function(e){var n=e.runId,t=(0,a.a)(f,{variables:{runId:n}});if(t.loading||!t.data)return(0,p.jsx)(m,{children:(0,p.jsx)(l.x,{padding:24,flex:{justifyContent:"center"},children:(0,p.jsx)(c.$,{purpose:"section"})})});var r=t.data.pipelineRunOrError;if("Run"!==r.__typename)return(0,p.jsx)(d.T9,{error:r});if("RunStatsSnapshot"!==r.stats.__typename)return(0,p.jsx)(d.T9,{error:r.stats});var i="/instance/runs/".concat(n);return(0,p.jsxs)(m,{children:[(0,p.jsx)(u.rU,{to:"".concat(i,"?logs=type:STEP_SUCCESS"),children:"".concat(r.stats.stepsSucceeded," steps succeeded")}),(0,p.jsx)(u.rU,{to:"".concat(i,"?logs=type:STEP_FAILURE"),children:"".concat(r.stats.stepsFailed," steps failed")}),(0,p.jsx)(u.rU,{to:"".concat(i,"?logs=type:ASSET_MATERIALIZATION"),children:"".concat(r.stats.materializations," materializations")}),(0,p.jsx)(u.rU,{to:"".concat(i,"?logs=type:STEP_EXPECTATION_RESULT"),children:"".concat(r.stats.expectations," expectations passed")})]})},f=(0,s.Ps)(r||(r=(0,i.Z)(["\n  query RunStatsQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      __typename\n      ...PythonErrorFragment\n      ... on RunNotFoundError {\n        message\n      }\n      ... on Run {\n        id\n        runId\n        pipelineName\n        stats {\n          ... on RunStatsSnapshot {\n            id\n            stepsSucceeded\n            stepsFailed\n            expectations\n            materializations\n          }\n          ...PythonErrorFragment\n        }\n      }\n    }\n  }\n  ","\n"])),d.Bq),m=o.ZP.div.withConfig({displayName:"RunStats__RunStatsDetailsContainer",componentId:"sc-7pgndz-0"})(["min-width:200px;padding:12px;color:white;font-size:12px;& > a{display:block;}"])},59549:function(e,n,t){t.d(n,{hk:function(){return y},K9:function(){return v},O_:function(){return w}});var r,i,o=t(99500),a=t(95764),s=t(81034),l=t(922),c=t(7838),u=t(762),d=t(34595),p=t(325),h=t(57094),f=t(34653),m=t(32289),x=["runId"],g={QUEUED:c.w.Blue200,NOT_STARTED:c.w.Gray600,STARTING:c.w.Gray400,MANAGED:c.w.Gray400,STARTED:c.w.Blue500,SUCCESS:c.w.Green500,FAILURE:c.w.Red500,CANCELING:c.w.Red500,CANCELED:c.w.Red500,SCHEDULED:c.w.Blue200},y=p.memo((function(e){var n=e.runId,t=(0,s.Z)(e,x);return(0,m.jsx)(u.J,{position:"bottom",interactionKind:"hover",content:(0,m.jsx)(h.F,{runId:n}),hoverOpenDelay:100,children:(0,m.jsx)(v,(0,a.Z)({},t))})})),v=p.memo((function(e){var n=e.status,t=e.size;return"STARTED"===n?(0,m.jsx)(d.$,{purpose:"caption-text"}):"SCHEDULED"===n?(0,m.jsx)(w,{status:n,size:t||12}):(0,m.jsx)(w,{status:n,size:t||12,pulse:f.Ys.has(n)||f.sy.has(n)})})),j=(0,l.F4)(r||(r=(0,o.Z)(["\n  0% {\n    filter: brightness(1);\n  }\n\n  50% {\n    filter: brightness(0.7);\n  }\n\n  100% {\n    filter: brightness(1);\n  }\n"]))),w=l.ZP.div.withConfig({displayName:"RunStatusDots__RunStatusDot",componentId:"m2w7pp-0"})(["width:","px;height:","px;border-radius:","px;transition:filter 200ms linear;"," background:",";&:hover{animation:none;filter:brightness(0.7);}"],(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size/2}),(function(e){return e.pulse?(0,l.iv)(i||(i=(0,o.Z)(["\n          animation: "," 2s infinite;\n        "])),j):null}),(function(e){var n=e.status;return g[n]}))},37751:function(e,n,t){t.d(n,{K:function(){return h},M:function(){return f}});var r=t(54268),i=t(32030),o=t(762),a=(t(325),t(76341)),s=t(5484),l=t(57094),c=t(59549),u=t(32289),d=function(e){switch(e){case s.VO.QUEUED:case s.VO.NOT_STARTED:case s.VO.MANAGED:case s.VO.CANCELING:return"none";case s.VO.SUCCESS:return"success";case s.VO.STARTING:return"none";case s.VO.FAILURE:case s.VO.CANCELED:return"danger";case s.VO.STARTED:return"primary";default:return(0,a.UT)(e)}},p=function(e){switch(e){case s.VO.QUEUED:return"Queued";case s.VO.SUCCESS:return"Success";case s.VO.STARTING:return"Starting";case s.VO.NOT_STARTED:return"Not started";case s.VO.FAILURE:return"Failure";case s.VO.STARTED:return"Started";case s.VO.MANAGED:return"Managed";case s.VO.CANCELING:return"Canceling";case s.VO.CANCELED:return"Canceled";default:return(0,a.UT)(e)}},h=function(e){var n=e.status;return(0,u.jsx)(r.V,{intent:d(n),children:(0,u.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,u.jsx)(c.K9,{status:n,size:10}),(0,u.jsx)("div",{children:p(n)})]})})},f=function(e){var n=e.runId,t=e.status;return(0,u.jsx)(o.J,{position:"bottom-left",interactionKind:"hover",content:(0,u.jsx)(l.F,{runId:n}),hoverOpenDelay:100,usePortal:!0,children:(0,u.jsx)(h,{status:t})})}},34653:function(e,n,t){t.d(n,{sy:function(){return i},Ys:function(){return o},_m:function(){return a},hd:function(){return s},cv:function(){return l},oV:function(){return c}});var r=t(5484),i=new Set([r.VO.QUEUED]),o=new Set([r.VO.STARTED,r.VO.STARTING,r.VO.CANCELING]),a=new Set([r.VO.SUCCESS]),s=new Set([r.VO.FAILURE,r.VO.CANCELED]),l=(new Set([r.VO.CANCELING,r.VO.CANCELED]),new Set([r.VO.FAILURE,r.VO.SUCCESS,r.VO.CANCELED])),c=new Set([r.VO.QUEUED,r.VO.STARTED])},80608:function(e,n,t){t.d(n,{Z:function(){return xe},A:function(){return me}});var r,i,o=t(99500),a=t(47427),s=t(19065),l=t(922),c=t(3159),u=t(32030),d=t(89646),p=t(55113),h=t(50346),f=t(12745),m=t(89279),x=t(7838),g=t(325),y=t(74549),v=t(63579),j=t(39061),w=t(82576),b=t(96294),k=t(62e3),S=t(76336),C=t(37099),N=t(39956),E=t(25582),_=t(16798),I=t(95764),Z=t(85358),T=t(95550),P=t.n(T),R=t(49148),O=t(65880),D=t(762),L=t(8412),A=t(11831),F=t(75453),M=t(8358),z=t(24818),G=t(27601),K=t(52848),U=t(13065),B=t(9429),$=t(5484),V=t(90933),q=t(33918),H=t(6466),W=t(60057),J=t(55752),Y=t(32289),Q=function(e){return{step:"initial",frozenRuns:e,deletion:{completed:0,errors:{}}}},X=function(e,n){switch(n.type){case"reset":return Q(n.frozenRuns);case"start":return(0,I.Z)((0,I.Z)({},e),{},{step:"deleting"});case"deletion-success":var t=e.deletion;return(0,I.Z)((0,I.Z)({},e),{},{step:"deleting",deletion:(0,I.Z)((0,I.Z)({},t),{},{completed:t.completed+1})});case"deletion-error":var r=e.deletion;return(0,I.Z)((0,I.Z)({},e),{},{step:"deleting",deletion:(0,I.Z)((0,I.Z)({},r),{},{completed:r.completed+1,errors:(0,I.Z)((0,I.Z)({},r.errors),{},(0,_.Z)({},n.id,n.error))})});case"complete":return(0,I.Z)((0,I.Z)({},e),{},{step:"completed"})}},ee=function(e){var n=e.isOpen,t=e.onClose,r=e.onComplete,i=e.onTerminateInstead,o=e.selectedRuns,a=g.useRef(o),l=g.useReducer(X,a.current,Q),c=(0,s.Z)(l,2),u=c[0],d=c[1],p=Object.keys(u.frozenRuns),h=p.length,y=p.filter((function(e){return u.frozenRuns[e]})).length;g.useEffect((function(){n&&d({type:"reset",frozenRuns:a.current})}),[n]),g.useEffect((function(){n||(a.current=o)}),[n,o]);var v=(0,R.D)(J.be),j=(0,s.Z)(v,1)[0],w=function(){var e=(0,Z.Z)(P().mark((function e(){var n,t,i,o,a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d({type:"start"}),n=Object.keys(u.frozenRuns),t=0;case 3:if(!(t<n.length)){e.next=13;break}return i=n[t],e.next=7,j({variables:{runId:i}});case 7:o=e.sent,"DeletePipelineRunSuccess"===(null===(a=o.data)||void 0===a?void 0:a.deletePipelineRun.__typename)?d({type:"deletion-success"}):d({type:"deletion-error",id:i,error:null===a||void 0===a?void 0:a.deletePipelineRun});case 10:t++,e.next=3;break;case 13:d({type:"complete"}),r();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b="deleting"!==u.step;return(0,Y.jsxs)(M.Vq,{isOpen:n,title:"Delete runs",canEscapeKeyClose:b,canOutsideClickClose:b,onClose:t,children:[(0,Y.jsx)(M.a7,{children:(0,Y.jsxs)(H.Z,{direction:"column",spacing:24,children:[function(){switch(u.step){case"initial":return(0,Y.jsxs)(H.Z,{direction:"column",spacing:8,children:[(0,Y.jsx)("div",{children:"".concat(h," ").concat(1===h?"run":"runs"," will be deleted.")}),(0,Y.jsx)("div",{children:"Deleting runs will not prevent them from continuing to execute, and may result in unexpected behavior."}),y?(0,Y.jsx)("div",{children:y>1?(0,Y.jsxs)(Y.Fragment,{children:["".concat(y," of these runs can be terminated. "),(0,Y.jsx)("strong",{children:"Please consider terminating these runs instead of deleting them."})]}):(0,Y.jsxs)(Y.Fragment,{children:["1 run can be terminated instead. ",(0,Y.jsx)("strong",{children:"Please consider terminating this run instead of deleting it."})]})}):null,(0,Y.jsx)("div",{children:"Do you wish to continue with deletion?"})]});case"deleting":case"completed":var e=h>0?u.deletion.completed/h:1;return(0,Y.jsxs)(H.Z,{direction:"column",spacing:8,children:[(0,Y.jsx)("div",{children:"Deleting\u2026"}),(0,Y.jsx)(q.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"deleting"===u.step?(0,Y.jsx)(W.c,{message:"Deletion in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===u.step)return null;if("deleting"===u.step)return(0,Y.jsx)("div",{children:"Please do not close the window or navigate away during deletion."});var e=u.deletion.errors,n=Object.keys(e).length,t=u.deletion.completed-n;return(0,Y.jsxs)(H.Z,{direction:"column",spacing:8,children:[t?(0,Y.jsxs)(H.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,Y.jsx)(m.JO,{name:"check_circle",color:x.w.Green500}),(0,Y.jsx)("div",{children:"Successfully deleted ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,Y.jsxs)(H.Z,{direction:"column",spacing:8,children:[(0,Y.jsxs)(H.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,Y.jsx)(m.JO,{name:"warning",color:x.w.Yellow500}),(0,Y.jsx)("div",{children:"Could not delete ".concat(n," ").concat(1===n?"run":"runs",".")})]}),(0,Y.jsx)("ul",{children:Object.keys(e).map((function(n){var t;return(0,Y.jsx)("li",{children:(0,Y.jsxs)(H.Z,{direction:"row",spacing:8,children:[(0,Y.jsx)(f.fv,{children:n.slice(0,8)}),e[n]?(0,Y.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)}))})]}):null]})}()]})}),(0,Y.jsx)(M.cN,{children:function(){switch(u.step){case"initial":return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(F.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,Y.jsx)(F.zx,{intent:"danger",onClick:w,children:"Yes, delete ".concat("".concat(h," ").concat(1===h?"run":"runs"))}),y?(0,Y.jsx)(F.zx,{intent:"primary",onClick:i,children:"Terminate ".concat("".concat(y," ").concat(1===y?"run":"runs")," instead")}):null]});case"deleting":return(0,Y.jsx)(F.zx,{intent:"danger",disabled:!0,children:"Deleting\u2026"});case"completed":return(0,Y.jsx)(F.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},ne=function(e){if(!e)return"Unknown error";switch(e.__typename){case"ConflictingExecutionParamsError":return"Conflicting execution parameters";case"InvalidOutputError":return"Invalid output";case"InvalidStepError":return"Invalid step";case"NoModeProvidedError":return"No mode provided";case"PipelineNotFoundError":return"Job not found in workspace";case"PresetNotFoundError":return"Preset not found";case"PythonError":return e.message;case"RunConfigValidationInvalid":return"Run config invalid";case"RunConflict":return"Run conflict";case"UnauthorizedError":return"Re-execution not authorized";case"InvalidSubsetError":return"Invalid op subset: "+e.message;default:return"Unknown error"}},te=function(e){return{frozenRuns:e,step:"initial",reexecution:{completed:0,errors:{}}}},re=function(e,n){switch(n.type){case"reset":return te(n.frozenRuns);case"start":return(0,I.Z)((0,I.Z)({},e),{},{step:"reexecuting"});case"reexecution-success":var t=e.reexecution;return(0,I.Z)((0,I.Z)({},e),{},{step:"reexecuting",reexecution:(0,I.Z)((0,I.Z)({},t),{},{completed:t.completed+1})});case"reexecution-error":var r=e.reexecution;return(0,I.Z)((0,I.Z)({},e),{},{step:"reexecuting",reexecution:(0,I.Z)((0,I.Z)({},r),{},{completed:r.completed+1,errors:(0,I.Z)((0,I.Z)({},r.errors),{},(0,_.Z)({},n.id,n.error))})});case"complete":return(0,I.Z)((0,I.Z)({},e),{},{step:"completed"})}},ie=function(e){var n=e.isOpen,t=e.onClose,r=e.onComplete,i=e.reexecutionStrategy,o=e.selectedRuns,a=g.useRef(o),l=g.useReducer(re,a.current,te),c=(0,s.Z)(l,2),u=c[0],d=c[1],p=Object.keys(u.frozenRuns).length;g.useEffect((function(){n&&d({type:"reset",frozenRuns:a.current})}),[n]),g.useEffect((function(){n||(a.current=o)}),[n,o]);var h=(0,R.D)(J.kO),y=(0,s.Z)(h,1)[0],v=function(){var e=(0,Z.Z)(P().mark((function e(){var n,t,o,a,s;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d({type:"start"}),n=Object.keys(u.frozenRuns),t=0;case 3:if(!(t<n.length)){e.next=13;break}return o=n[t],e.next=7,y({variables:{reexecutionParams:{parentRunId:o,strategy:i}}});case 7:a=e.sent,"LaunchRunSuccess"===(null===(s=a.data)||void 0===s?void 0:s.launchPipelineReexecution.__typename)?d({type:"reexecution-success"}):d({type:"reexecution-error",id:o,error:null===s||void 0===s?void 0:s.launchPipelineReexecution});case 10:t++,e.next=3;break;case 13:d({type:"complete"}),r(u.reexecution);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j="reexecuting"!==u.step;return(0,Y.jsxs)(M.Vq,{isOpen:n,title:i===$.hm.ALL_STEPS?"Re-execute runs":"Re-execute runs from failure",canEscapeKeyClose:j,canOutsideClickClose:j,onClose:t,children:[(0,Y.jsx)(M.a7,{children:(0,Y.jsxs)(H.Z,{direction:"column",spacing:24,children:[function(){switch(u.step){case"initial":if(!p)return(0,Y.jsxs)(H.Z,{direction:"column",spacing:16,children:[(0,Y.jsx)("div",{children:"No runs selected for re-execution."}),(0,Y.jsx)("div",{children:"The runs you selected may already have finished executing."})]});return(0,Y.jsx)(H.Z,{direction:"column",spacing:16,children:(0,Y.jsx)("div",{children:i===$.hm.ALL_STEPS?(0,Y.jsxs)("span",{children:["".concat(p," ").concat(1===p?"run":"runs"," will be re-executed "),(0,Y.jsx)("strong",{children:"with all steps"}),". Do you wish to continue?"]}):(0,Y.jsxs)("span",{children:["".concat(p," ").concat(1===p?"run":"runs"," will be re-executed "),(0,Y.jsx)("strong",{children:"from failure"}),". Do you wish to continue?"]})})});case"reexecuting":case"completed":var e=p>0?u.reexecution.completed/p:1;return(0,Y.jsxs)(H.Z,{direction:"column",spacing:8,children:[(0,Y.jsx)(q.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"reexecuting"===u.step?(0,Y.jsx)(W.c,{message:"Re-execution in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===u.step)return null;if("reexecuting"===u.step)return(0,Y.jsx)("div",{children:"Please do not close the window or navigate away during re-execution."});var e=u.reexecution.errors,n=Object.keys(e).length,t=u.reexecution.completed-n;return(0,Y.jsxs)(H.Z,{direction:"column",spacing:8,children:[t?(0,Y.jsxs)(H.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,Y.jsx)(m.JO,{name:"check_circle",color:x.w.Green500}),(0,Y.jsx)("div",{children:"Successfully requested re-execution for ".concat(t," ").concat(1===t?"run":"runs",".")})]}):null,n?(0,Y.jsxs)(H.Z,{direction:"column",spacing:8,children:[(0,Y.jsxs)(H.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,Y.jsx)(m.JO,{name:"warning",color:x.w.Yellow500}),(0,Y.jsx)("div",{children:"Could not request re-execution for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,Y.jsx)("ul",{children:Object.keys(e).map((function(n){return(0,Y.jsx)("li",{children:(0,Y.jsxs)(H.Z,{direction:"row",spacing:8,alignItems:"baseline",children:[(0,Y.jsx)(f.fv,{children:n.slice(0,8)}),e[n]?(0,Y.jsx)("div",{children:ne(e[n])}):null]})},n)}))})]}):null]})}()]})}),(0,Y.jsx)(M.cN,{children:function(){switch(u.step){case"initial":return p?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(F.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,Y.jsx)(F.zx,{intent:"primary",onClick:v,children:"Re-execute ".concat("".concat(p," ").concat(1===p?"run":"runs"))})]}):(0,Y.jsx)(F.zx,{intent:"none",onClick:t,children:"OK"});case"reexecuting":return(0,Y.jsx)(F.zx,{intent:"primary",disabled:!0,children:"Re-executing ".concat("".concat(p," ").concat(1===p?"run":"runs","..."))});case"completed":return(0,Y.jsx)(F.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})},oe=t(92497),ae=t(34653),se=t(38568),le=g.memo((function(e){var n,t=e.run,r=g.useContext(J.Lw).refetch,i=g.useState("none"),o=(0,s.Z)(i,2),a=o[0],l=o[1],c=g.useContext(K.I).rootServerURI,u=(0,v.TE)(),d=u.canTerminatePipelineExecution,p=u.canDeletePipelineRun,h=(0,G.k6)(),f=(0,B.m)(),x=(0,R.D)(J.kO,{onCompleted:r}),y=(0,s.Z)(x,1)[0],j=(0,O.t)(de,{variables:{runId:t.runId}}),w=(0,s.Z)(j,2),b=w[0],k=w[1],C=k.called,T=k.loading,$=k.data,q=function(){l("none")},H=function(){r()},W="Run"===(null===$||void 0===$||null===(n=$.pipelineRunOrError)||void 0===n?void 0:n.__typename)?null===$||void 0===$?void 0:$.pipelineRunOrError:null,Q=null===W||void 0===W?void 0:W.runConfigYaml,X=(0,N._)(W),ne=ae.cv.has(t.status),te=!(!X||!(0,S.E8)(null===X||void 0===X?void 0:X.match,t.pipelineName)),re=!!C&&!T;return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(D.J,{content:(0,Y.jsxs)(L.v2,{children:[(0,Y.jsx)(L.sN,{text:T?"Loading Configuration...":"View Configuration...",disabled:!Q,icon:"open_in_new",onClick:function(){return l("config")}}),(0,Y.jsx)(L.R,{}),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(A.u,{content:ue,position:"bottom",disabled:re,targetTagName:"div",children:(0,Y.jsx)(V.U,{text:"Open in Launchpad...",disabled:!re,icon:"edit",to:(0,E.$O)({id:t.id,pipelineName:t.pipelineName,repositoryName:null===X||void 0===X?void 0:X.match.repository.name,repositoryLocationName:null===X||void 0===X?void 0:X.match.repositoryLocation.name,isJob:te})})}),(0,Y.jsx)(A.u,{content:"Re-execute is unavailable because the pipeline is not present in the current workspace.",position:"bottom",disabled:re&&!!X,targetTagName:"div",children:(0,Y.jsx)(L.sN,{text:"Re-execute",disabled:!re||!X,icon:"refresh",onClick:(0,Z.Z)(P().mark((function e(){var n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X||!Q){e.next=5;break}return e.next=3,y({variables:(0,J.kz)({run:(0,I.Z)((0,I.Z)({},t),{},{runConfigYaml:Q}),style:{type:"all"},repositoryLocationName:X.match.repositoryLocation.name,repositoryName:X.match.repository.name})});case 3:n=e.sent,(0,J.lF)(t.pipelineName,n,h,{behavior:"open"});case 5:case"end":return e.stop()}}),e)})))})}),ne||!d.enabled?null:(0,Y.jsx)(L.sN,{icon:"cancel",text:"Terminate",onClick:function(){return l("terminate")}}),(0,Y.jsx)(L.R,{})]}),(0,Y.jsx)(L.AL,{text:"Download Debug File",icon:"download_for_offline",download:!0,href:"".concat(c,"/download_debug/").concat(t.runId)}),p.enabled?(0,Y.jsx)(L.sN,{icon:"delete",text:"Delete",intent:"danger",onClick:function(){return l("delete")}}):null]}),position:"bottom-right",onOpening:function(){C||b()},children:(0,Y.jsx)(F.zx,{icon:(0,Y.jsx)(m.JO,{name:"expand_more"})})}),d.enabled?(0,Y.jsx)(se.A,{isOpen:"terminate"===a,onClose:q,onComplete:H,selectedRuns:(0,_.Z)({},t.id,t.canTerminate)}):null,p.enabled?(0,Y.jsx)(ee,{isOpen:"delete"===a,onClose:q,onComplete:H,onTerminateInstead:function(){return l("terminate")},selectedRuns:(0,_.Z)({},t.id,t.canTerminate)}):null,(0,Y.jsxs)(M.Vq,{isOpen:"config"===a,title:"Config",canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:q,children:[(0,Y.jsx)(z.NU,{value:Q||"",options:{lineNumbers:!0,mode:"yaml"}}),(0,Y.jsxs)(M.cN,{topBorder:!0,children:[(0,Y.jsx)(F.zx,{intent:"none",onClick:function(){f(Q||""),U.L.show({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"})},children:"Copy config"}),(0,Y.jsx)(F.zx,{intent:"primary",onClick:q,children:"OK"})]})]})]})})),ce=g.memo((function(e){var n=e.selected,t=e.clearSelection,r=g.useContext(J.Lw).refetch,i=(0,v.TE)(),o=i.canTerminatePipelineExecution,a=i.canDeletePipelineRun,l=i.canLaunchPipelineReexecution,c=g.useState("none"),u=(0,s.Z)(c,2),d=u[0],p=u[1];if(!o.enabled&&!a.enabled)return null;var h=n.filter((function(e){return!ae.cv.has(null===e||void 0===e?void 0:e.status)})),f=h.map((function(e){return e.id})),x=h.reduce((function(e,n){return(0,I.Z)((0,I.Z)({},e),{},(0,_.Z)({},n.id,n.canTerminate))}),{}),y=n.map((function(e){return e.runId})),j=n.reduce((function(e,n){return(0,I.Z)((0,I.Z)({},e),{},(0,_.Z)({},n.id,n.canTerminate))}),{}),w=n.filter((function(e){return ae.hd.has(null===e||void 0===e?void 0:e.status)})),b=w.reduce((function(e,n){return(0,I.Z)((0,I.Z)({},e),{},(0,_.Z)({},n.id,n.id))}),{}),k=n.filter((function(e){return ae.cv.has(null===e||void 0===e?void 0:e.status)})),S=k.reduce((function(e,n){return(0,I.Z)((0,I.Z)({},e),{},(0,_.Z)({},n.id,n.id))}),{}),C=function(){p("none")},N=function(){t(),r()};return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(D.J,{content:(0,Y.jsxs)(L.v2,{children:[o.enabled?(0,Y.jsx)(L.sN,{icon:"cancel",text:"Terminate ".concat(f.length," ").concat(1===f.length?"run":"runs"),disabled:0===f.length,onClick:function(){p("terminate")}}):null,a.enabled?(0,Y.jsx)(L.sN,{icon:"delete",intent:"danger",text:"Delete ".concat(y.length," ").concat(1===y.length?"run":"runs"),disabled:0===y.length,onClick:function(){p("delete")}}):null,l.enabled?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(L.sN,{icon:"refresh",text:"Re-execute ".concat(k.length," ").concat(1===k.length?"run":"runs"),disabled:0===k.length,onClick:function(){p("reexecute")}}),(0,Y.jsx)(L.sN,{icon:"refresh",text:"Re-execute ".concat(w.length," ").concat(1===w.length?"run":"runs"," from failure"),disabled:0===w.length,onClick:function(){p("reexecute-from-failure")}})]}):null]}),position:"bottom-right",children:(0,Y.jsx)(F.zx,{disabled:0===n.length,rightIcon:(0,Y.jsx)(m.JO,{name:"expand_more"}),children:"Actions"})}),(0,Y.jsx)(se.A,{isOpen:"terminate"===d,onClose:C,onComplete:N,selectedRuns:x}),(0,Y.jsx)(ee,{isOpen:"delete"===d,onClose:C,onComplete:N,onTerminateInstead:function(){return p("terminate")},selectedRuns:j}),(0,Y.jsx)(ie,{isOpen:"reexecute-from-failure"===d,onClose:C,onComplete:N,selectedRuns:b,reexecutionStrategy:$.hm.FROM_FAILURE}),(0,Y.jsx)(ie,{isOpen:"reexecute"===d,onClose:C,onComplete:N,selectedRuns:S,reexecutionStrategy:$.hm.ALL_STEPS})]})})),ue="Launchpad is unavailable because the pipeline is not present in the current repository.",de=(0,c.Ps)(r||(r=(0,o.Z)(["\n  query PipelineEnvironmentYamlQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        pipelineName\n        pipelineSnapshotId\n        runConfigYaml\n        ...RunFragmentForRepositoryMatch\n      }\n    }\n  }\n  ","\n"])),oe.L),pe=t(27457),he=t(37751),fe=t(80342),me=function(e){var n=e.runs,t=e.filter,r=e.onAddTag,i=e.nonIdealState,o=e.highlightedIds,l=e.actionBarComponents,c=n.map((function(e){return e.runId})),f=(0,w.a)(c),m=(0,s.Z)(f,2),x=m[0].checkedIds,g=m[1],y=g.onToggleFactory,j=g.onToggleAll,b=(0,v.TE)(),k=b.canTerminatePipelineExecution,N=b.canDeletePipelineRun,E=k.enabled||N.enabled,_=(0,S.vl)().options;if(0===n.length){var I=Object.keys(t||{}).length;return(0,Y.jsxs)("div",{children:[l?(0,Y.jsx)(u.x,{padding:{vertical:8,left:24,right:12},children:l}):null,(0,Y.jsx)(u.x,{margin:{vertical:32},children:i||(0,Y.jsx)(d.t,{icon:"run",title:I?"No matching runs":"No runs to display",description:I?"No runs were found for this filter.":"Use the Launchpad to launch a run."})})]})}var Z,T=!1,P=(0,a.Z)(n);try{for(P.s();!(Z=P.n()).done;){var R=Z.value,O=R.repositoryOrigin;if(O){var D=(0,C.k)(O.repositoryName,O.repositoryLocationName),L=(0,S.qz)(_,D);if(!L||!(0,S.E8)(L,R.pipelineName)){T=!0;break}}}}catch(F){P.e(F)}finally{P.f()}var A=n.filter((function(e){return x.has(e.runId)}));return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)(u.x,{flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},children:[l,(0,Y.jsx)("div",{style:{flex:1}}),(0,Y.jsx)(ce,{selected:A,clearSelection:function(){return j(!1)}})]}),(0,Y.jsxs)(p.i,{children:[(0,Y.jsx)("thead",{children:(0,Y.jsxs)("tr",{children:[(0,Y.jsx)("th",{style:{width:42,paddingTop:0,paddingBottom:0},children:E?(0,Y.jsx)(h.X,{indeterminate:x.size>0&&x.size!==n.length,checked:x.size===n.length,onChange:function(e){e.target instanceof HTMLInputElement&&j(e.target.checked)}}):null}),(0,Y.jsx)("th",{style:{width:120},children:"Status"}),(0,Y.jsx)("th",{style:{width:90},children:"Run ID"}),(0,Y.jsx)("th",{children:T?"Job / Pipeline":"Job"}),(0,Y.jsx)("th",{style:{width:90},children:"Snapshot ID"}),(0,Y.jsx)("th",{style:{width:190},children:"Timing"}),e.additionalColumnHeaders,(0,Y.jsx)("th",{style:{width:52}})]})}),(0,Y.jsx)("tbody",{children:n.map((function(n){var t;return(0,Y.jsx)(ge,{canTerminateOrDelete:E,run:n,onAddTag:r,checked:x.has(n.runId),additionalColumns:null===(t=e.additionalColumnsForRow)||void 0===t?void 0:t.call(e,n),onToggleChecked:y(n.runId),isHighlighted:o&&o.includes(n.runId)},n.runId)}))})]})]})},xe=(0,c.Ps)(i||(i=(0,o.Z)(["\n  fragment RunTableRunFragment on Run {\n    id\n    runId\n    status\n    stepKeysToExecute\n    canTerminate\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n"])),J.$X),ge=function(e){var n=e.run,t=e.canTerminateOrDelete,r=e.onAddTag,i=e.checked,o=e.onToggleChecked,a=e.additionalColumns,s=e.isHighlighted,l=n.pipelineName,c=(0,N._)(n),d=g.useMemo((function(){if(c){var e=c.match.repository.pipelines.find((function(e){return e.name===l}));return!(null===e||void 0===e||!e.isJob)}return!1}),[c,l]);return(0,Y.jsxs)(ye,{highlighted:!!s,children:[(0,Y.jsx)("td",{children:t&&o?(0,Y.jsx)(h.X,{checked:!!i,onChange:function(e){if(e.target instanceof HTMLInputElement){var n=e.target.checked,t=e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift");o&&o({checked:n,shiftKey:t})}}}):null}),(0,Y.jsx)("td",{children:(0,Y.jsx)(he.M,{status:n.status,runId:n.runId})}),(0,Y.jsx)("td",{children:(0,Y.jsx)(y.rU,{to:"/instance/runs/".concat(n.runId),children:(0,Y.jsx)(f.fv,{children:(0,J.EI)(n)})})}),(0,Y.jsx)("td",{children:(0,Y.jsxs)(u.x,{flex:{direction:"column",gap:5},children:[(0,j.pv)(n.pipelineName)?(0,Y.jsx)(pe.k,{assetKeys:(0,J.Bo)(n)}):(0,Y.jsxs)(u.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,Y.jsx)(k.h,{isJob:d,showIcon:!0,pipelineName:n.pipelineName,pipelineHrefContext:"no-link"}),(0,Y.jsx)(y.rU,{to:c?(0,E.jT)({repoName:c.match.repository.name,repoLocation:c.match.repositoryLocation.name,pipelineName:n.pipelineName,isJob:d}):(0,E.r4)(n.pipelineName),children:(0,Y.jsx)(m.JO,{name:"open_in_new",color:x.w.Blue500})})]}),(0,Y.jsx)(fe.Qq,{tags:n.tags,mode:d?"default"!==n.mode?n.mode:null:n.mode,onAddTag:r})]})}),(0,Y.jsx)("td",{children:(0,Y.jsx)(b.J2,{snapshotId:n.pipelineSnapshotId||"",pipelineName:n.pipelineName,size:"normal"})}),(0,Y.jsxs)("td",{children:[(0,Y.jsx)(J.Zr,{run:n}),(0,Y.jsx)(J.Tw,{run:n})]}),a,(0,Y.jsx)("td",{children:(0,Y.jsx)(le,{run:n})})]},n.runId)},ye=l.ZP.tr.withConfig({displayName:"RunTable__Row",componentId:"sc-18h8t3i-0"})(["",""],(function(e){return e.highlighted?"box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;":null}))},28064:function(e,n,t){t.d(n,{H:function(){return r},i:function(){return p}});var r,i=t(922),o=t(54268),a=t(762),s=t(7838),l=t(12745),c=t(32030),u=t(325),d=t(32289);!function(e){e.Namespace="dagster/",e.Backfill="dagster/backfill",e.SolidSelection="dagster/solid_selection",e.OpSelection="dagster/op_selection",e.StepSelection="dagster/step_selection",e.PartitionSet="dagster/partition_set",e.Partition="dagster/partition",e.IsResumeRetry="dagster/is_resume_retry",e.PresetName="dagster/preset_name",e.ParentRunId="dagster/parent_run_id",e.RootRunId="dagster/root_run_id",e.ScheduleName="dagster/schedule_name",e.SensorName="dagster/sensor_name",e.RepositoryLabelTag=".dagster/repository"}(r||(r={}));var p=function(e){var n=e.tag,t=e.actions,i=n.key,s=n.value,l=i.startsWith(r.Namespace),c=u.useMemo((function(){if(l)switch(i){case r.Backfill:return"Backfill";case r.ScheduleName:case r.SensorName:return null;default:return i.slice(r.Namespace.length)}return i}),[l,i]),p=u.useMemo((function(){switch(i){case r.ScheduleName:return"schedule";case r.SensorName:return"sensors";case r.Backfill:return"settings_backup_restore";default:return null}}),[i]),f=(0,d.jsx)(o.V,{intent:l?"none":"primary",interactive:!0,icon:p||void 0,children:c?"".concat(c,": ").concat(s):s});return null!==t&&void 0!==t&&t.length?(0,d.jsx)(a.J,{content:(0,d.jsx)(h,{actions:t,tag:n}),hoverOpenDelay:100,hoverCloseDelay:100,placement:"top",interactionKind:"hover",children:f}):f},h=function(e){var n=e.tag,t=e.actions;return(0,d.jsx)(f,{background:s.w.Gray900,flex:{direction:"row"},children:t.map((function(e,t){var r=e.label,i=e.onClick;return(0,d.jsx)(m,{onClick:function(){return i(n)},children:(0,d.jsx)(l.YS,{children:r})},t)}))})},f=(0,i.ZP)(c.x).withConfig({displayName:"RunTag__ActionContainer",componentId:"sc-15wafr4-0"})(["border-radius:8px;overflow:hidden;"]),m=i.ZP.button.withConfig({displayName:"RunTag__TagButton",componentId:"sc-15wafr4-1"})(["border:none;background:",";color:",";cursor:pointer;padding:8px 12px;text-align:left;:not(:last-child){box-shadow:-1px 0 0 inset ",";}:focus{outline:none;}:hover{background-color:",";color:",";}"],s.w.Dark,s.w.Gray100,s.w.Gray600,s.w.Gray800,s.w.White)},80342:function(e,n,t){t.d(n,{yQ:function(){return f},Qq:function(){return m}});var r=t(47427),i=t(16798),o=t(32030),a=t(325),s=t(13065),l=t(9429),c=t(39061),u=t(28064),d=t(32289),p=new Set([u.H.ScheduleName,u.H.SensorName,u.H.Backfill]),h=(0,i.Z)({},u.H.SolidSelection,u.H.OpSelection),f=function(e){return e!==u.H.SolidSelection&&e!==u.H.OpSelection},m=a.memo((function(e){var n=e.tags,t=e.onAddTag,i=e.mode,m=(0,l.m)(),x=a.useMemo((function(){return{label:"Copy tag",onClick:function(e){m("".concat(e.key,":").concat(e.value)),s.L.show({intent:"success",message:"Copied tag!"})}}}),[m]),g=a.useMemo((function(){return t?{label:"Add tag to filter",onClick:function(e){t({token:"tag",value:"".concat(e.key,"=").concat(e.value)})}}:null}),[t]),y=function(e){var n=[x];return g&&f(e.key)&&n.push(g),n.filter((function(e){return!!e}))},v=a.useMemo((function(){var e,t=[],i=[],o=n.map((function(e){return{key:e.key,value:e.value}})),a=(0,r.Z)(o);try{for(a.s();!(e=a.n()).done;){var s=e.value,l=s.key;h.hasOwnProperty(l)&&(s.key=h[l]),(!s.value.startsWith(c.u1)||l!==u.H.PartitionSet&&l!==u.H.StepSelection)&&(p.has(l)?t.push(s):i.push(s))}}catch(d){a.e(d)}finally{a.f()}return[].concat(t,i)}),[n]);return n.length?(0,d.jsxs)(o.x,{flex:{direction:"row",wrap:"wrap",gap:4},children:[i?(0,d.jsx)(u.i,{tag:{key:"mode",value:i}}):null,v.map((function(e,n){return(0,d.jsx)(u.i,{tag:e,actions:y(e)},n)}))]}):null}))},55752:function(e,n,t){t.d(n,{EI:function(){return k},Bo:function(){return S},tA:function(){return C},Lw:function(){return N},Qs:function(){return E},lF:function(){return _},kz:function(){return Z},a6:function(){return T},be:function(){return P},zU:function(){return R},kO:function(){return O},Zr:function(){return D},Tw:function(){return L},$X:function(){return A}});var r,i,o,a,s,l=t(99500),c=t(59019),u=t(3159),d=t(41332),p=t.n(d),h=t(325),f=t(12745),m=t(14156),x=t(13065),g=t(12436),y=t(55419),v=t(5484),j=t(28064),w=t(32460),b=t(32289);function k(e){return e.runId.split("-").shift()}function S(e){var n;return e.assetSelection||(null===(n=e.stepKeysToExecute)||void 0===n?void 0:n.map((function(e){return{path:[e]}})))||[]}function C(e,n){return"/instance/runs/".concat(e.runId,"?").concat(p().stringify({focusedTime:n.timestamp?Number(n.timestamp):void 0,selection:n.stepKey,logs:"step:".concat(n.stepKey)}))}var N=h.createContext({refetch:function(){}});function E(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500;h.useEffect((function(){var t=function(){setTimeout(e,n)};return document.addEventListener("run-launched",t),function(){document.removeEventListener("run-launched",t)}}),[e,n])}function _(e,n,t,r){var i=n&&n.data&&"launchPipelineExecution"in n.data?n.data.launchPipelineExecution:n&&n.data&&"launchPipelineReexecution"in n.data?n.data.launchPipelineReexecution:null;if(i)if("LaunchRunSuccess"===i.__typename){var o="/instance/runs/".concat(i.run.runId),a=r.preserveQuerystring?t.location.search:"";"open-in-new-tab"===r.behavior?window.open(t.createHref({pathname:o,search:a}),"_blank"):"open"===r.behavior?t.push({pathname:o,search:a}):x.L.show({intent:"success",message:(0,b.jsxs)("div",{children:["Launched run ",(0,b.jsx)(f.fv,{children:i.run.runId.slice(0,8)})]}),action:{text:"View",onClick:function(){return t.push({pathname:o,search:a})}}}),document.dispatchEvent(new CustomEvent("run-launched"))}else if("InvalidSubsetError"===i.__typename)(0,m._)({body:i.message});else if("PythonError"===i.__typename)(0,m._)({title:"Error",body:(0,b.jsx)(g.T9,{error:i})});else{var s="".concat(e," cannot be executed with the provided config.");"errors"in i&&(s+=" Please fix the following errors:\n\n".concat(i.errors.map((function(e){return e.message})).join("\n\n"))),(0,m._)({body:s})}else(0,m._)({body:"No data was returned. Did Dagit crash?"})}function I(e){var n=[j.H.IsResumeRetry,j.H.StepSelection];return{parentRunId:e.runId,rootRunId:e.rootRunId?e.rootRunId:e.runId,tags:[].concat((0,c.Z)(e.tags.filter((function(e){return!n.includes(e.key)})).map((function(e){return{key:e.key,value:e.value}}))),[{key:j.H.ParentRunId,value:e.runId},{key:j.H.RootRunId,value:e.rootRunId?e.rootRunId:e.runId}])}}function Z(e){var n=e.run,t=e.style,r=e.repositoryLocationName,i=e.repositoryName;if(n&&n.pipelineSnapshotId){var o,a,s,l,c={mode:n.mode,runConfigData:n.runConfigYaml,executionMetadata:I(n),selector:{repositoryLocationName:r,repositoryName:i,pipelineName:n.pipelineName,solidSelection:n.solidSelection,assetSelection:n.assetSelection?n.assetSelection.map((function(e){return{path:e.path}})):null}};if("from-failure"===t.type)null===(o=c.executionMetadata)||void 0===o||null===(a=o.tags)||void 0===a||a.push({key:j.H.IsResumeRetry,value:"true"});if("selection"===t.type)c.stepKeys=t.selection.keys,null===(s=c.executionMetadata)||void 0===s||null===(l=s.tags)||void 0===l||l.push({key:j.H.StepSelection,value:t.selection.query});return{executionParams:c}}}var T=(0,u.Ps)(r||(r=(0,l.Z)(["\n  mutation LaunchPipelineExecution($executionParams: ExecutionParams!) {\n    launchPipelineExecution(executionParams: $executionParams) {\n      __typename\n      ... on LaunchRunSuccess {\n        run {\n          id\n          runId\n          pipelineName\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on InvalidSubsetError {\n        message\n      }\n      ... on RunConfigValidationInvalid {\n        errors {\n          message\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),g.Bq),P=(0,u.Ps)(i||(i=(0,l.Z)(["\n  mutation Delete($runId: String!) {\n    deletePipelineRun(runId: $runId) {\n      __typename\n      ...PythonErrorFragment\n      ... on UnauthorizedError {\n        message\n      }\n      ... on RunNotFoundError {\n        message\n      }\n    }\n  }\n\n  ","\n"])),g.Bq),R=(0,u.Ps)(o||(o=(0,l.Z)(["\n  mutation Terminate($runId: String!, $terminatePolicy: TerminateRunPolicy) {\n    terminatePipelineExecution(runId: $runId, terminatePolicy: $terminatePolicy) {\n      __typename\n      ... on TerminateRunFailure {\n        message\n      }\n      ... on RunNotFoundError {\n        message\n      }\n      ... on TerminateRunSuccess {\n        run {\n          id\n          runId\n          canTerminate\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),g.Bq),O=(0,u.Ps)(a||(a=(0,l.Z)(["\n  mutation LaunchPipelineReexecution(\n    $executionParams: ExecutionParams\n    $reexecutionParams: ReexecutionParams\n  ) {\n    launchPipelineReexecution(\n      executionParams: $executionParams\n      reexecutionParams: $reexecutionParams\n    ) {\n      __typename\n      ... on LaunchRunSuccess {\n        run {\n          id\n          runId\n          pipelineName\n          rootRunId\n          parentRunId\n        }\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on InvalidSubsetError {\n        message\n      }\n      ... on RunConfigValidationInvalid {\n        errors {\n          message\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),g.Bq),D=h.memo((function(e){var n=e.run,t=n.startTime,r=n.updateTime;return(0,b.jsx)("div",{children:t?(0,b.jsx)(y.E,{timestamp:{unix:t}}):r?(0,b.jsx)(y.E,{timestamp:{unix:r}}):null})})),L=h.memo((function(e){var n=e.run;return n.status===v.VO.FAILURE&&(!n.startTime||n.startTime===n.endTime)?(0,b.jsx)("div",{children:"Failed to start"}):n.status===v.VO.CANCELED?(0,b.jsx)("div",{children:"Canceled"}):n.status===v.VO.CANCELING?(0,b.jsx)("div",{children:"Canceling\u2026"}):n.status===v.VO.QUEUED?(0,b.jsx)("div",{children:"Queued\u2026"}):n.startTime?(0,b.jsx)(w.Q,{startUnix:n.startTime,endUnix:n.endTime}):(0,b.jsx)("div",{children:"Starting\u2026"})})),A=(0,u.Ps)(s||(s=(0,l.Z)(["\n  fragment RunTimeFragment on Run {\n    id\n    runId\n    status\n    startTime\n    endTime\n    updateTime\n  }\n"])))},45302:function(e,n,t){t.d(n,{oD:function(){return j},it:function(){return w},VH:function(){return b},nr:function(){return k}});var r,i=t(99500),o=t(59019),a=t(19065),s=t(47427),l=t(65880),c=t(3159),u=t(57615),d=t(41332),p=t.n(d),h=t(325),f=t(44198),m=t(5484),x=t(76336),g=t(80342),y=t(32289),v=[{token:"id",values:function(){return[]}},{token:"status",values:function(){return[]}},{token:"pipeline",values:function(){return[]}},{token:"job",values:function(){return[]}},{token:"tag",values:function(){return[]}},{token:"snapshotId",values:function(){return[]}}];function j(e){return(0,f.q)(h.useMemo((function(){return{encode:function(e){return{q:(0,u.cJ)(e),cursor:void 0}},decode:function(n){var t=n.q,r=void 0===t?[]:t;return(0,u.TC)(r,v).filter((function(n){return!n.token||!e||e.includes(n.token)}))}}}),[e]))}function w(e){return"/instance/runs?".concat(p().stringify({q:(0,u.cJ)(e)},{arrayFormat:"brackets"}))}function b(e){if(!e[0])return{};var n,t={},r=(0,s.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("pipeline"===i.token||"job"===i.token)t.pipelineName=i.value;else if("id"===i.token)t.runIds=t.runIds||[],t.runIds.push(i.value);else if("status"===i.token)t.statuses=t.statuses||[],t.statuses.push(i.value);else if("snapshotId"===i.token)t.snapshotId=i.value;else if("tag"===i.token){var o=i.value.split("="),l=(0,a.Z)(o,2),c=l[0],u=l[1];t.tags?t.tags.push({key:c,value:u}):t.tags=[{key:c,value:u}]}}}catch(d){r.e(d)}finally{r.f()}return t}var k=function(e){var n=e.loading,t=e.tokens,r=e.onChange,i=e.enabledFilters,c=(0,x.vl)().options,d=(0,l.t)(S,{fetchPolicy:"cache-and-network"}),p=(0,a.Z)(d,2),f=p[0],v=p[1].data,j=function(e,n,t){var r,i=new Set,a=new Set,l=(0,s.Z)(e);try{for(l.s();!(r=l.n()).done;){var c,u=r.value.repository,d=(0,s.Z)(u.pipelines);try{for(d.s();!(c=d.n()).done;){var p=c.value;p.isJob?a.add(p.name):i.add(p.name)}}catch(f){d.e(f)}finally{d.f()}}}catch(f){l.e(f)}finally{l.f()}var h=[{token:"id",values:function(){return[]}},{token:"status",values:function(){return Object.keys(m.VO)}},{token:"pipeline",values:function(){return Array.from(i)}},{token:"job",values:function(){return Array.from(a)}},{token:"tag",values:function(){var e=[];return(0,o.Z)(n||[]).filter((function(e){var n=e.key;return(0,g.yQ)(n)})).sort((function(e,n){return e.key.localeCompare(n.key)})).forEach((function(n){return n.values.forEach((function(t){return e.push("".concat(n.key,"=").concat(t))}))})),e}},{token:"snapshotId",values:function(){return[]}}];return t?h.filter((function(e){return t.includes(e.token)})):h}(c,null===v||void 0===v?void 0:v.pipelineRunTags,i),w=(0,u.TC)((0,u.cJ)(t),j),b=h.useCallback((function(){return f()}),[f]);return(0,y.jsx)(u.Gf,{values:w,onChange:function(e){return r(e)},onFocus:b,suggestionProviders:j,suggestionProvidersFilter:function(e,n){var t,r=[],i=(0,s.Z)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value.token;o&&r.push(o)}}catch(c){i.e(c)}finally{i.f()}if(r.includes("id"))return[];var a=new Set(["id","job","pipeline","snapshotId"]),l=r.filter((function(e){return a.has(e)}));return e.filter((function(e){return!e.token||!l.includes(e.token)}))},loading:n})},S=(0,c.Ps)(r||(r=(0,i.Z)(["\n  query RunsSearchSpaceQuery {\n    pipelineRunTags {\n      key\n      values\n    }\n  }\n"])))},38568:function(e,n,t){t.d(n,{A:function(){return N}});var r=t(85358),i=t(19065),o=t(16798),a=t(95764),s=t(95550),l=t.n(s),c=t(49148),u=t(33918),d=t(6466),p=t(50346),h=t(32030),f=t(89279),m=t(7838),x=t(75453),g=t(12745),y=t(8358),v=t(325),j=t(5484),w=t(60057),b=t(55752),k=t(32289),S=function(e){return{mustForce:!Object.keys(e).some((function(n){return e[n]})),frozenRuns:e,step:"initial",termination:{completed:0,errors:{}}}},C=function(e,n){switch(n.type){case"reset":return S(n.frozenRuns);case"toggle-force-terminate":return(0,a.Z)((0,a.Z)({},e),{},{mustForce:n.checked});case"start":return(0,a.Z)((0,a.Z)({},e),{},{step:"terminating"});case"termination-success":var t=e.termination;return(0,a.Z)((0,a.Z)({},e),{},{step:"terminating",termination:(0,a.Z)((0,a.Z)({},t),{},{completed:t.completed+1})});case"termination-error":var r=e.termination;return(0,a.Z)((0,a.Z)({},e),{},{step:"terminating",termination:(0,a.Z)((0,a.Z)({},r),{},{completed:r.completed+1,errors:(0,a.Z)((0,a.Z)({},r.errors),{},(0,o.Z)({},n.id,n.error))})});case"complete":return(0,a.Z)((0,a.Z)({},e),{},{step:"completed"})}},N=function(e){var n=e.isOpen,t=e.onClose,o=e.onComplete,a=e.selectedRuns,s=v.useRef(a),N=v.useReducer(C,s.current,S),E=(0,i.Z)(N,2),_=E[0],I=E[1],Z=Object.keys(_.frozenRuns).length;v.useEffect((function(){n&&I({type:"reset",frozenRuns:s.current})}),[n]),v.useEffect((function(){n||(s.current=a)}),[n,a]);var T=(0,c.D)(b.zU),P=(0,i.Z)(T,1)[0],R=_.mustForce?j.vl.MARK_AS_CANCELED_IMMEDIATELY:j.vl.SAFE_TERMINATE,O=function(){var e=(0,r.Z)(l().mark((function e(){var n,t,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I({type:"start"}),n=Object.keys(_.frozenRuns),t=0;case 3:if(!(t<n.length)){e.next=13;break}return r=n[t],e.next=7,P({variables:{runId:r,terminatePolicy:R}});case 7:i=e.sent,"TerminateRunSuccess"===(null===(a=i.data)||void 0===a?void 0:a.terminatePipelineExecution.__typename)?I({type:"termination-success"}):I({type:"termination-error",id:r,error:null===a||void 0===a?void 0:a.terminatePipelineExecution});case 10:t++,e.next=3;break;case 13:I({type:"complete"}),o(_.termination);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){I({type:"toggle-force-terminate",checked:e.target.checked})},L=Object.keys(_.frozenRuns).some((function(e){return _.frozenRuns[e]})),A="terminating"!==_.step;return(0,k.jsxs)(y.Vq,{isOpen:n,title:"Terminate runs",canEscapeKeyClose:A,canOutsideClickClose:A,onClose:t,children:[(0,k.jsx)(y.a7,{children:(0,k.jsxs)(d.Z,{direction:"column",spacing:24,children:[function(){switch(_.step){case"initial":return Z?(0,k.jsxs)(d.Z,{direction:"column",spacing:16,children:[(0,k.jsx)("div",{children:"".concat(Z," ").concat(1===Z?"run":"runs"," will be terminated. Do you wish to continue?")}),(0,k.jsx)("div",{children:L?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(p.X,{checked:_.mustForce,size:"small",label:"Force termination immediately",onChange:D}),_.mustForce?(0,k.jsxs)(h.x,{flex:{display:"flex",direction:"row",gap:8},margin:{top:8},children:[(0,k.jsx)(f.JO,{name:"warning",color:m.w.Yellow500}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]}):null]}):(0,k.jsxs)(d.Z,{direction:"row",spacing:8,children:[(0,k.jsx)(f.JO,{name:"warning",color:m.w.Yellow500}),(0,k.jsxs)("div",{children:[(0,k.jsx)("strong",{children:"Warning:"})," computational resources created by runs may not be cleaned up."]})]})})]}):(0,k.jsxs)(d.Z,{direction:"column",spacing:16,children:[(0,k.jsx)("div",{children:"No runs selected for termination."}),(0,k.jsx)("div",{children:"The runs you selected may already have finished executing."})]});case"terminating":case"completed":var e=Z>0?_.termination.completed/Z:1;return(0,k.jsxs)(d.Z,{direction:"column",spacing:8,children:[(0,k.jsx)("div",{children:_.mustForce?"Forcing termination\u2026":"Terminating\u2026"}),(0,k.jsx)(u.ko,{intent:"primary",value:Math.max(.1,e),animate:e<1}),"terminating"===_.step?(0,k.jsx)(w.c,{message:"Termination in progress, please do not navigate away yet."}):null]});default:return null}}(),function(){if("initial"===_.step)return null;if("terminating"===_.step)return(0,k.jsx)("div",{children:"Please do not close the window or navigate away during termination."});var e=_.termination.errors,n=Object.keys(e).length,t=_.termination.completed-n;return(0,k.jsxs)(d.Z,{direction:"column",spacing:8,children:[t?(0,k.jsxs)(d.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,k.jsx)(f.JO,{name:"check_circle",color:m.w.Green500}),(0,k.jsx)("div",{children:_.mustForce?"Successfully forced termination for ".concat(t,"\n                ").concat(1===t?"run":"runs","."):"Successfully requested termination for ".concat(t,"\n              ").concat(1===t?"run":"runs",".")})]}):null,n?(0,k.jsxs)(d.Z,{direction:"column",spacing:8,children:[(0,k.jsxs)(d.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,k.jsx)(f.JO,{name:"warning",color:m.w.Yellow500}),(0,k.jsx)("div",{children:_.mustForce?"Could not force termination for ".concat(n," ").concat(1===n?"run":"runs",":"):"Could not request termination for ".concat(n," ").concat(1===n?"run":"runs",":")})]}),(0,k.jsx)("ul",{children:Object.keys(e).map((function(n){var t;return(0,k.jsx)("li",{children:(0,k.jsxs)(d.Z,{direction:"row",spacing:8,children:[(0,k.jsx)(g.fv,{children:n.slice(0,8)}),e[n]?(0,k.jsx)("div",{children:null===(t=e[n])||void 0===t?void 0:t.message}):null]})},n)}))})]}):null]})}()]})}),(0,k.jsx)(y.cN,{children:function(){switch(_.step){case"initial":return Z?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x.zx,{intent:"none",onClick:t,children:"Cancel"}),(0,k.jsx)(x.zx,{intent:"danger",onClick:O,children:"".concat(_.mustForce?"Force termination for":"Terminate"," ","".concat(Z," ").concat(1===Z?"run":"runs"))})]}):(0,k.jsx)(x.zx,{intent:"none",onClick:t,children:"OK"});case"terminating":return(0,k.jsx)(x.zx,{intent:"danger",disabled:!0,children:_.mustForce?"Forcing termination for ".concat("".concat(Z," ").concat(1===Z?"run":"runs","...")):"Terminating ".concat("".concat(Z," ").concat(1===Z?"run":"runs","..."))});case"completed":return(0,k.jsx)(x.zx,{intent:"primary",onClick:t,children:"Done"})}}()})]})}},32460:function(e,n,t){t.d(n,{Q:function(){return u}});var r=t(19065),i=t(6466),o=t(89279),a=t(7838),s=t(325),l=t(76341),c=t(32289),u=function(e){var n=e.startUnix,t=e.endUnix,u=s.useState((function(){return t?1e3*t:null})),d=(0,r.Z)(u,2),p=d[0],h=d[1],f=s.useRef(null),m=s.useRef(null),x=s.useCallback((function(){f.current&&clearInterval(f.current),m.current&&clearTimeout(m.current)}),[]);s.useEffect((function(){if(!t)return m.current=setTimeout((function(){f.current=setInterval((function(){h(Date.now())}),1e3)}),Date.now()%1e3),function(){return x()};h(1e3*t)}),[x,t]);var g=n?1e3*n:0;return(0,c.jsxs)(i.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,c.jsx)(o.JO,{name:"timer",color:a.w.Gray400}),(0,c.jsx)("span",{style:{fontVariantNumeric:"tabular-nums"},children:g?(0,l.fv)((p||Date.now())-g):"\u2013"})]})}},1557:function(e,n,t){t.d(n,{v:function(){return c},m:function(){return u}});var r=t(13816),i=t.n(r),o=t(58891),a=t.n(o),s=t(5484),l=i()((function(){return a()(Object.values(s.i3).map(c)).sort()})),c=function(e){switch(e){case s.i3.PIPELINE_STARTING:return s.i3.RUN_STARTING;case s.i3.PIPELINE_ENQUEUED:return s.i3.RUN_ENQUEUED;case s.i3.PIPELINE_DEQUEUED:return s.i3.RUN_DEQUEUED;case s.i3.PIPELINE_STARTING:return s.i3.RUN_STARTING;case s.i3.PIPELINE_START:return s.i3.RUN_START;case s.i3.PIPELINE_SUCCESS:return s.i3.RUN_SUCCESS;case s.i3.PIPELINE_FAILURE:return s.i3.RUN_FAILURE;case s.i3.PIPELINE_CANCELING:return s.i3.RUN_CANCELING;case s.i3.PIPELINE_CANCELED:return s.i3.RUN_CANCELED;default:return e}},u=i()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{token:"step",values:function(){return e}},{token:"type",values:l},{token:"query",values:function(){return[]}}]}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return JSON.stringify(e)}))},98834:function(e,n,t){t.d(n,{m:function(){return i}});var r=t(6527),i=function(e){return"LogMessageEvent"===e.__typename?e.level:r.i.EVENT}},77892:function(e,n,t){t.d(n,{l:function(){return c}});var r=t(59019),i=t(95764),o=t(19065),a=t(73701),s=t(325),l=t(44198);function c(e){var n=s.useState((function(){return[]})),t=(0,o.Z)(n,2),c=t[0],u=t[1],d=(0,l.q)({queryKey:"cursor"}),p=(0,o.Z)(d,2),h=p[0],f=p[1],m=(0,i.Z)((0,i.Z)({},e.variables),{},{cursor:h,limit:e.pageSize+1}),x=(0,a.a)(e.query,{fetchPolicy:"cache-and-network",partialRefetch:!0,variables:m,notifyOnNetworkStatusChange:!0}),g=e.getResultArray(x.data),y={hasPrevCursor:!!h,hasNextCursor:g.length===e.pageSize+1,popCursor:function(){var e=(0,r.Z)(c);f(e.pop()),u(e)},advanceCursor:function(){h&&u((function(e){return[].concat((0,r.Z)(e),[h])}));var n=x.data&&e.nextCursorForResult(x.data);n&&f(n)},reset:function(){u([]),f(void 0)}};return{queryResult:x,paginationProps:y}}},79580:function(e,n,t){t.d(n,{W:function(){return h}});var r=t(85358),i=t(19065),o=t(95550),a=t.n(o),s=t(49148),l=t(325),c=t(27601),u=t(25429),d=t(39956),p=t(55752),h=function(e){var n=(0,c.k6)(),t=(0,s.D)(p.kO),o=(0,i.Z)(t,1)[0],h=(0,d._)(e);return l.useCallback(function(){var t=(0,r.Z)(a().mark((function t(r){var i,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.pipelineSnapshotId&&h){t.next=2;break}return t.abrupt("return");case 2:return i=(0,p.kz)({run:e,style:r,repositoryLocationName:h.match.repositoryLocation.name,repositoryName:h.match.repository.name}),t.prev=3,t.next=6,o({variables:i});case 6:s=t.sent,(0,p.lF)(e.pipelineName,s,n,{preserveQuerystring:!0,behavior:"open"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),(0,u.t)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),[n,o,h,e])}},3656:function(e,n,t){t.d(n,{b:function(){return C}});var r,i,o=t(99500),a=t(59019),s=t(19065),l=t(65880),c=t(3159),u=t(12745),d=t(7838),p=t(60652),h=t(6466),f=t(41332),m=t.n(f),x=t(325),g=t(74549),y=t(76341),v=t(45352),j=t(5484),w=t(76336),b=t(25582),k=t(32289),S=["Succeeded","Failed","Missing","Pending"],C=x.memo((function(e){var n=e.repoAddress,t=e.schedule,r=(0,w.Ux)(n),i=t.name,o=t.partitionSet,a=t.pipelineName,c=null===o||void 0===o?void 0:o.name,f=(0,w.E8)(r,a),y=x.useMemo((function(){var e=c?m().stringify({partitionSet:c},{addQueryPrefix:!0}):"";return"/".concat(f?"jobs":"pipelines","/").concat(a,"/partitions").concat(e)}),[c,f,a]),v=(0,b.$U)(n,y),j=(0,l.t)(_,{variables:{scheduleSelector:{scheduleName:i,repositoryName:n.name,repositoryLocationName:n.location}}}),S=(0,s.Z)(j,2),C=S[0],E=S[1],I=E.data,Z=E.loading,T=x.useCallback((function(){return C()}),[C]);return(0,k.jsxs)(h.Z,{direction:"column",spacing:4,children:[(0,k.jsx)(g.rU,{to:v,children:c}),function(){if(Z)return(0,k.jsx)(u.YS,{style:{color:d.w.Gray400},children:"Loading\u2026"});if(!I)return(0,k.jsx)(p.Z,{onClick:T,children:(0,k.jsx)(u.YS,{children:"Show coverage"})});var e=I.scheduleOrError;return"Schedule"===e.__typename?(0,k.jsx)(N,{schedule:e,partitionURL:v}):(0,k.jsx)(u.YS,{style:{color:d.w.Red700},children:"Partition set not found!"})}()]})})),N=function(e){var n=e.schedule,t=e.partitionURL,r=n.partitionSet;if(!r||"PartitionStatuses"!==r.partitionStatusesOrError.__typename)return(0,k.jsx)("span",{style:{color:d.w.Gray300},children:"None"});var i=r.partitionStatusesOrError.results,o={};return i.forEach((function(e){var n=function(e){switch(e.runStatus){case null:return"Missing";case j.VO.SUCCESS:return"Succeeded";case j.VO.FAILURE:case j.VO.CANCELED:case j.VO.CANCELING:return"Failed";case j.VO.MANAGED:case j.VO.QUEUED:case j.VO.NOT_STARTED:case j.VO.STARTED:case j.VO.STARTING:return"Pending";default:return(0,y.UT)(e.runStatus)}}(e);o[n]=[].concat((0,a.Z)(o[n]||[]),[e])})),(0,k.jsx)(v.Jy,{children:(0,k.jsx)("tbody",{children:S.map((function(e){return e in o?(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{style:{width:"100px"},children:e}),(0,k.jsx)("td",{children:"Failed"===e||"Missing"===e?(0,k.jsx)(g.rU,{to:"".concat(t,"?showFailuresAndGapsOnly=true"),style:{color:d.w.Gray900},children:o[e].length}):o[e].length})]},e):null}))})})},E=(0,c.Ps)(r||(r=(0,o.Z)(["\n  fragment SchedulePartitionStatusFragment on Schedule {\n    id\n    mode\n    pipelineName\n    partitionSet {\n      id\n      name\n      partitionStatusesOrError {\n        ... on PartitionStatuses {\n          results {\n            id\n            partitionName\n            runStatus\n          }\n        }\n      }\n    }\n  }\n"]))),_=(0,c.Ps)(i||(i=(0,o.Z)(["\n  query SchedulePartitionStatusQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        ...SchedulePartitionStatusFragment\n      }\n    }\n  }\n  ","\n"])),E)},81403:function(e,n,t){t.d(n,{GA:function(){return p},dM:function(){return h},tj:function(){return f}});var r,i,o,a=t(99500),s=t(3159),l=t(12436),c=t(78042),u=t(45352),d=t(2097),p=(0,s.Ps)(r||(r=(0,a.Z)(["\n  fragment ScheduleFragment on Schedule {\n    id\n    name\n    cronSchedule\n    executionTimezone\n    pipelineName\n    solidSelection\n    mode\n    description\n    partitionSet {\n      id\n      name\n    }\n    scheduleState {\n      id\n      ...InstigationStateFragment\n    }\n    futureTicks(limit: 5) {\n      results {\n        timestamp\n      }\n    }\n  }\n  ","\n"])),u.ai),h=(0,s.Ps)(i||(i=(0,a.Z)(["\n  fragment RepositorySchedulesFragment on Repository {\n    name\n    id\n    location {\n      id\n      name\n    }\n    schedules {\n      id\n      ...ScheduleFragment\n    }\n    ...RepositoryInfoFragment\n  }\n  ","\n  ","\n"])),d.x,p),f=(0,s.Ps)(o||(o=(0,a.Z)(["\n  query SchedulesRootQuery(\n    $repositorySelector: RepositorySelector!\n    $instigationType: InstigationType!\n  ) {\n    repositoryOrError(repositorySelector: $repositorySelector) {\n      __typename\n      ... on Repository {\n        id\n        ...RepositorySchedulesFragment\n      }\n      ...PythonErrorFragment\n    }\n    unloadableInstigationStatesOrError(instigationType: $instigationType) {\n      ... on InstigationStates {\n        results {\n          id\n          ...InstigationStateFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      ...InstanceHealthFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n"])),l.Bq,h,u.ai,c.O)},89324:function(e,n,t){t.d(n,{K:function(){return o}});var r=t(60736),i=(t(325),t(32289)),o=function(e){var n=e.daemonHealth,t=!1;if(n){var o=n.allDaemonStatuses.filter((function(e){return"SCHEDULER"===e.daemonType}));if(o){var a=o[0];t=!(!a.required||!a.healthy)}}return t?null:(0,i.jsx)(r.b,{intent:"warning",title:"The scheduler daemon is not running.",description:(0,i.jsxs)("div",{children:["See the"," ",(0,i.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})}},24375:function(e,n,t){t.d(n,{n:function(){return G}});var r,i=t(99500),o=t(19065),a=t(95764),s=t(59019),l=t(922),c=t(65880),u=t(3159),d=t(32030),p=t(89646),h=t(55113),f=t(34595),m=t(762),x=t(8412),g=t(75453),y=t(89279),v=t(12745),j=t(7838),w=t(24818),b=t(8358),k=t(60652),S=t(6466),C=t(41332),N=t.n(C),E=t(325),_=t(74549),I=t(13065),Z=t(12436),T=t(9429),P=t(62e3),R=t(80342),O=t(5484),D=t(90933),L=t(76336),A=t(26306),F=t(25582),M=t(68156),z=t(32289),G=E.memo((function(e){var n=e.repos,t=[],r=!1,i=(0,L.vl)().options;return n.forEach((function(e){var n=e.schedules,i={name:e.name,location:e.location.name},o=n.filter((function(e){return e.futureTicks.results.length&&e.scheduleState.status===O.yn.RUNNING})),a=Math.min.apply(Math,(0,s.Z)(o.map((function(e){return e.futureTicks.results[e.futureTicks.results.length-1].timestamp}))));o.forEach((function(e){e.futureTicks.results.forEach((function(n){n.timestamp<=a&&t.push({schedule:e,timestamp:n.timestamp,repoAddress:i})}))})),r||(r=n.some((function(e){return!!e.mode})))})),t.sort((function(e,n){return e.timestamp-n.timestamp})),t.length?(0,z.jsxs)(h.i,{children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{style:{width:"260px"},children:"Timestamp"}),(0,z.jsx)("th",{style:{width:"30%"},children:"Schedule"}),(0,z.jsx)("th",{children:r?"Job / Pipeline":"Job"}),(0,z.jsx)("th",{children:"Metadata"})]})}),(0,z.jsx)("tbody",{children:t.map((function(e){var n=e.schedule,t=e.timestamp,r=e.repoAddress,o=(0,L.qz)(i,r);return(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:(0,z.jsx)(M.v,{timestamp:t,timezone:n.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})}),(0,z.jsx)("td",{children:(0,z.jsx)(_.rU,{to:(0,F.$U)(r,"/schedules/".concat(n.name)),children:n.name})}),(0,z.jsx)("td",{children:(0,z.jsx)(P.h,{pipelineName:n.pipelineName,pipelineHrefContext:r,isJob:!!o&&(0,L.E8)(o,n.pipelineName)})}),(0,z.jsx)("td",{children:(0,z.jsx)(K,{repoAddress:r,schedule:n,tickTimestamp:t})})]},"".concat(n.id,":").concat(t))}))})]}):(0,z.jsx)(d.x,{padding:{vertical:32},children:(0,z.jsx)(p.t,{icon:"error",title:"No scheduled ticks",description:"There are no running schedules. Start a schedule to see scheduled ticks."})})})),K=E.memo((function(e){var n,t=e.repoAddress,r=e.schedule,i=e.tickTimestamp,s=(0,a.Z)((0,a.Z)({},(0,A.$)(t)),{},{scheduleName:r.name}),l=E.useState(!1),u=(0,o.Z)(l,2),d=u[0],p=u[1],h=(0,c.t)($,{variables:{scheduleSelector:s,tickTimestamp:i}}),v=(0,o.Z)(h,2),j=v[0],w=v[1],b=w.called,k=w.loading,S=w.data,C=!!b&&!k,N="Schedule"===(null===S||void 0===S||null===(n=S.scheduleOrError)||void 0===n?void 0:n.__typename)?S.scheduleOrError.futureTick.evaluationResult:null,_=C?(0,z.jsx)(U,{repoAddress:t,schedule:r,loading:k,onItemOpen:p,evaluationResult:N}):(0,z.jsx)(f.$,{purpose:"body-text"});return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(m.J,{content:(0,z.jsx)(x.v2,{children:_}),position:"bottom-right",onOpening:function(){b||j()},children:(0,z.jsx)(g.zx,{icon:(0,z.jsx)(y.JO,{name:"expand_more"})})}),(0,z.jsx)(B,{repoAddress:t,isOpen:d,setOpen:p,schedule:r,tickTimestamp:i,evaluationResult:N})]})})),U=function(e){var n=e.repoAddress,t=e.schedule,r=e.evaluationResult,i=e.loading,o=e.onItemOpen;if(!r)return(0,z.jsx)(x.sN,{text:"Could not preview tick for this schedule"});if(r.skipReason)return(0,z.jsx)(x.sN,{text:"View skip reason...",onClick:function(){return o(!0)}});if(r.error)return(0,z.jsx)(x.sN,{text:"View error...",onClick:function(){return o(!0)}});if(!r.runRequests||!r.runRequests.length)return(0,z.jsx)(x.sN,{text:"No runs requested for this projected schedule tick"});if(1===r.runRequests.length){var a=r.runRequests[0],s=a?a.runConfigYaml:"";return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(x.sN,{text:i?"Loading Configuration...":"View Configuration...",icon:"open_in_new",onClick:function(){return o(!0)}}),(0,z.jsx)(D.U,{text:"Open in Launchpad...",icon:"edit",target:"_blank",to:(0,F.$U)(n,"/pipeline_or_job/".concat(t.pipelineName,"/playground/setup?").concat(N().stringify({mode:t.mode,config:s,solidSelection:t.solidSelection})))})]})}return(0,z.jsx)(x.sN,{text:"View ".concat(r.runRequests.length," run requests..."),icon:"edit",target:"_blank",onClick:function(){return o(!0)}})},B=function(e){var n=e.repoAddress,t=e.evaluationResult,r=e.schedule,i=e.tickTimestamp,a=e.setOpen,s=e.isOpen,l=E.useState(t&&t.runRequests&&1===t.runRequests.length?t.runRequests[0]:null),c=(0,o.Z)(l,2),u=c[0],p=c[1],f=(0,T.m)(),C=(0,L.Ux)(n),_=(0,L.E8)(C,r.pipelineName);E.useEffect((function(){t&&t.runRequests&&1===t.runRequests.length&&p(t.runRequests[0])}),[t]);var P,O=function(){p(null),a(!1)};return t?u?P=(0,z.jsxs)(d.x,{flex:{direction:"column",gap:20},children:[(0,z.jsxs)(d.x,{flex:{direction:"column",gap:12},padding:{top:16,horizontal:24},children:[(0,z.jsx)(v.pm,{children:"Tags"}),u.tags.length?(0,z.jsx)(R.Qq,{tags:u.tags,mode:_?null:r.mode}):null]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(d.x,{border:{side:"bottom",width:1,color:j.w.KeylineGray},padding:{left:24,bottom:16},children:(0,z.jsx)(v.pm,{children:"Config"})}),(0,z.jsx)(w.NU,{value:u.runConfigYaml,options:{lineNumbers:!0,mode:"yaml"}})]})]}):t.error?P=(0,z.jsx)(b.a7,{children:(0,z.jsx)(Z.T9,{error:t.error})}):t.skipReason?P=(0,z.jsx)(b.a7,{children:(0,z.jsx)(q,{children:t.skipReason})}):t.runRequests&&(P=(0,z.jsx)(b.a7,{children:(0,z.jsx)(V,{children:(0,z.jsxs)(h.i,{children:[(0,z.jsx)("thead",{children:(0,z.jsxs)("tr",{children:[(0,z.jsx)("th",{children:"Run key"}),(0,z.jsx)("th",{children:"Config"}),(0,z.jsx)("th",{children:"Actions"})]})}),(0,z.jsx)("tbody",{children:t.runRequests.map((function(e,t){return e?(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:e.runKey||(0,z.jsx)("span",{children:"\u2014"})}),(0,z.jsx)("td",{children:(0,z.jsx)(k.Z,{onClick:function(){return p(e)},underline:!1,children:(0,z.jsxs)(S.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,z.jsx)(y.JO,{name:"open_in_new",color:j.w.Gray400}),(0,z.jsx)("span",{children:"View config"})]})})}),(0,z.jsx)("td",{children:(0,z.jsx)(m.J,{content:(0,z.jsx)(x.v2,{children:(0,z.jsx)(D.U,{text:"Open in Launchpad...",icon:"edit",target:"_blank",to:(0,F.$U)(n,"/".concat(_?"jobs":"pipelines","/").concat(r.pipelineName,"/playground/setup?").concat(N().stringify({mode:r.mode,config:e.runConfigYaml,solidSelection:r.solidSelection})))})}),position:"bottom",children:(0,z.jsx)(g.zx,{icon:(0,z.jsx)(y.JO,{name:"expand_more"})})})})]},t):null}))})]})})})):P=null,(0,z.jsxs)(b.Vq,{onClose:function(){return O()},style:{width:"50vw"},title:(0,z.jsxs)(d.x,{flex:{direction:"row",gap:4},children:[(0,z.jsx)(M.v,{timestamp:i,timezone:r.executionTimezone}),null!==u&&void 0!==u&&u.runKey?(0,z.jsxs)("div",{children:[": ",null===u||void 0===u?void 0:u.runKey]}):null]}),isOpen:s,children:[P,(0,z.jsxs)(b.cN,{topBorder:!0,children:[u?(0,z.jsx)(g.zx,{autoFocus:!1,onClick:function(){f(u.runConfigYaml),I.L.show({intent:"success",icon:"copy_to_clipboard_done",message:"Copied!"})},children:"Copy config"}):null,(0,z.jsx)(g.zx,{intent:"primary",autoFocus:!0,onClick:function(){return O()},children:"OK"})]})]})},$=(0,u.Ps)(r||(r=(0,i.Z)(["\n  query ScheduleTickConfigQuery($scheduleSelector: ScheduleSelector!, $tickTimestamp: Int!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        futureTick(tickTimestamp: $tickTimestamp) {\n          evaluationResult {\n            runRequests {\n              runKey\n              runConfigYaml\n              tags {\n                key\n                value\n              }\n            }\n            skipReason\n            error {\n              ...PythonErrorFragment\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"])),Z.Bq),V=l.ZP.div.withConfig({displayName:"SchedulesNextTicks__RunRequestBody",componentId:"io9s6c-0"})(["font-size:13px;"]),q=l.ZP.div.withConfig({displayName:"SchedulesNextTicks__SkipWrapper",componentId:"io9s6c-1"})(["background-color:#fdfcf2;border:1px solid ",";border-radius:3px;"],j.w.Yellow500)},98191:function(e,n,t){t.d(n,{P:function(){return C}});var r=t(55113),i=t(32030),o=t(11831),a=t(89279),s=t(7838),l=t(762),c=t(54268),u=t(8412),d=t(75453),p=(t(325),t(74549)),h=t(62997),f=t(45352),m=t(62e3),x=t(5484),g=t(90933),y=t(76336),v=t(25582),j=t(3656),w=t(9315),b=t(68156),k=t(36243),S=t(32289),C=function(e){var n=e.repoAddress,t=e.schedules,l=(0,S.jsxs)("div",{style:{width:300},children:[(0,S.jsx)("p",{children:"The status of each partition in the partition set associated with this schedule."}),(0,S.jsx)("p",{children:"Partitions have a `Success` status if the last run for that partition completed successfully."}),(0,S.jsx)("p",{children:"Partititons have a `Missing` status if no run has been executed for that partition."})]});return(0,S.jsxs)(r.i,{children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{style:{width:"60px"}}),(0,S.jsx)("th",{children:"Schedule name"}),(0,S.jsx)("th",{style:{width:"15%"},children:"Schedule"}),(0,S.jsx)("th",{style:{width:"10%"},children:"Next tick"}),(0,S.jsx)("th",{style:{width:"10%"},children:(0,S.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Last tick",(0,S.jsx)(o.u,{position:"top",content:"Status of the last tick: One of `Started`, `Skipped`, `Requested`, `Failed`",children:(0,S.jsx)(a.JO,{name:"info",color:s.w.Gray400})})]})}),(0,S.jsx)("th",{style:{width:130},children:(0,S.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Last run",(0,S.jsx)(o.u,{position:"top",content:"The status of the last run requested by this schedule",children:(0,S.jsx)(a.JO,{name:"info",color:s.w.Gray400})})]})}),(0,S.jsx)("th",{style:{width:"30%"},children:(0,S.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Partition Set",(0,S.jsx)(o.u,{position:"top",content:l,children:(0,S.jsx)(a.JO,{name:"info",color:s.w.Gray400})})]})}),(0,S.jsx)("th",{style:{width:80}})]})}),(0,S.jsx)("tbody",{children:t.map((function(e){return(0,S.jsx)(E,{repoAddress:n,schedule:e},e.name)}))})]})},N=function(e,n){if(e===x.yn.STOPPED&&0===n)return null;if(e===x.yn.RUNNING&&1===n)return null;var t=[];return e===x.yn.RUNNING&&0===n?t.push("Schedule is set to be running, but either the scheduler is not configured or the scheduler is not running the schedule"):e===x.yn.STOPPED&&n>0&&t.push("Schedule is set to be stopped, but the scheduler is still running the schedule"),n>0&&t.push("Duplicate cron job for schedule found."),(0,S.jsx)(l.J,{interactionKind:"hover",popoverClassName:"bp3-popover-content-sizing",position:"right",content:(0,S.jsxs)(i.x,{flex:{direction:"column",gap:8},padding:12,children:[(0,S.jsx)("strong",{children:"There are errors with this schedule."}),(0,S.jsx)("div",{children:"Errors:"}),(0,S.jsx)("ul",{children:t.map((function(e,n){return(0,S.jsx)("li",{children:e},n)}))})]}),children:(0,S.jsx)(c.V,{fill:!0,interactive:!0,intent:"danger",children:"Error"})})},E=function(e){var n=e.repoAddress,t=e.schedule,r=(0,y.Ux)(n),c=(0,y.E8)(r,t.pipelineName),C=t.name,E=t.cronSchedule,_=t.executionTimezone,I=t.futureTicks,Z=t.pipelineName,T=t.scheduleState,P=T.status,R=T.ticks,O=T.runningCount,D=R.length>0?R[0]:null;return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{children:(0,S.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,S.jsx)(w.M,{repoAddress:n,schedule:t}),N(P,O)]})}),(0,S.jsx)("td",{children:(0,S.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,S.jsx)("span",{style:{fontWeight:500},children:(0,S.jsx)(p.rU,{to:(0,v.$U)(n,"/schedules/".concat(C)),children:C})}),(0,S.jsx)(m.h,{showIcon:!0,size:"small",pipelineName:Z,pipelineHrefContext:n,isJob:c})]})}),(0,S.jsx)("td",{children:E?(0,S.jsx)(o.u,{position:"bottom",content:E,children:(0,S.jsx)("span",{children:(0,k.A)(E,_||"UTC")})}):(0,S.jsx)("span",{style:{color:s.w.Gray300},children:"None"})}),(0,S.jsx)("td",{children:I.results.length&&P===x.yn.RUNNING?(0,S.jsx)(b.v,{timestamp:I.results[0].timestamp,timezone:_,timeFormat:{showSeconds:!1,showTimezone:!0}}):(0,S.jsx)("span",{style:{color:s.w.Gray300},children:"None"})}),(0,S.jsx)("td",{children:D?(0,S.jsx)(h.TW,{tick:D,instigationType:x._5.SCHEDULE}):(0,S.jsx)("span",{style:{color:s.w.Gray300},children:"None"})}),(0,S.jsx)("td",{children:(0,S.jsx)(f.UD,{instigationState:T})}),(0,S.jsx)("td",{children:t.partitionSet?(0,S.jsx)(j.b,{schedule:t,repoAddress:n}):(0,S.jsx)("div",{style:{color:s.w.Gray300},children:"None"})}),(0,S.jsx)("td",{children:t.partitionSet?(0,S.jsx)(l.J,{content:(0,S.jsxs)(u.v2,{children:[(0,S.jsx)(g.U,{text:"View Partition History...",icon:"dynamic_feed",target:"_blank",to:(0,v.$U)(n,"/".concat(c?"jobs":"pipelines","/").concat(Z,"/partitions"))}),(0,S.jsx)(g.U,{text:"Launch Partition Backfill...",icon:"add_circle",target:"_blank",to:(0,v.$U)(n,"/".concat(c?"jobs":"pipelines","/").concat(Z,"/partitions"))})]}),position:"bottom-left",children:(0,S.jsx)(d.zx,{icon:(0,S.jsx)(a.JO,{name:"expand_more"})})}):null})]},C)}},68156:function(e,n,t){t.d(n,{v:function(){return f}});var r=t(19065),i=t(922),o=t(32030),a=t(89279),s=t(7838),l=t(11831),c=t(325),u=t(70674),d=t(37971),p=t(59180),h=t(32289),f=function(e){var n=e.timestamp,t=e.timezone,i=e.timeFormat,l=e.tooltipTimeFormat,u=c.useContext(d.j),f=(0,r.Z)(u,1)[0],g=navigator.language;return(0,h.jsxs)(o.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center",wrap:"wrap",gap:8},children:[(0,h.jsx)(m,{children:(0,p.N)({timestamp:{unix:n},locale:g,timezone:t||f,timeFormat:i})}),t&&t!==f?(0,h.jsx)(x,{placement:"top",content:(0,h.jsx)(m,{children:(0,p.N)({timestamp:{unix:n},locale:g,timezone:f,timeFormat:l})}),children:(0,h.jsx)(a.JO,{name:"schedule",color:s.w.Gray400})}):null]})};f.defaultProps={timeFormat:u._,tooltipTimeFormat:{showSeconds:!1,showTimezone:!0}};var m=i.ZP.div.withConfig({displayName:"TimestampDisplay__TabularNums",componentId:"sc-17rznt9-0"})(["font-variant-numeric:tabular-nums;"]),x=(0,i.ZP)(l.u).withConfig({displayName:"TimestampDisplay__TimestampTooltip",componentId:"sc-17rznt9-1"})(["cursor:pointer;&.bp3-popover2-target{display:block;}"])},26304:function(e,n,t){t.d(n,{e:function(){return z},F:function(){return M}});var r,i=t(19065),o=t(31112),a=t(32030),s=t(12745),l=t(54268),c=t(57753),u=t(6466),d=t(8546),p=t(75453),h=t(325),f=t(19102),m=t(86655),x=t(62997),g=t(30057),y=t(62e3),v=t(68156),j=t(5484),w=t(76336),b=t(99500),k=t(85358),S=t(95550),C=t.n(S),N=t(49148),E=t(3159),_=t(33918),I=t(60652),Z=t(7838),T=t(8358),P=(t(45436),t(14156)),R=t(13065),O=t(12436),D=t(32289),L=function(e){var n=e.sensorSelector,t=e.cursor,r=e.onClose,o=h.useState(t),a=(0,i.Z)(o,2),s=a[0],l=a[1],c=h.useState(!1),d=(0,i.Z)(c,2),f=d[0],m=d[1],x=(0,N.D)(A),g=(0,i.Z)(x,1)[0],y=function(){var e=(0,k.Z)(C().mark((function e(){var t,i,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,g({variables:{sensorSelector:n,cursor:s}});case 3:t=e.sent,"Sensor"===(null===(i=t.data)||void 0===i?void 0:i.setSensorCursor.__typename)?R.L.show({message:"Cursor value updated",intent:"success"}):null!==i&&void 0!==i&&i.setSensorCursor&&(o=i.setSensorCursor,R.L.show({intent:"danger",message:(0,D.jsxs)(u.Z,{direction:"row",spacing:8,children:[(0,D.jsx)("div",{children:"Could not set cursor value."}),(0,D.jsx)(I.Z,{color:Z.w.White,underline:"always",onClick:function(){(0,P._)({title:"Python Error",body:"PythonError"===o.__typename?(0,D.jsx)(O.T9,{error:o}):"Sensor not found"})},children:"View error"})]})})),r();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,D.jsxs)(T.Vq,{isOpen:!0,onClose:r,style:{width:"50vw"},title:"Edit ".concat(n.sensorName," cursor"),children:[(0,D.jsx)(T.a7,{children:(0,D.jsx)(_.Kx,{value:s,onChange:function(e){return l(e.target.value)},style:{width:"100%"}})}),(0,D.jsxs)(T.cN,{children:[(0,D.jsx)(p.zx,{onClick:r,children:"Cancel"}),(0,D.jsx)(p.zx,{intent:"primary",onClick:y,disabled:f,children:"Set cursor value"})]})]})},A=(0,E.Ps)(r||(r=(0,b.Z)(["\n  mutation SetSensorCursorMutation($sensorSelector: SensorSelector!, $cursor: String) {\n    setSensorCursor(sensorSelector: $sensorSelector, cursor: $cursor) {\n      ... on Sensor {\n        id\n        sensorState {\n          id\n          status\n          typeSpecificData {\n            ... on SensorData {\n              lastCursor\n            }\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n"])),O.Bq),F=t(86875),M=function(e){return e||(e=30),(e=Math.max(30,e))<60||e%60?"~ ".concat(e," sec"):3600===e?"~ 1 hour":e<3600||e%3600?"~ ".concat(e/60," min"):86400===e?"~ 1 day":e<86400||e%86400?"~ ".concat(e/3600," hours"):"~ ".concat(e/86400," days")},z=function(e){var n=e.sensor,t=e.repoAddress,r=e.daemonHealth,b=e.refreshState,k=n.name,S=n.sensorState,C=S.status,N=S.ticks,E=n.targets,_=n.metadata,I=h.useState(!1),Z=(0,i.Z)(I,2),T=Z[0],P=Z[1],R={sensorName:n.name,repositoryName:t.name,repositoryLocationName:t.location},O=(0,w.Ux)(t),A=null===O||void 0===O?void 0:O.repository.pipelines,z=N.length?N[0]:null,G=(null===E||void 0===E?void 0:E.length)||0,K=h.useMemo((function(){return new Set((E||[]).map((function(e){return e.pipelineName})))}),[E]),U=h.useMemo((function(){return(A||[]).some((function(e){return!e.isJob&&K.has(e.name)}))}),[A,K]),B=h.useMemo((function(){return U?G>1?"Jobs / Pipelines":"Pipeline":G>1?"Jobs":"Job"}),[U,G]),$=n.sensorState.typeSpecificData&&"SensorData"===n.sensorState.typeSpecificData.__typename&&n.sensorState.typeSpecificData.lastCursor;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(o.m,{title:(0,D.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,D.jsx)(s.X6,{children:k}),(0,D.jsx)(F.c,{repoAddress:t,sensor:n})]}),icon:"sensors",tags:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(l.V,{icon:"sensors",children:["Sensor in ",(0,D.jsx)(g.b,{repoAddress:t})]}),n.nextTick&&r&&C===j.yn.RUNNING?(0,D.jsxs)(l.V,{icon:"timer",children:["Next tick: ",(0,D.jsx)(v.v,{timestamp:n.nextTick.timestamp})]}):null]}),right:(0,D.jsx)(a.x,{margin:{top:4},children:(0,D.jsx)(f.xi,{refreshState:b})})}),(0,D.jsx)(c.fJ,{children:(0,D.jsxs)("tbody",{children:[n.description?(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:"Description"}),(0,D.jsx)("td",{children:n.description})]}):null,(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:"Latest tick"}),(0,D.jsx)("td",{children:z?(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{marginTop:"-2px"},children:[(0,D.jsx)(v.v,{timestamp:z.timestamp}),(0,D.jsx)(x.TW,{tick:z,instigationType:j._5.SENSOR})]})}):"Sensor has never run"})]}),n.targets&&n.targets.length?(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:B}),(0,D.jsx)("td",{children:(0,D.jsx)(u.Z,{direction:"column",spacing:2,children:n.targets.map((function(e){return e.pipelineName?(0,D.jsx)(y.h,{pipelineName:e.pipelineName,pipelineHrefContext:t,isJob:!(!O||!(0,w.E8)(O,e.pipelineName))},e.pipelineName):null}))})})]}):null,(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:"Cursor"}),(0,D.jsxs)("td",{children:[T?(0,D.jsx)(L,{sensorSelector:R,cursor:$||"",onClose:function(){return P(!1)}}):null,(0,D.jsxs)(a.x,{flex:{direction:"row",alignItems:"center"},children:[(0,D.jsx)(a.x,{style:{fontFamily:d.b.monospace,marginRight:10},children:$||"None"}),(0,D.jsx)(p.zx,{onClick:function(){return P(!0)},children:"Edit"})]})]})]}),(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:"Frequency"}),(0,D.jsx)("td",{children:M(n.minIntervalSeconds)})]}),_.assetKeys&&_.assetKeys.length?(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:"Monitored Assets"}),(0,D.jsx)("td",{children:(0,D.jsx)(a.x,{flex:{direction:"column",gap:2},children:_.assetKeys.map((function(e){return(0,D.jsx)(m.R,{path:e.path,icon:"asset"},e.path.join("/"))}))})})]}):null]})})]})}},20925:function(e,n,t){t.d(n,{l:function(){return s}});var r,i=t(99500),o=t(3159),a=t(45352),s=(0,o.Ps)(r||(r=(0,i.Z)(["\n  fragment SensorFragment on Sensor {\n    id\n    jobOriginId\n    name\n    description\n    minIntervalSeconds\n    nextTick {\n      timestamp\n    }\n    sensorState {\n      id\n      ...InstigationStateFragment\n    }\n    targets {\n      pipelineName\n      solidSelection\n      mode\n    }\n    metadata {\n      assetKeys {\n        path\n      }\n    }\n  }\n  ","\n"])),a.ai)},57466:function(e,n,t){t.d(n,{F:function(){return o}});var r=t(60736),i=(t(325),t(32289)),o=function(e){var n=e.daemonHealth,t=!1;if(n){var o=n.allDaemonStatuses.filter((function(e){return"SENSOR"===e.daemonType}));if(o){var a=o[0];t=!(!a.required||!a.healthy)}}return t?null:(0,i.jsx)(r.b,{intent:"warning",title:"The sensor daemon is not running.",description:(0,i.jsxs)("div",{children:["See the"," ",(0,i.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",target:"_blank",rel:"noreferrer",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})}},87669:function(e,n,t){t.d(n,{J:function(){return v}});var r=t(55113),i=t(32030),o=t(11831),a=t(89279),s=t(7838),l=(t(325),t(74549)),c=t(86655),u=t(62997),d=t(45352),p=t(62e3),h=t(5484),f=t(76336),m=t(25582),x=t(26304),g=t(86875),y=t(32289),v=function(e){var n=e.repoAddress,t=e.sensors;return(0,y.jsxs)(r.i,{children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{style:{width:"60px"}}),(0,y.jsx)("th",{children:"Sensor Name"}),(0,y.jsx)("th",{style:{width:"15%"},children:"Frequency"}),(0,y.jsx)("th",{style:{width:"10%"},children:(0,y.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Last tick",(0,y.jsx)(o.u,{position:"top",content:"Status of the last tick: One of `Started`, `Skipped`, `Requested`, `Failed`",children:(0,y.jsx)(a.JO,{name:"info",color:s.w.Gray500})})]})}),(0,y.jsx)("th",{style:{width:"25%"},children:(0,y.jsxs)(i.x,{flex:{gap:8,alignItems:"end"},children:["Last Run",(0,y.jsx)(o.u,{position:"top",content:"The status of the last run requested by this sensor",children:(0,y.jsx)(a.JO,{name:"info",color:s.w.Gray500})})]})})]})}),(0,y.jsx)("tbody",{children:t.map((function(e){return(0,y.jsx)(j,{repoAddress:n,sensor:e},e.name)}))})]})},j=function(e){var n=e.repoAddress,t=e.sensor,r=(0,f.Ux)(n),o=t.name,a=t.sensorState,v=a.ticks,j=v.length?v[0]:null;return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:(0,y.jsx)(g.c,{repoAddress:n,sensor:t})}),(0,y.jsx)("td",{children:(0,y.jsxs)(i.x,{flex:{direction:"column",gap:4},children:[(0,y.jsx)("span",{style:{fontWeight:500},children:(0,y.jsx)(l.rU,{to:(0,m.$U)(n,"/sensors/".concat(o)),children:o})}),t.targets&&t.targets.length?(0,y.jsx)(i.x,{flex:{direction:"column",gap:2},children:t.targets.map((function(e){return(0,y.jsx)(p.h,{showIcon:!0,size:"small",pipelineName:e.pipelineName,pipelineHrefContext:n,isJob:!(!r||!(0,f.E8)(r,e.pipelineName))},e.pipelineName)}))}):null,t.metadata.assetKeys&&t.metadata.assetKeys.length?(0,y.jsx)(i.x,{flex:{direction:"column",gap:2},children:t.metadata.assetKeys.map((function(e){return(0,y.jsx)(c.R,{path:e.path,icon:"asset"},e.path.join("/"))}))}):null]})}),(0,y.jsx)("td",{children:(0,x.F)(t.minIntervalSeconds)}),(0,y.jsx)("td",{children:j?(0,y.jsx)(u.TW,{tick:j,instigationType:h._5.SENSOR}):(0,y.jsx)("span",{style:{color:s.w.Gray300},children:"None"})}),(0,y.jsx)("td",{children:(0,y.jsx)("div",{style:{display:"flex"},children:(0,y.jsx)(d.UD,{instigationState:a})})})]},o)}},33774:function(e,n,t){t.d(n,{S:function(){return o}});var r,i=t(99500),o=(0,t(3159).Ps)(r||(r=(0,i.Z)(["\n  fragment ConfigTypeSchemaFragment on ConfigType {\n    __typename\n    ... on EnumConfigType {\n      givenName\n      values {\n        value\n        description\n      }\n    }\n    ... on RegularConfigType {\n      givenName\n    }\n    key\n    description\n    isSelector\n    typeParamKeys\n    ... on CompositeConfigType {\n      fields {\n        name\n        description\n        isRequired\n        configTypeKey\n        defaultValueAsJson\n      }\n    }\n    ... on ScalarUnionConfigType {\n      scalarTypeKey\n      nonScalarTypeKey\n    }\n    ... on MapConfigType {\n      keyLabelName\n    }\n  }\n"])))},95924:function(e,n,t){t.d(n,{g:function(){return u},B:function(){return d}});var r,i=t(99500),o=t(922),a=t(3159),s=t(7838),l=(t(325),t(74549)),c=t(32289),u=function(e){var n=e.type,t=n.name,r=n.displayName;return t?(0,c.jsx)(p,{to:{search:"?tab=types&typeName=".concat(r)},children:(0,c.jsx)(h,{children:r})}):(0,c.jsx)(h,{children:r})},d=(0,a.Ps)(r||(r=(0,i.Z)(["\n  fragment DagsterTypeWithTooltipFragment on DagsterType {\n    name\n    displayName\n    description\n  }\n"]))),p=(0,o.ZP)(l.rU).withConfig({displayName:"TypeWithTooltip__TypeLink",componentId:"sc-19aiyzm-0"})([":hover{text-decoration:none;}"]),h=o.ZP.code.withConfig({displayName:"TypeWithTooltip__TypeName",componentId:"sc-19aiyzm-1"})(["background:",";border:none;padding:1px 4px;border-bottom:1px solid ",";border-radius:0.25em;font-size:14px;font-weight:500;display:inline-block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;"],s.w.Blue50,s.w.Blue500)},28797:function(e,n,t){t.d(n,{A:function(){return d}});var r=t(95764),i=t(81034),o=t(51272),a=t(75453),s=t(325),l=t(74549),c=t(32289),u=["children","icon","intent","outlined","rightIcon"],d=s.forwardRef((function(e,n){var t=e.children,s=e.icon,d=e.intent,p=e.outlined,h=e.rightIcon,f=(0,i.Z)(e,u);return(0,c.jsxs)(o.S,(0,r.Z)((0,r.Z)({},f),{},{as:l.rU,$fillColor:(0,a.qZ)(d,p),$strokeColor:(0,a.hb)(d,p),$textColor:(0,a.l6)(d,p),ref:n,children:[s||null,t?(0,c.jsx)(o.p,{children:t}):null,h||null]}))}));d.displayName="AnchorButton"},74386:function(e,n,t){t.d(n,{C:function(){return a}});var r=t(922),i=t(89279),o=t(7838),a=r.ZP.button.withConfig({displayName:"ClearButton",componentId:"sc-1rz1pk2-0"})(["background:transparent;border:none;cursor:pointer;margin:0 -2px 0 0;padding:2px;","{background-color:",";transition:background-color 100ms linear;}:hover ",",:focus ","{background-color:",";}:active ","{background-color:",";}:focus{outline:none;}"],i.a1,o.w.Gray400,i.a1,i.a1,o.w.Gray700,i.a1,o.w.Dark)},65164:function(e,n,t){t.d(n,{j:function(){return _}});var r=t(95764),i=t(19065),o=t(47427),a=t(922),s=t(7838),l=t(89279),c=t(32030),u=t(762),d=t(8412),p=t(88863),h=t(50346),f=t(11831),m=t(75453),x=t(90428),g=t.n(x),y=t(58891),v=t.n(y),j=t(325),w=t(74549),b=t(25496),k=t(92334),S=t(25582),C=t(32289),N=function(e,n){var t=n.length%3,r=e;if(0===n.length)return r;var i=n.map((function(e){return{incount:e.inputs.reduce((function(e,n){return e+n.dependsOn.length}),0),outcount:e.outputs.reduce((function(e,n){return e+n.dependedBy.length}),0),name:e.name}}));if(0===t){var o=i.sort((function(e,n){return n.outcount-e.outcount}))[0];r="".concat(r," (ex: ").concat(o.name,"+*)")}else if(1===t){var a=i.sort((function(e,n){return n.outcount-e.outcount}))[0];r="".concat(r," (ex: ").concat(a.name,"+)")}else if(2===t){var s=i.sort((function(e,n){return n.incount-e.incount}))[0];r="".concat(r," (ex: ++").concat(s.name,")")}return r},E=function(e){switch(e){case"danger":return s.w.Red500;case"success":return s.w.Green500;case"warning":return s.w.Yellow500;default:return s.w.Gray300}},_=j.memo(j.forwardRef((function(e,n){var t,a=j.useState(null),x=(0,i.Z)(a,2),g=x[0],y=x[1],_=j.useState(!1),P=(0,i.Z)(_,2),R=P[0],O=P[1],D=j.useState(e.value),L=(0,i.Z)(D,2),A=L[0],F=L[1],M=j.useRef(null),z=e.flattenGraphsEnabled||!1;j.useEffect((function(){F(e.value)}),[e.value]);var G=/(\*?\+*)([\w\d\[\]>_\/-]+)(\+*\*?)$/.exec(A),K=G||[],U=(0,i.Z)(K,4),B=U[1],$=U[2],V=U[3],q=j.useMemo((function(){return function(e,n,t){var r,i=n.map((function(e){var n=e,t=n.definition&&"CompositeSolidDefinition"===n.definition.__typename;return{name:e.name,isGraph:t}})),a=(0,o.Z)(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;(0,k.IL)(s.name)&&i.push({name:(0,k.pr)(s.name),isGraph:s.isGraph})}}catch(u){a.e(u)}finally{a.f()}var l=null===e||void 0===e?void 0:e.toLowerCase(),c=l&&!t?v()(i).sort().filter((function(e){return e.name.toLowerCase().startsWith(l)})):[];return 1===c.length&&c[0].name.toLowerCase()===l?[]:c}($,e.items,V)}),[$,e.items,V]),H=function(e){var n=G?A.substr(0,G.index):"";F(n+B+'"'.concat(e,'"')+V)};j.useEffect((function(){if(g){var e=q.map((function(e){return e.name})).findIndex((function(e){return e===g.text})),n=-1!==e?e:g.idx;if(n=Math.max(0,Math.min(q.length-1,n)),q[n]){var t=q[n].name;n===g.idx&&t===g.text||y({text:t,idx:n})}}}),[g,q]),j.useImperativeHandle(n,(function(){return{focus:function(){M.current&&M.current.focus()}}}));var W=j.useRef(null);j.useEffect((function(){var e=function(e){var n=W.current,t=M.current,r=e.target;if(z&&null!=n&&null!=t&&r instanceof Node){var i=n.contains(r);O(i),t.contains(r)&&t.focus()}};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[z]);var J=(A||"*")!==(e.value||"*"),Y=e.flattenGraphs?"!":"",Q=e.linkToPreview&&(0,C.jsxs)(Z,{$hasWrap:z,children:["".concat((0,b.V)(e.items,A).all.length," matching ops"),(0,C.jsxs)(w.rU,{target:"_blank",style:{display:"flex",alignItems:"center",gap:4},onMouseDown:function(e){return e.currentTarget.click()},to:(0,S.jT)((0,r.Z)((0,r.Z)({},e.linkToPreview),{},{pipelineName:"".concat(e.linkToPreview.pipelineName,"~").concat(Y).concat(A)})),children:["Graph Preview ",(0,C.jsx)(l.JO,{color:s.w.Link,name:"open_in_new"})]})]});return(0,C.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,C.jsx)(u.J,{enforceFocus:!z,isOpen:R,position:e.popoverPosition||"top-left",content:q.length?(0,C.jsx)(d.v2,{style:{width:e.width||"24vw"},children:q.slice(0,15).map((function(e){return(0,C.jsx)(d.sN,{icon:e.isGraph?"job":"op",text:e.name,active:!!g&&g.text===e.name,onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),H(e.name)}},e.name)}))}):(0,C.jsx)("div",{}),children:(0,C.jsxs)("div",{style:{position:"relative"},ref:W,children:[(0,C.jsx)(p.oi,{disabled:e.disabled,value:A,icon:"op_selector",strokeColor:E(e.intent),autoFocus:e.autoFocus,placeholder:N(e.placeholder,e.items),onChange:function(n){F(n.target.value),e.autoApplyChanges&&e.onChange(n.target.value)},onFocus:function(){var n;z||O(!0),null===(n=e.onFocus)||void 0===n||n.call(e)},onBlur:function(){var n;z||O(!1),e.onChange(A),null===(n=e.onBlur)||void 0===n||n.call(e,A)},onKeyDown:function(n){var t;"Enter"!==n.key&&"Return"!==n.key&&"Tab"!==n.key||(g&&g.text?(H(g.text),n.preventDefault(),n.stopPropagation()):n.currentTarget.blur(),y(null));var r={ArrowDown:1,ArrowUp:-1}[n.key];if(r&&q.length>0){n.preventDefault();var i=(g?g.idx:-1)+r;i=Math.max(0,Math.min(i,q.length-1)),y({text:q[i].name,idx:i})}null===(t=e.onKeyDown)||void 0===t||t.call(e,n)},style:{width:e.width||"24vw",paddingRight:R&&J?55:""},className:e.className,ref:M}),R&&J&&(0,C.jsx)(T,{children:"Enter"}),R&&e.linkToPreview&&(z?(0,C.jsxs)(I,{children:[(0,C.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,C.jsx)(h.X,{label:"Flatten subgraphs",checked:null!==(t=e.flattenGraphs)&&void 0!==t&&t,onChange:function(){var n;null===(n=e.setFlattenGraphs)||void 0===n||n.call(e)},format:"switch"}),(0,C.jsx)(f.u,{content:"Flatten subgraphs to select ops within nested graphs",placement:"right",children:(0,C.jsx)(l.JO,{name:"info",color:s.w.Gray500})})]}),Q]}):Q)]})}),e.presets&&(e.presets.find((function(e){return e.value===A}))?(0,C.jsx)(m.zx,{icon:(0,C.jsx)(l.JO,{name:"layers"}),rightIcon:(0,C.jsx)(l.JO,{name:"cancel"}),onClick:function(){return e.onChange("*")},intent:"none"}):(0,C.jsx)(u.J,{position:"top",content:(0,C.jsx)(d.v2,{children:e.presets.map((function(n){return(0,C.jsx)(d.sN,{text:n.name,onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),e.onChange(n.value)}},n.name)}))}),children:(0,C.jsx)(m.zx,{icon:(0,C.jsx)(l.JO,{name:"layers"}),rightIcon:(0,C.jsx)(l.JO,{name:"expand_less"}),intent:"none"})}))]})})),(function(e,n){return e.items===n.items&&e.width===n.width&&e.value===n.value&&g()(e.presets,n.presets)})),I=a.ZP.div.withConfig({displayName:"GraphQueryInput__OpInfoWrap",componentId:"sc-103wxn4-0"})(["width:350px;padding:10px 16px 10px 16px;display:flex;align-items:baseline;justify-content:space-between;position:absolute;top:100%;margin-top:2px;font-size:0.85rem;background:",";color:",";box-shadow:1px 1px 3px rgba(0,0,0,0.2);z-index:2;left:0;"],s.w.White,s.w.Gray600),Z=(0,a.ZP)(I).withConfig({displayName:"GraphQueryInput__OpCountWrap",componentId:"sc-103wxn4-1"})(["margin-top:","px;"],(function(e){return e.$hasWrap?0:2})),T=a.ZP.div.withConfig({displayName:"GraphQueryInput__EnterHint",componentId:"sc-103wxn4-2"})(["position:absolute;right:6px;top:5px;border-radius:5px;border:1px solid ",";background:",";font-weight:500;font-size:12px;color:",";padding:2px 6px;"],s.w.Gray500,s.w.White,s.w.Gray500)},50741:function(e,n,t){t.d(n,{g:function(){return c},T:function(){return u}});var r=t(19065),i=t(32030),o=t(89646),a=t(34595),s=t(325),l=t(32289),c=function(e){var n=e.children,t=e.purpose,a=e.allowStaleData,c=void 0!==a&&a,d=e.renderError,p=e.queryResult,h=p.error,f=p.data,m=p.loading,x=s.useState(!0),g=(0,r.Z)(x,2),y=g[0],v=g[1],j=!f||m&&!c||0===Object.keys(f).length;if(s.useEffect((function(){var e;return j?e=setTimeout((function(){return v(!1)}),500):v(!0),function(){e&&clearTimeout(e)}}),[j]),h){if(d)return(0,l.jsx)(l.Fragment,{children:d(h)});if(!h.networkError)return(0,l.jsx)(i.x,{padding:64,flex:{justifyContent:"center"},children:(0,l.jsx)(o.t,{icon:"error",title:"GraphQL Error - see console for details"})})}return j?y?null:(0,l.jsx)(u,{purpose:t}):(0,l.jsx)(l.Fragment,{children:n(f)})},u=function(e){var n=e.purpose,t="page"===n;return(0,l.jsx)(i.x,{padding:64,flex:{grow:t?1:void 0,justifyContent:"center",alignItems:"center"},style:t?{height:"100%"}:void 0,children:(0,l.jsx)(a.$,{purpose:n})})};c.defaultProps={purpose:"page"}},90933:function(e,n,t){t.d(n,{U:function(){return h}});var r=t(95764),i=t(81034),o=t(922),a=t(8412),s=t(32030),l=t(89279),c=t(7838),u=(t(325),t(74549)),d=t(32289),p=["icon","intent","text","disabled"],h=function(e){var n=e.icon,t=e.intent,o=e.text,l=e.disabled,c=(0,i.Z)(e,p);return l?(0,d.jsx)(a.sN,{disabled:!0,icon:n,intent:t,text:o}):(0,d.jsx)(f,(0,r.Z)((0,r.Z)({},c),{},{children:(0,d.jsxs)(s.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,a.cR)(n,t),(0,d.jsx)("div",{children:o})]})}))},f=(0,o.ZP)(u.rU).withConfig({displayName:"MenuLink__StyledMenuLink",componentId:"sc-1162pbu-0"})(["text-decoration:none;border-radius:4px;display:block;line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;user-select:none;","{margin-top:2px;}",":first-child{margin-left:-4px;}&&&:link,&&&:visited,&&&:hover,&&&:active{color:",";text-decoration:none;}&&&:hover{background:",";}"],l.a1,l.a1,c.w.Gray900,c.w.Gray100)},62278:function(e,n,t){t.d(n,{Y:function(){return o}});var r=t(922),i=t(7838),o=r.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(e){return e.$top}),i.w.White,i.w.KeylineGray)},37286:function(e,n,t){t.d(n,{f:function(){return u}});var r=t(95764),i=t(81034),o=t(922),a=t(31269),s=(t(325),t(74549)),l=t(32289),c=["to","title"],u=(0,o.ZP)((function(e){var n=e.to,t=e.title,o=(0,i.Z)(e,c),u=(0,a.xv)(e),d=(0,a.BY)(e),p="string"===typeof t?t:void 0;return(0,l.jsx)(s.rU,(0,r.Z)((0,r.Z)((0,r.Z)({to:n,title:p},u),o),{},{children:d}))})).withConfig({displayName:"TabLink",componentId:"sc-1rmmczd-0"})(["",""],a.gA)},33743:function(e,n,t){t.d(n,{A:function(){return h}});var r=t(68436),i=t.n(r),o=t(3726),a=t.n(o),s=t(24612),l=t.n(s),c=t(1962),u=t.n(c),d=a()().use(l()).use(u()),p=new(i())({max:500}),h=function(e){var n=p.get(e);if(n)return n;var t=d.processSync(e).toString();return p.set(e,t),t}},71824:function(e,n,t){t.d(n,{N:function(){return c}});var r=t(19065),i=t(325),o=t(52848),a=t(76314),s=t(33902),l=function(e){return Array.isArray(e)?e:[]},c=function(e){var n=i.useContext(o.I).basePath,t=(0,a.U)("".concat(n,":dagit.").concat(e),l),c=(0,r.Z)(t,2),u=c[0],d=c[1],p=i.useCallback((function(e){var n=(0,s.l)(e);d((function(e){var t=new Set(e||[]);return t.has(n)?t.delete(n):t.add(n),Array.from(t)}))}),[d]);return i.useMemo((function(){return{expandedKeys:u,onToggle:p}}),[u,p])}},78072:function(e,n,t){t.d(n,{i:function(){return f}});var r=t(19065),i=t(11831),o=t(75453),a=t(89279),s=t(8358),l=t(325),c=t(63579),u=t(12436),d=t(17235),p=t(73362),h=t(32289),f=function(e){var n=e.label,t=void 0===n?"Reload all":n,f=(0,c.TE)().canReloadWorkspace,m=(0,d.Dc)({scope:"workspace",reloadFn:d.rL}),x=m.reloading,g=m.tryReload,y=m.error,v=m.errorLocationId,j=l.useState(!!y),w=(0,r.Z)(j,2),b=w[0],k=w[1];return l.useEffect((function(){return k(!!y)}),[y]),f.enabled?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.zx,{onClick:g,icon:(0,h.jsx)(a.JO,{name:"refresh"}),loading:x,intent:"none",children:t}),v?(0,h.jsx)(p.V,{error:y,location:v,reloading:x,onTryReload:g,onDismiss:function(){return k(!1)},isOpen:b}):(0,h.jsxs)(s.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:b,children:[(0,h.jsx)(s.a7,{children:y&&(0,h.jsx)(u.T9,{error:y})}),(0,h.jsx)(s.cN,{children:(0,h.jsx)(o.zx,{onClick:function(){return k(!1)},children:"Dismiss"})})]})]}):(0,h.jsx)(i.u,{content:f.disabledReason,children:(0,h.jsx)(o.zx,{icon:(0,h.jsx)(a.JO,{name:"refresh"}),disabled:!0,intent:"none",children:t})})}},39956:function(e,n,t){t.d(n,{_:function(){return a}});var r=t(325),i=t(76336),o=t(48953),a=function(e){var n=(0,i.vl)().options,t=r.useMemo((function(){if(!e)return null;var t=e.pipelineName,r=e.repositoryOrigin;if(!r)return null;var i=null===r||void 0===r?void 0:r.repositoryLocationName,a=null===r||void 0===r?void 0:r.repositoryName,s=n.find((function(e){return e.repository.name===a&&e.repositoryLocation.name===i}));return s&&(0,o.h)(s,t)?s:null}),[n,e]),a=r.useMemo((function(){if(!e)return null;var t=e.pipelineName,r=e.pipelineSnapshotId;if(t&&r){var i=(0,o.k)(n,t,r);if(i.length)return i}return null}),[n,e]),s=r.useMemo((function(){if(!e)return null;var t=e.pipelineName,r=(0,o.k)(n,t);return r.length?r:null}),[n,e]);if(t){if(a){var l=a.find((function(e){return e.repository.name===t.repository.name&&e.repositoryLocation.name===t.repositoryLocation.name}));if(l)return{match:l,type:"origin-and-snapshot"}}return{match:t,type:"origin-only"}}return a?{match:a[0],type:"snapshot-only"}:s?{match:s[0],type:"pipeline-name-only"}:null}},60736:function(e,n,t){t.d(n,{b:function(){return u}});var r=t(922),i=t(325),o=t(32030),a=t(7838),s=t(6466),l=t(89279),c=t(32289),u=function(e){var n=e.intent,t=e.title,r=e.description,u=e.onClose,m=i.useMemo((function(){switch(n){case"warning":return{backgroundColor:a.w.Yellow50,borderColor:a.w.Yellow500,icon:"warning",iconColor:a.w.Yellow500,textColor:a.w.Yellow700};case"error":return{backgroundColor:a.w.Red50,borderColor:a.w.Red500,icon:"error",iconColor:a.w.Red500,textColor:a.w.Red700};case"success":return{backgroundColor:a.w.Green50,borderColor:a.w.Green500,icon:"done",iconColor:a.w.Green500,textColor:a.w.Green700};default:return{backgroundColor:a.w.Blue50,borderColor:a.w.Blue500,icon:"info",iconColor:a.w.Blue500,textColor:a.w.Blue700}}}),[n]),x=m.backgroundColor,g=m.borderColor,y=m.icon,v=m.iconColor,j=m.textColor;return(0,c.jsx)(p,{background:x,$borderColor:g,$textColor:j,padding:{horizontal:16,vertical:12},children:(0,c.jsxs)(o.x,{flex:{direction:"row",justifyContent:"space-between"},children:[(0,c.jsxs)(s.Z,{direction:"row",spacing:12,alignItems:"flex-start",children:[(0,c.jsx)(l.JO,{name:y,color:v}),(0,c.jsxs)(s.Z,{direction:"column",spacing:8,children:[(0,c.jsx)(h,{children:t}),r?(0,c.jsx)(f,{children:r}):null]})]}),u?(0,c.jsx)(d,{onClick:u,children:(0,c.jsx)(l.JO,{name:"close",color:j})}):null]})})};u.defaultProps={intent:"info"};var d=r.ZP.button.withConfig({displayName:"Alert__ButtonWrapper",componentId:"sc-8stlxo-0"})(["background:none;color:inherit;border:none;padding:0;font:inherit;cursor:pointer;flex-direction:column;height:fit-content;"]),p=(0,r.ZP)(o.x).withConfig({displayName:"Alert__AlertContainer",componentId:"sc-8stlxo-1"})(["box-shadow:inset 4px 0 ",";color:",";a:link,a:visited,a:hover,a:active{color:",";text-decoration:underline;}"],(function(e){return e.$borderColor}),(function(e){return e.$textColor}),(function(e){return e.$textColor})),h=r.ZP.div.withConfig({displayName:"Alert__AlertTitle",componentId:"sc-8stlxo-2"})(["font-weight:600;"]),f=r.ZP.div.withConfig({displayName:"Alert__AlertDescription",componentId:"sc-8stlxo-3"})(["font-weight:400;"])},87011:function(e,n,t){t.d(n,{h:function(){return c}});t(325);var r=t(67831),i=t(75453),o=t(7838),a=t(89279),s=t(11831),l=t(32289),c=function(e){var n=e.activeItems,t=e.buttons,c=e.onClick;return(0,l.jsx)(i.zH,{children:t.map((function(e){var t=e.id,i=e.icon,u=e.label,d=e.tooltip,p=null===n||void 0===n?void 0:n.has(t),h=(0,l.jsx)(r.Y,{fillColor:p?o.w.Gray200:o.w.White,textColor:p?o.w.Gray900:o.w.Gray700,icon:i?(0,l.jsx)(a.JO,{name:i,color:p?o.w.Gray900:o.w.Gray700}):null,label:u,onClick:function(e){return c(t,e)}},t);return d?(0,l.jsx)(s.u,{content:d,position:"top",children:h},t):h}))})}},24818:function(e,n,t){t.d(n,{NU:function(){return y},X9:function(){return v}});var r,i=t(95764),o=t(81034),a=t(59019),s=t(99500),l=t(922),c=(t(65222),t(325),t(51117)),u=t(7838),d=t(89279),p=t(8546),h=t(32289),f=["options","theme"],m=["options","theme"],x=(0,l.vJ)(r||(r=(0,s.Z)(["\n  .react-codemirror2 .CodeMirror {\n    font-family: ",";\n    font-size: 16px;\n\n    /* Note: Theme overrides */\n    &.cm-s-default .cm-comment {\n      color: #999;\n    }\n  }\n\n  .CodeMirror-gutter-elt {\n    .CodeMirror-lint-marker-error {\n      background-image: none;\n      background: ",";\n      mask-image: url(",");\n      mask-size: cover;\n      margin-bottom: 2px;\n    }\n  }\n\n  .CodeMirror-hint,\n  .CodeMirror-lint-marker-error,\n  .CodeMirror-lint-marker-warning,\n  .CodeMirror-lint-message-error,\n  .CodeMirror-lint-message-warning {\n    font-family: ",";\n    font-size: 16px;\n  }\n\n  .react-codemirror2 .CodeMirror.cm-s-dagit {\n    .cm-atom {\n      color: ",";\n    }\n\n    .cm-comment {\n      color: ",";\n    }\n\n    .cm-meta {\n      color: ",";\n    }\n\n    .cm-number {\n      color: ",";\n    }\n\n    .cm-string {\n      color: ",";\n    }\n\n    .cm-string-2 {\n      color: ",";\n    }\n\n    .cm-variable-2 {\n      color: ",";\n    }\n\n    .cm-keyword {\n      color: ",";\n    }\n\n    .CodeMirror-selected {\n      background-color: ",";\n    }\n\n    .CodeMirror-gutters {\n      background-color: ",";\n    }\n\n    .cm-indent {\n      display: inline-block;\n\n      &.cm-zero {\n        box-shadow: -1px 0 0 ",";\n      }\n\n      &.cm-one {\n        box-shadow: -1px 0 0 ",";\n      }\n\n      &.cm-two {\n        box-shadow: -1px 0 0 ",";\n      }\n\n      &.cm-three {\n        box-shadow: -1px 0 0 ",";\n      }\n\n      &.cm-four {\n        box-shadow: -1px 0 0 ",";\n      }\n\n      &.cm-five {\n        box-shadow: -1px 0 0 ",";\n      }\n\n      &.cm-six {\n        box-shadow: -1px 0 0 ",";\n      }\n    }\n  }\n\n  div.CodeMirror-lint-tooltip {\n    background: rgba(255, 247, 231, 1);\n    border: 1px solid ",";\n  }\n\n  .CodeMirror-lint-message {\n    background: transparent;\n  }\n  .CodeMirror-lint-message.CodeMirror-lint-message-error {\n    background: transparent;\n  }\n\n  /* Ensure that hints aren't vertically cutoff*/\n  .CodeMirror-hint div {\n    max-height: none !important;\n  }\n"])),p.b.monospace,u.w.Red500,d.PJ.error,p.b.monospace,u.w.Blue700,u.w.Gray400,u.w.Gray700,u.w.Red700,u.w.Green700,u.w.Olive700,u.w.Blue500,u.w.Yellow700,u.w.Blue50,u.w.Gray50,u.w.Green200,u.w.Blue100,u.w.LightPurple,u.w.Red200,u.w.Yellow200,u.w.Olive200,u.w.Gray300,u.w.Gray200),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,a.Z)(e),["dagit"]).join(" ")},y=function(e){var n=e.options,t=e.theme,r=(0,o.Z)(e,f);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{}),(0,h.jsx)(c.Rt,(0,i.Z)((0,i.Z)({},r),{},{options:(0,i.Z)((0,i.Z)({},n),{},{readOnly:!0,theme:g(t)})}))]})},v=function(e){var n=e.options,t=e.theme,r=(0,o.Z)(e,m);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{}),(0,h.jsx)(c.fk,(0,i.Z)((0,i.Z)({},r),{},{options:(0,i.Z)((0,i.Z)({},n),{},{theme:g(t)})}))]})}},71725:function(e,n,t){t.d(n,{L:function(){return m}});var r=t(47427),i=t(922),o=t(325),a=t(7838),s=t(762),l=t(8546),c=t(32289);function u(e,n,t,r){if("CompositeConfigType"===e.__typename&&r.maxDepth&&t===r.maxDepth)return(0,c.jsx)("span",{children:"..."});if("CompositeConfigType"===e.__typename){var i="  ".repeat(t+1);return(0,c.jsxs)(c.Fragment,{children:["{",e.isSelector&&(0,c.jsx)(j,{indent:i,content:"One of the following:"}),e.fields.map((function(e){var o=(0,c.jsx)(y,{theme:r.theme,style:e.defaultValueAsJson?{borderBottom:"dashed ".concat(a.w.Blue200," 1px"),cursor:"pointer"}:void 0,children:e.name});return(0,c.jsxs)(g,{children:[(0,c.jsx)(j,{indent:i,content:e.description}),i,e.defaultValueAsJson?(0,c.jsx)(s.J,{popoverClassName:"config-tooltip",interactionKind:"hover",hoverCloseDelay:100,content:(0,c.jsx)(p,{value:e.defaultValueAsJson}),children:o}):o,!e.isRequired&&w,": ",u(n[e.configTypeKey],n,t+1,r)]},e.name)})),"  ".repeat(t)+"}"]})}if("ArrayConfigType"===e.__typename){var o=e.typeParamKeys[0];return(0,c.jsxs)(c.Fragment,{children:["[",u(n[o],n,t,r),"]"]})}if("MapConfigType"===e.__typename){var l=e.typeParamKeys[0],d=e.typeParamKeys[1],h="  ".repeat(t+1);return(0,c.jsxs)(c.Fragment,{children:["{",(0,c.jsxs)(g,{children:[h,"[",e.keyLabelName?"".concat(e.keyLabelName,": "):null,u(n[l],n,t+1,r),"]",": ",u(n[d],n,t+1,r)]}),"  ".repeat(t)+"}"]})}if("NullableConfigType"===e.__typename){var f=e.typeParamKeys[0];return(0,c.jsxs)(c.Fragment,{children:[u(n[f],n,t,r),w]})}if("ScalarUnionConfigType"===e.__typename){var m=u(n[e.nonScalarTypeKey],n,t,r),x=u(n[e.scalarTypeKey],n,t,r);return(0,c.jsxs)("span",{children:[x," | ",m]})}return(0,c.jsx)("span",{children:e.givenName})}var d=function(e){try{var n=JSON.parse(e);return JSON.stringify(n,null,2)}catch(t){return e}},p=o.memo((function(e){var n=e.value;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h,{children:(0,c.jsx)("strong",{children:"Default value"})}),(0,c.jsx)(f,{children:d(n)})]})})),h=i.ZP.div.withConfig({displayName:"ConfigTypeSchema__ConfigHeader",componentId:"sc-54fljc-0"})(["background-color:",";color:",";font-size:13px;padding:8px;"],a.w.Gray800,a.w.White),f=i.ZP.pre.withConfig({displayName:"ConfigTypeSchema__ConfigJSON",componentId:"sc-54fljc-1"})(["background-color:",";color:",";whitespace:pre-wrap;font-family:",";font-size:14px;padding:8px;margin:0;"],a.w.Gray900,a.w.White,l.b.monospace),m=o.memo((function(e){var n,t=e.type,i=e.typesInScope,o={},a=(0,r.Z)(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;o[s.key]=s}}catch(l){a.e(l)}finally{a.f()}return(0,c.jsxs)(x,{children:[(0,c.jsx)(j,{content:t.description,indent:""}),u(t,o,0,e)]})})),x=i.ZP.code.withConfig({displayName:"ConfigTypeSchema__TypeSchemaContainer",componentId:"sc-54fljc-2"})(["color:",";display:block;white-space:pre-wrap;font-size:14px;line-height:18px;"],a.w.Gray400),g=i.ZP.div.withConfig({displayName:"ConfigTypeSchema__DictEntry",componentId:"sc-54fljc-3"})([""]),y=i.ZP.span.withConfig({displayName:"ConfigTypeSchema__DictKey",componentId:"sc-54fljc-4"})(["color:",";"],(function(e){return"dark"===e.theme?a.w.White:a.w.Dark})),v=i.ZP.div.withConfig({displayName:"ConfigTypeSchema__DictComment",componentId:"sc-54fljc-5"})(["text-indent:-1.85em;padding-left:1.85em;white-space:initial;"]),j=function(e){var n=e.indent,t=void 0===n?"":n,r=e.content;return null!==r&&""!==r?(0,c.jsx)(v,{children:"".concat(t.replace(/ /g,"\xa0"),"/* ").concat(r," */")}):null},w=(0,c.jsx)("span",{style:{fontWeight:500,color:a.w.Yellow700},children:"?"})},47387:function(e,n,t){t.d(n,{b$:function(){return s},pI:function(){return l},Rp:function(){return c}});var r=t(922),i=(t(325),t(75453)),o=t(89279),a=t(32289),s=function(e){var n=e.hasPrevCursor,t=e.hasNextCursor,r=e.popCursor,s=e.advanceCursor;return(0,a.jsxs)(c,{children:[(0,a.jsx)(i.zx,{disabled:!n,icon:(0,a.jsx)(o.JO,{name:"arrow_back"}),onClick:r,children:"Previous"}),(0,a.jsx)(i.zx,{disabled:!t,rightIcon:(0,a.jsx)(o.JO,{name:"arrow_forward"}),onClick:s,children:"Next"})]})},l=function(e){var n=e.hasPrevCursor,t=e.hasNextCursor,r=e.popCursor,s=e.advanceCursor;return(0,a.jsxs)(c,{children:[(0,a.jsx)(i.zx,{icon:(0,a.jsx)(o.JO,{name:"arrow_back"}),disabled:!n,onClick:r,children:(0,a.jsx)("span",{className:"hideable-button-text",children:"Newer"})}),(0,a.jsx)(i.zx,{rightIcon:(0,a.jsx)(o.JO,{name:"arrow_forward"}),disabled:!t,onClick:s,children:(0,a.jsx)("span",{className:"hideable-button-text",children:"Older"})})]})},c=r.ZP.div.withConfig({displayName:"CursorControls__CursorControlsContainer",componentId:"sc-1r53tbu-0"})(["display:flex;justify-content:center;align-items:center;gap:12px;margin-top:16px;"])},87067:function(e,n,t){t.d(n,{M:function(){return r}});var r=t(922).ZP.div.withConfig({displayName:"MainContent",componentId:"sc-1fjae55-0"})(["overflow-y:auto;width:100%;height:100%;"])},8412:function(e,n,t){t.d(n,{v2:function(){return p},cR:function(){return m},sN:function(){return x},AL:function(){return g},R:function(){return y}});var r=t(81034),i=t(95764),o=t(922),a=t(33918),s=(t(325),t(7838)),l=t(89279),c=t(32289),u=["icon","intent"],d=["icon","intent"],p=function(e){return(0,c.jsx)(v,(0,i.Z)({},e))},h=function(e){switch(e){case"primary":return s.w.Blue500;case"danger":return s.w.Red500;case"success":return s.w.Green500;case"warning":return s.w.Yellow500;default:return s.w.Gray900}},f=function(e){switch(e){case"primary":return s.w.Blue500;case"danger":return s.w.Red500;case"success":return s.w.Green500;case"warning":return s.w.Yellow500;default:return s.w.Gray900}},m=function(e,n){return e?"string"===typeof e?(0,c.jsx)(l.JO,{name:e,color:f(n)}):e:null},x=function(e){var n=e.icon,t=e.intent,o=(0,r.Z)(e,u);return(0,c.jsx)(j,(0,i.Z)((0,i.Z)({},o),{},{$textColor:h(t),icon:m(n,t)}))},g=function(e){var n=e.icon,t=e.intent,o=(0,r.Z)(e,d);return(0,c.jsx)(j,(0,i.Z)((0,i.Z)({},o),{},{target:"_blank",rel:"noreferrer nofollow",$textColor:h(t),icon:m(n,t)}))},y=(0,o.ZP)(a.R).withConfig({displayName:"Menu__MenuDivider",componentId:"qkix8g-0"})(["border-top:1px solid ",";margin:2px 0;"],s.w.Gray100),v=(0,o.ZP)(a.v2).withConfig({displayName:"Menu__StyledMenu",componentId:"qkix8g-1"})(["border-radius:4px;padding:8px 4px;"]),j=(0,o.ZP)(a.sN).withConfig({displayName:"Menu__StyledMenuItem",componentId:"qkix8g-2"})(["border-radius:4px;color:",";line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;","{margin-top:2px;}&.bp3-intent-primary.bp3-active{background-color:",";","{background-color:",";}}&.bp3-disabled ","{opacity:0.5;}&.bp3-active ","{color:",";}",":first-child{margin-left:-4px;}&:hover{background:",";color:",";}&:focus{color:",";box-shadow:rgba(58,151,212,0.6) 0 0 0 2px;outline:none;}"],(function(e){return e.$textColor}),l.a1,s.w.Blue500,l.a1,s.w.White,l.a1,l.a1,s.w.White,l.a1,s.w.Gray100,(function(e){return e.$textColor}),(function(e){return e.$textColor}))},57753:function(e,n,t){t.d(n,{nZ:function(){return l},k6:function(){return c},fJ:function(){return d}});var r=t(922),i=(t(325),t(32030)),o=t(7838),a=t(55113),s=t(32289),l=function(e){var n=e.rows,t=e.spacing,r=e.dark,o=void 0!==r&&r;return(0,s.jsx)(c,{children:(0,s.jsx)("tbody",{children:n.map((function(e){if(!e)return null;var n=e.key,r=e.value;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(i.x,{padding:{vertical:t,right:32},children:(0,s.jsx)(u,{$dark:o,children:n})})}),(0,s.jsx)("td",{children:(0,s.jsx)(i.x,{padding:{vertical:t},children:r})})]},n)}))})})};l.defaultProps={spacing:4};var c=r.ZP.table.withConfig({displayName:"MetadataTable__StyledTable",componentId:"sc-1x7ta8n-0"})(["border-spacing:0;td{vertical-align:top;}td .bp3-control{margin-bottom:0;}"]),u=r.ZP.div.withConfig({displayName:"MetadataTable__MetadataKey",componentId:"sc-1x7ta8n-1"})(["color:",";font-weight:400;"],(function(e){return e.$dark?o.w.Gray200:o.w.Gray600})),d=(0,r.ZP)(a.i).withConfig({displayName:"MetadataTable__MetadataTableWIP",componentId:"sc-1x7ta8n-2"})(["td:first-child{white-space:nowrap;width:1px;max-width:400px;word-break:break-word;overflow:hidden;padding-right:24px;text-overflow:ellipsis;}"])},89646:function(e,n,t){t.d(n,{t:function(){return c}});t(325);var r=t(32030),i=t(7838),o=t(89279),a=t(34595),s=t(12745),l=t(32289),c=function(e){var n=e.title,t=e.description,c=e.icon,u=e.action,d=e.shrinkable,p=1===[n,t,u].filter(Boolean).length;return(0,l.jsxs)(r.x,{flex:{gap:20,alignItems:p?"center":"flex-start"},background:i.w.Gray50,padding:24,style:{margin:"auto",borderRadius:8,width:d?"initial":"max-content",maxWidth:500},children:["spinner"===c?(0,l.jsx)(a.$,{purpose:"section"}):"no-results"===c?(0,l.jsx)(o.JO,{name:"search",size:48,color:i.w.Gray400}):(0,l.jsx)(o.JO,{name:c,size:48,color:i.w.Gray400}),(0,l.jsxs)(r.x,{flex:{gap:8,direction:"column",alignItems:"flex-start"},children:[n&&(0,l.jsx)(s.pm,{style:{color:i.w.Gray900},children:n}),t&&(0,l.jsx)("div",{style:{color:i.w.Gray500},children:t}),u]})]})}},30804:function(e,n,t){t.d(n,{T:function(){return r}});var r=t(922).ZP.div.withConfig({displayName:"Page",componentId:"sc-1qh2hrd-0"})(["height:100%;overflow-y:auto;padding-bottom:64px;width:100%;"])},31112:function(e,n,t){t.d(n,{m:function(){return s}});var r=t(922),i=(t(325),t(32030)),o=t(7838),a=t(32289),s=function(e){var n=e.title,t=e.tags,r=e.right,s=e.tabs;return(0,a.jsxs)(l,{background:o.w.Gray50,padding:{top:16,left:24,right:12},border:{side:"bottom",width:1,color:o.w.KeylineGray},children:[(0,a.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between"},padding:{bottom:16},children:[(0,a.jsxs)(i.x,{flex:{direction:"row",alignItems:"flex-start",gap:12,wrap:"wrap"},children:[n,t]}),r]}),s]})},l=(0,r.ZP)(i.x).withConfig({displayName:"PageHeader__PageHeaderContainer",componentId:"sc-1u8zksn-0"})(["width:100%;.bp3-breadcrumbs{height:auto;}"])},42849:function(e,n,t){t.d(n,{P:function(){return l}});var r=t(95764),i=t(1492),o=t(3810),a=t.n(o),s=(t(325),t(32289)),l=function(e){var n,t,o=(0,r.Z)((0,r.Z)({},e.popoverProps),{},{minimal:!0,modifiers:a()({offset:{enabled:!0,offset:"0, 8px"}},(null===(n=e.popoverProps)||void 0===n?void 0:n.modifiers)||{}),popoverClassName:"dagit-popover ".concat((null===(t=e.popoverProps)||void 0===t?void 0:t.className)||"")});return(0,s.jsx)(i.P,(0,r.Z)((0,r.Z)({},e),{},{popoverProps:o}))}},42413:function(e,n,t){t.d(n,{iR:function(){return p},kp:function(){return h}});var r,i=t(99500),o=t(95764),a=t(81034),s=t(922),l=t(33918),c=(t(325),t(7838)),u=t(32289),d=["fillColor"],p=function(e){var n=e.fillColor,t=void 0===n?c.w.Gray600:n,r=(0,a.Z)(e,d);return(0,u.jsx)(f,(0,o.Z)((0,o.Z)({},r),{},{intent:"none",$fillColor:t}))};l.Zz.Handle;var h=(0,s.iv)(r||(r=(0,i.Z)(["\n  .bp3-slider-track {\n    height: 8px;\n    .bp3-slider-progress {\n      background-color: ",";\n      opacity: 0.2;\n      height: 8px;\n    }\n    .bp3-slider-progress.bp3-intent-primary {\n      background-color: ",";\n      opacity: 1;\n      height: 8px;\n    }\n  }\n  &.bp3-vertical .bp3-slider-track,\n  &.bp3-vertical .bp3-slider-track .bp3-slider-progress {\n    height: initial;\n    width: 8px;\n  }\n  .bp3-slider-handle {\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    border: 2px solid ",";\n    background: ",";\n    box-shadow: none;\n    &:hover {\n      border: 2px solid ",";\n      box-shadow: rgba(0, 0, 0, 0.12) 0px 2px 12px 0px;\n    }\n\n    .bp3-slider-label {\n      background: ",";\n      box-shadow: 0 1px 4px rgba(0,0,0,0.15)\n      padding: 4px 8px;\n    }\n  }\n"])),(function(e){return e.$fillColor}),(function(e){return e.$fillColor}),c.w.Gray300,c.w.White,c.w.Gray400,c.w.Gray900),f=((0,s.ZP)(l.Zz).withConfig({displayName:"Slider__StyledMultiSlider",componentId:"sc-1nudt3n-0"})(["",""],h),(0,s.ZP)(l.iR).withConfig({displayName:"Slider__StyledSlider",componentId:"sc-1nudt3n-1"})(["",""],h))},17912:function(e,n,t){t.d(n,{OS:function(){return m},jo:function(){return g},Uj:function(){return y}});var r=t(19065),i=t(57994),o=t(98907),a=t(64428),s=t(28463),l=t(922),c=t(325),u=t(75453),d=t(87011),p=t(7838),h=t(89279),f=t(32289),m=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(e){var r;(0,i.Z)(this,t),(r=n.call(this,e)).onChangeSize=function(e){r.setState({size:e}),window.localStorage.setItem(r.state.key,"".concat(e))};var o="dagit.panel-width.".concat(r.props.identifier),a=window.localStorage.getItem(o),s=Number(a);return(null===a||isNaN(s))&&(s=r.props.firstInitialPercent),r.state={size:s,key:o,resizing:!1},r}return(0,o.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.firstMinSize,r=n.first,i=n.second,o=this.state,a=o.size,s=o.resizing,l=this.props.axis||"horizontal",c={flexShrink:0},u=i?a:100;return"horizontal"===l?(c.minWidth=t,c.width="calc(".concat(u,"% - ").concat(2,"px)")):(c.minHeight=t,c.height="calc(".concat(u,"% - ").concat(2,"px)")),(0,f.jsxs)(w,{axis:l,id:"split-panel-container",resizing:s,children:[(0,f.jsx)("div",{className:"split-panel",style:c,children:r}),(0,f.jsx)(x,{axis:l,resizing:s,onSetResizing:function(n){return e.setState({resizing:n})},onMove:this.onChangeSize}),(0,f.jsx)("div",{className:"split-panel",style:{flex:1},children:i})]})}}]),t}(c.Component),x=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).ref=c.createRef(),e.onMouseDown=function(n){n.preventDefault(),e.props.onSetResizing(!0);var t=function(n){var t,r=null===(t=e.ref.current)||void 0===t?void 0:t.closest("#split-panel-container");if(r){var i=r.getBoundingClientRect(),o="horizontal"===e.props.axis?100*(n.clientX-i.left)/i.width:100*(n.clientY-i.top)/i.height;e.props.onMove(Math.min(100,Math.max(0,o)))}};document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function n(){e.props.onSetResizing(!1),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}))},e}return(0,o.Z)(t,[{key:"render",value:function(){var e=v[this.props.axis],n=j[this.props.axis];return(0,f.jsx)(e,{resizing:this.props.resizing,ref:this.ref,children:(0,f.jsx)(n,{onMouseDown:this.onMouseDown})})}}]),t}(c.Component),g=function(e){var n=e.container,t=e.axis;return(0,f.jsx)(d.h,{buttons:[{id:"first-pane",icon:"vertical"===t?"panel_show_top":"panel_show_left",tooltip:"vertical"===t?"Show only top pane":"Show only left pane"},{id:"split",icon:"panel_show_both",tooltip:"Show both panes"},{id:"second-pane",icon:"vertical"===t?"panel_show_bottom":"panel_show_right",tooltip:"vertical"===t?"Show only bottom pane":"Show only right pane"}],onClick:function(e){var t,r=50;"first-pane"===e?r=100:"second-pane"===e&&(r=0),null===(t=n.current)||void 0===t||t.onChangeSize(r)}})},y=function(e){var n,t=e.container,i=e.axis,o=c.useState("unknown"),a=(0,r.Z)(o,2),s=a[0],l=a[1],d=((null===(n=t.current)||void 0===n?void 0:n.state.size)||0)<100,p=c.useState(d),m=(0,r.Z)(p,2),x=m[0],g=m[1];return c.useEffect((function(){return g(d)}),[d]),(0,f.jsx)(u.zx,{active:x,title:"Toggle second pane",icon:(0,f.jsx)(h.JO,{name:"horizontal"===i?x?"panel_hide_right":"panel_show_right":"panel_show_bottom"}),onClick:function(){if(t.current){var e=t.current.state.size;e<90?(l(e),g(!1),t.current.onChangeSize(100)):(g(!0),t.current.onChangeSize("unknown"===s?t.current.props.firstInitialPercent:s))}}})},v={horizontal:l.ZP.div.withConfig({displayName:"SplitPanelContainer__horizontal",componentId:"sc-1e9d8f9-0"})(["width:","px;z-index:1;background:",";margin-left:-1px;overflow:visible;position:relative;"],2,(function(e){return e.resizing?p.w.Gray400:p.w.KeylineGray})),vertical:l.ZP.div.withConfig({displayName:"SplitPanelContainer__vertical",componentId:"sc-1e9d8f9-1"})(["height:","px;z-index:1;background:",";margin-top:-1px;overflow:visible;position:relative;"],2,(function(e){return e.resizing?p.w.Gray400:p.w.KeylineGray}))},j={horizontal:l.ZP.div.withConfig({displayName:"SplitPanelContainer__horizontal",componentId:"sc-1e9d8f9-2"})(["width:17px;height:100%;z-index:1;cursor:ew-resize;position:relative;left:-8px;"]),vertical:l.ZP.div.withConfig({displayName:"SplitPanelContainer__vertical",componentId:"sc-1e9d8f9-3"})(["height:17px;width:100%;z-index:1;cursor:ns-resize;position:relative;top:-8px;"])},w=l.ZP.div.withConfig({displayName:"SplitPanelContainer__Container",componentId:"sc-1e9d8f9-4"})(["display:flex;overflow:hidden;flex-direction:",";flex:1 1;width:100%;min-width:0;min-height:0;.split-panel{position:relative;transition:"," 200ms ease-out;flex-direction:column;display:flex;min-",":0;z-index:0;}"],(function(e){return"vertical"===e.axis?"column":"row"}),(function(e){var n=e.axis;return e.resizing?"none":"horizontal"===n?"width":"height"}),(function(e){return"vertical"===e.axis?"height":"width"}))},31269:function(e,n,t){t.d(n,{xv:function(){return f},BY:function(){return m},gA:function(){return g},OK:function(){return y},mQ:function(){return v}});var r,i=t(81034),o=t(95764),a=t(99500),s=t(922),l=t(325),c=t(7838),u=t(89279),d=t(8546),p=t(32289),h=["selectedTabId","children","onChange","size"],f=function(e){var n=e.selected,t=e.disabled;return{role:"tab",tabIndex:t?-1:0,"aria-disabled":t,"aria-expanded":n,"aria-selected":n}},m=function(e){var n=e.title,t=e.count,r=e.icon;return(0,p.jsxs)(p.Fragment,{children:[n,r,void 0!==t?(0,p.jsx)(x,{children:"indeterminate"===t?"\u2013":t}):null]})},x=s.ZP.div.withConfig({displayName:"Tabs__Count",componentId:"sc-11fd6a5-0"})(["display:inline;font-family:",";font-size:14px;font-weight:500;letter-spacing:-0.02%;padding:0 4px;color:",";background:",";"],d.b.monospace,c.w.Gray900,c.w.Gray100),g=(0,s.iv)(r||(r=(0,a.Z)(["\n  background: none;\n  border: none;\n  font-size: 14px;\n  line-height: 20px;\n  font-weight: 600;\n  padding: ",";\n  box-shadow: "," 0 -2px 0 inset;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  gap: 6px;\n\n  &,\n  & a {\n    cursor: pointer;\n    user-select: none;\n    color: ",";\n  }\n\n  & "," {\n    color: ",";\n  }\n\n  /* Focus outline only when using keyboard, not when focusing via mouse. */\n  &:focus {\n    outline: none !important;\n    box-shadow: ","\n      0 -2px 0 inset;\n  }\n\n  &:hover {\n    &,\n    a {\n      text-decoration: none;\n      color: ",";\n    }\n    "," {\n      color: ",";\n    }\n  }\n"])),(function(e){return"small"===e.$size?"10px 0":"16px 0"}),(function(e){return e.selected?c.w.Blue500:"transparent"}),(function(e){var n=e.selected,t=e.disabled;return n?c.w.Blue500:t?c.w.Gray300:c.w.Gray700}),u.a1,(function(e){var n=e.selected,t=e.disabled;return n?c.w.Blue500:t?c.w.Gray300:""}),(function(e){var n=e.selected,t=e.disabled;return n?c.w.Blue500:t?"transparent":c.w.Blue200}),(function(e){var n=e.selected,t=e.disabled;return n?c.w.Blue700:t?c.w.Gray300:c.w.Blue700}),u.a1,(function(e){var n=e.selected,t=e.disabled;return n?c.w.Blue700:t?c.w.Gray300:""})),y=(0,s.ZP)((function(e){var n=f(e),t=m(e),r="string"===typeof e.title?e.title:void 0;return(0,p.jsx)("button",(0,o.Z)((0,o.Z)((0,o.Z)({},e),n),{},{title:r,type:"button",children:t}))})).withConfig({displayName:"Tabs__Tab",componentId:"sc-11fd6a5-1"})(["",""],g),v=(0,s.ZP)((function(e){var n=e.selectedTabId,t=e.children,r=e.onChange,a=e.size,s=void 0===a?"large":a,c=(0,i.Z)(e,h);return(0,p.jsx)("div",(0,o.Z)((0,o.Z)({},c),{},{role:"tablist",children:l.Children.map(t,(function(e){return e?l.cloneElement(e,(0,o.Z)({selected:e.props.selected||e.props.id===n,$size:s},r?{onClick:function(){return r(e.props.id)}}:{})):null}))}))})).withConfig({displayName:"Tabs",componentId:"sc-11fd6a5-2"})(["display:flex;gap:16px;font-size:",";line-height:",";font-weight:600;"],(function(e){return"small"===e.size?"12px":"14px"}),(function(e){return"small"===e.size?"16px":"20px"}))},57615:function(e,n,t){t.d(n,{HE:function(){return x},TC:function(){return g},WD:function(){return y},HY:function(){return v},cJ:function(){return j},jP:function(){return w},Gf:function(){return b}});var r=t(47427),i=t(59019),o=t(19065),a=t(922),s=t(33918),l=t(325),c=t(32030),u=t(7838),d=t(8412),p=t(762),h=t(34595),f=t(32289);function m(e,n){return n.find((function(n){return n.token&&n.token.toLowerCase()===e.toLowerCase()}))}var x=function(e,n){if(""===e)return[];var t=e.split(",");return g(t,n)},g=function(e,n){return e.map((function(e){return y(e,n)}))};function y(e,n){var t=function(e){var n=e.indexOf(":");return-1===n?[e,""]:[e.slice(0,n),e.slice(n+1)]}(e),r=(0,o.Z)(t,2),i=r[0],a=r[1];return m(i,n)&&i&&a?{token:i,value:a}:{value:e}}var v=function(e){return e.token?"".concat(e.token,":").concat(e.value):e.value},j=function(e){return e.filter((function(e){return""!==e.value})).map(v)},w=function(e){return j(e).join(",")},b=function(e){var n,t,a=e.suggestionProviders,s=e.suggestionProvidersFilter,u=e.values,x=e.maxValues,g=e.onChange,v=e.onChangeBeforeCommit,j=e.onFocus,w=e.placeholder,b=e.addOnBlur,C=e.loading,N=e.className,E=e.fullwidth,_=e.suggestionRenderer,I=l.useState(!1),Z=(0,o.Z)(I,2),T=Z[0],P=Z[1],R=l.useState(null),O=(0,o.Z)(R,2),D=O[0],L=O[1],A=l.useState(""),F=(0,o.Z)(A,2),M=F[0],z=F[1],G=l.useMemo((function(){return(0,i.Z)(u)}),[u]),K=y(M,a);n=K,(t=G[G.length-1])&&n.token===t.token&&n.value===t.value&&G.pop();var U=void 0!==x&&G.length>=x,B=s?s(a,G):a,$=M.split(":"),V=($[$.length-1]||"").toLowerCase(),q=l.useMemo((function(){if(U)return[];var e=[],n=function(e,n){return!e||n.text.toLowerCase().split(":").some((function(n){return n.includes(e)}))},t=function(e){var t=e.suggestionFilter||n;return e.values().filter((function(n){return!G.some((function(t){return t.token===e.token&&t.value===n}))})).map((function(n){return{text:null!==e&&void 0!==e&&e.token?"".concat(e.token,":").concat(n):n,final:!0}})).filter((function(e){return t(V,e)})).slice(0,100)};if(1===$.length){e=B.reduce((function(e,n){return n.token?[].concat((0,i.Z)(e),[{text:"".concat(n.token,":"),final:!1}]):e}),[]).filter((function(e){return n(V,e)}));var o,a=(0,r.Z)(B);try{for(a.s();!(o=a.n()).done;){var s,l=o.value;if(!l.token||M.length>0)(s=e).push.apply(s,(0,i.Z)(t(l)))}}catch(d){a.e(d)}finally{a.f()}}if(2===$.length){var c=$[0];if(c){var u=m(c,B);e=u?t(u):[]}}return e.sort((function(e,n){return e.text.localeCompare(n.text)})),e}),[U,B,V,$,M.length,G]);l.useEffect((function(){if(D||!q.length){if(D)if(0!==q.length){var e=q.findIndex((function(e){return e.text===D.text})),n=-1!==e?e:D.idx;n=Math.max(0,Math.min(q.length-1,n));var t=q[n];!t||n===D.idx&&t.text===D.text||L({text:t.text,idx:n})}else L(null)}else{var r=q[0];r&&L({text:r.text,idx:0})}}),[D,q]);var H=function(e){U||(e.final?(W(e.text),z(""),L(null),P(!1)):z(e.text))},W=function(e){U||e.endsWith(":")||""!==e&&(z(""),g([].concat((0,i.Z)(G),[y(e,B)])))},J=l.createRef();l.useEffect((function(){if(J.current&&D){var e=J.current.querySelector("[data-idx='".concat(D.idx,"']"));e&&e instanceof HTMLElement&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest"})}}),[J,D]);var Y=_||function(e){return e.text};return(0,f.jsx)(p.J,{isOpen:T&&q.length>0&&!U,position:"bottom-left",content:q.length>0?(0,f.jsx)("div",{style:{maxHeight:235,overflowY:"scroll"},ref:J,children:(0,f.jsx)(S,{children:q.map((function(e,n){return(0,f.jsx)(d.sN,{"data-idx":n,text:Y(e),shouldDismissPopover:!1,active:(null===D||void 0===D?void 0:D.idx)===n,onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),H(e),L(null)}},e.text)}))})}):(0,f.jsx)("div",{}),children:(0,f.jsx)(k,{className:N,values:G.map((function(e){return e.token?"".concat(e.token,":").concat(e.value):e.value})),inputValue:M,onRemove:function(e,n){var t=(0,i.Z)(G);t.splice(n,1),g(t)},onInputChange:function(e){if(z(e.currentTarget.value),v){var n=y(e.currentTarget.value,B);g([].concat((0,i.Z)(G),[n]))}},inputProps:{onFocus:function(){P(!0),j&&j()},onBlur:function(){b&&W(M),P(!1)}},$maxWidth:E?"100%":void 0,onAdd:function(){return!1},onKeyDown:function(e){if(U&&"Delete"!==e.key&&"Backspace"!==e.key)return e.preventDefault(),void e.stopPropagation();if("Enter"!==e.key&&"Return"!==e.key&&"Tab"!==e.key){if(" "===e.key)return e.preventDefault(),void W(M);if("Escape"===e.key)return L(null),void P(!1);T||"Delete"===e.key||"Backspace"===e.key||P(!0);var n={ArrowDown:1,ArrowUp:-1}[e.key];if(n&&q.length>0){e.preventDefault();var t=(D?D.idx:-1)+n;t=Math.max(0,Math.min(t,q.length-1));var r=q[t];r&&L({text:r.text,idx:t})}}else if(D){var i=q.find((function(e){return e.text===D.text}));if(!i)throw new Error("Selection out of sync with suggestions");H(i),e.preventDefault(),e.stopPropagation()}else M.length&&(W(M),e.preventDefault(),e.stopPropagation())},tagProps:{minimal:!0},placeholder:w||"Filter\u2026",rightElement:C&&T?(0,f.jsx)(c.x,{style:{alignSelf:"center"},margin:{right:4},children:(0,f.jsx)(h.$,{purpose:"body-text"})}):void 0})})},k=(0,a.ZP)(s.EG).withConfig({displayName:"TokenizingField__StyledTagInput",componentId:"sc-1ah04ip-0"})(["border:none;border-radius:8px;box-shadow:"," inset 0px 0px 0px 1px,"," inset 2px 2px 1.5px;min-width:400px;max-width:",";transition:box-shadow 150ms;&.bp3-active{box-shadow:"," inset 0px 0px 0px 1px,"," inset 2px 2px 1.5px,rgba(58,151,212,0.6) 0 0 0 3px;}input{font-size:14px;font-weight:400;padding-left:4px;padding-bottom:2px;padding-top:2px;}&& .bp3-tag-input-values:first-child .bp3-input-ghost:first-child{padding-left:8px;}&& .bp3-tag-input-values{margin-right:4px;margin-top:4px;}&& .bp3-tag-input-values > *{margin-bottom:4px;}.bp3-tag{border-radius:6px;display:inline-flex;flex-direction:row;font-size:12px;line-height:16px;align-items:center;max-width:400px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:4px 8px;user-select:none;}.bp3-tag.bp3-minimal:not([class*='bp3-intent-']){background-color:",";color:",";}.bp3-tag.bp3-minimal.bp3-intent-success{background-color:",";color:",";}.bp3-tag.bp3-minimal.bp3-intent-warning{background-color:",";color:",";}.bp3-tag.bp3-minimal.bp3-intent-danger{background-color:",";color:",";}"],u.w.Gray300,u.w.KeylineGray,(function(e){return e.$maxWidth?e.$maxWidth:"600px"}),u.w.Gray300,u.w.KeylineGray,u.w.Gray100,u.w.Gray900,u.w.Green50,u.w.Green700,u.w.Yellow50,u.w.Yellow700,u.w.Red50,u.w.Red700),S=(0,a.ZP)(d.v2).withConfig({displayName:"TokenizingField__StyledMenu",componentId:"sc-1ah04ip-1"})(["width:400px;"])}}]);
//# sourceMappingURL=107.ea56275e.chunk.js.map